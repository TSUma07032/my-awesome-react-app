(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var df={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function wE(){if(kp)return Dl;kp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var Hp;function CE(){return Hp||(Hp=1,df.exports=wE()),df.exports}var Ge=CE(),mf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function DE(){if(jp)return Tt;jp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function M(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function J(C,X,et){this.props=C,this.context=X,this.refs=nt,this.updater=et||G}J.prototype.isReactComponent={},J.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Et(){}Et.prototype=J.prototype;function gt(C,X,et){this.props=C,this.context=X,this.refs=nt,this.updater=et||G}var ft=gt.prototype=new Et;ft.constructor=gt,Z(ft,J.prototype),ft.isPureReactComponent=!0;var xt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function N(C,X,et,$,ot,bt){return et=bt.ref,{$$typeof:s,type:C,key:X,ref:et!==void 0?et:null,props:bt}}function S(C,X){return N(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function I(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return X[et]})}var O=/\/+/g;function U(C,X){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):X.toString(36)}function R(){}function Ie(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ne(C,X,et,$,ot){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case s:case e:pt=!0;break;case A:return pt=C._init,ne(pt(C._payload),X,et,$,ot)}}if(pt)return ot=ot(C),pt=$===""?"."+U(C,0):$,xt(ot)?(et="",pt!=null&&(et=pt.replace(O,"$&/")+"/"),ne(ot,X,et,"",function(Mn){return Mn})):ot!=null&&(w(ot)&&(ot=S(ot,et+(ot.key==null||C&&C.key===ot.key?"":(""+ot.key).replace(O,"$&/")+"/")+pt)),X.push(ot)),1;pt=0;var Se=$===""?".":$+":";if(xt(C))for(var Xt=0;Xt<C.length;Xt++)$=C[Xt],bt=Se+U($,Xt),pt+=ne($,X,et,bt,ot);else if(Xt=M(C),typeof Xt=="function")for(C=Xt.call(C),Xt=0;!($=C.next()).done;)$=$.value,bt=Se+U($,Xt++),pt+=ne($,X,et,bt,ot);else if(bt==="object"){if(typeof C.then=="function")return ne(Ie(C),X,et,$,ot);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,X,et){if(C==null)return C;var $=[],ot=0;return ne(C,$,"","",function(bt){return X.call(et,bt,ot++)}),$}function tt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return Tt.Children={map:H,forEach:function(C,X,et){H(C,function(){X.apply(this,arguments)},et)},count:function(C){var X=0;return H(C,function(){X++}),X},toArray:function(C){return H(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=J,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=gt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,X,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=Z({},C.props),ot=C.key,bt=void 0;if(X!=null)for(pt in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ot=""+X.key),X)!zt.call(X,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&X.ref===void 0||($[pt]=X[pt]);var pt=arguments.length-2;if(pt===1)$.children=et;else if(1<pt){for(var Se=Array(pt),Xt=0;Xt<pt;Xt++)Se[Xt]=arguments[Xt+2];$.children=Se}return N(C.type,ot,void 0,void 0,bt,$)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Tt.createElement=function(C,X,et){var $,ot={},bt=null;if(X!=null)for($ in X.key!==void 0&&(bt=""+X.key),X)zt.call(X,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=X[$]);var pt=arguments.length-2;if(pt===1)ot.children=et;else if(1<pt){for(var Se=Array(pt),Xt=0;Xt<pt;Xt++)Se[Xt]=arguments[Xt+2];ot.children=Se}if(C&&C.defaultProps)for($ in pt=C.defaultProps,pt)ot[$]===void 0&&(ot[$]=pt[$]);return N(C,bt,void 0,void 0,null,ot)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:p,render:C}},Tt.isValidElement=w,Tt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},Tt.memo=function(C,X){return{$$typeof:v,type:C,compare:X===void 0?null:X}},Tt.startTransition=function(C){var X=vt.T,et={};vt.T=et;try{var $=C(),ot=vt.S;ot!==null&&ot(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Lt,lt)}catch(bt){lt(bt)}finally{vt.T=X}},Tt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Tt.use=function(C){return vt.H.use(C)},Tt.useActionState=function(C,X,et){return vt.H.useActionState(C,X,et)},Tt.useCallback=function(C,X){return vt.H.useCallback(C,X)},Tt.useContext=function(C){return vt.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,X){return vt.H.useDeferredValue(C,X)},Tt.useEffect=function(C,X,et){var $=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,X)},Tt.useId=function(){return vt.H.useId()},Tt.useImperativeHandle=function(C,X,et){return vt.H.useImperativeHandle(C,X,et)},Tt.useInsertionEffect=function(C,X){return vt.H.useInsertionEffect(C,X)},Tt.useLayoutEffect=function(C,X){return vt.H.useLayoutEffect(C,X)},Tt.useMemo=function(C,X){return vt.H.useMemo(C,X)},Tt.useOptimistic=function(C,X){return vt.H.useOptimistic(C,X)},Tt.useReducer=function(C,X,et){return vt.H.useReducer(C,X,et)},Tt.useRef=function(C){return vt.H.useRef(C)},Tt.useState=function(C){return vt.H.useState(C)},Tt.useSyncExternalStore=function(C,X,et){return vt.H.useSyncExternalStore(C,X,et)},Tt.useTransition=function(){return vt.H.useTransition()},Tt.version="19.1.0",Tt}var Gp;function Xf(){return Gp||(Gp=1,mf.exports=DE()),mf.exports}var Uo=Xf(),gf={exports:{}},Vl={},pf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function VE(){return Qp||(Qp=1,function(s){function e(H,tt){var lt=H.length;H.push(tt);t:for(;0<lt;){var Lt=lt-1>>>1,C=H[Lt];if(0<u(C,tt))H[Lt]=tt,H[lt]=C,lt=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],lt=H.pop();if(lt!==tt){H[0]=lt;t:for(var Lt=0,C=H.length,X=C>>>1;Lt<X;){var et=2*(Lt+1)-1,$=H[et],ot=et+1,bt=H[ot];if(0>u($,lt))ot<C&&0>u(bt,$)?(H[Lt]=bt,H[ot]=lt,Lt=ot):(H[Lt]=$,H[et]=lt,Lt=et);else if(ot<C&&0>u(bt,lt))H[Lt]=bt,H[ot]=lt,Lt=ot;else break t}}return tt}function u(H,tt){var lt=H.sortIndex-tt.sortIndex;return lt!==0?lt:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,D=null,M=3,G=!1,Z=!1,nt=!1,J=!1,Et=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function xt(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=H)a(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function vt(H){if(nt=!1,xt(H),!Z)if(i(_)!==null)Z=!0,zt||(zt=!0,U());else{var tt=i(v);tt!==null&&ne(vt,tt.startTime-H)}}var zt=!1,N=-1,S=5,w=-1;function I(){return J?!0:!(s.unstable_now()-w<S)}function O(){if(J=!1,zt){var H=s.unstable_now();w=H;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,gt(N),N=-1),G=!0;var lt=M;try{e:{for(xt(H),D=i(_);D!==null&&!(D.expirationTime>H&&I());){var Lt=D.callback;if(typeof Lt=="function"){D.callback=null,M=D.priorityLevel;var C=Lt(D.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){D.callback=C,xt(H),tt=!0;break e}D===i(_)&&a(_),xt(H)}else a(_);D=i(_)}if(D!==null)tt=!0;else{var X=i(v);X!==null&&ne(vt,X.startTime-H),tt=!1}}break t}finally{D=null,M=lt,G=!1}tt=void 0}}finally{tt?U():zt=!1}}}var U;if(typeof ft=="function")U=function(){ft(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ie=R.port2;R.port1.onmessage=O,U=function(){Ie.postMessage(null)}}else U=function(){Et(O,0)};function ne(H,tt){N=Et(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var lt=M;M=tt;try{return H()}finally{M=lt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=M;M=H;try{return tt()}finally{M=lt}},s.unstable_scheduleCallback=function(H,tt,lt){var Lt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Lt+lt:Lt):lt=Lt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:A++,callback:tt,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>Lt?(H.sortIndex=lt,e(v,H),i(_)===null&&H===i(v)&&(nt?(gt(N),N=-1):nt=!0,ne(vt,lt-Lt))):(H.sortIndex=C,e(_,H),Z||G||(Z=!0,zt||(zt=!0,U()))),H},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(H){var tt=M;return function(){var lt=M;M=tt;try{return H.apply(this,arguments)}finally{M=lt}}}}(yf)),yf}var Yp;function IE(){return Yp||(Yp=1,pf.exports=VE()),pf.exports}var _f={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function NE(){if(Fp)return ke;Fp=1;var s=Xf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ke.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},ke.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},ke.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},ke.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,D=p(A,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:M,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:D,integrity:M,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ke.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},ke.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,D=p(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ke.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},ke.requestFormReset=function(_){a.d.r(_)},ke.unstable_batchedUpdates=function(_,v){return _(v)},ke.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},ke.version="19.1.0",ke}var Kp;function OE(){if(Kp)return _f.exports;Kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_f.exports=NE(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function ME(){if(Xp)return Vl;Xp=1;var s=IE(),e=Xf(),i=OE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case vt:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case gt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ie(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ie(t(n))}catch{}}return null}var ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function X(t){return{current:t}}function et(t){0>C||(t.current=Lt[C],Lt[C]=null,C--)}function $(t,n){C++,Lt[C]=t.current,t.current=n}var ot=X(null),bt=X(null),pt=X(null),Se=X(null);function Xt(t,n){switch($(pt,n),$(bt,t),$(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?gp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=gp(n),t=pp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),$(ot,t)}function Mn(){et(ot),et(bt),et(pt)}function Ii(t){t.memoizedState!==null&&$(Se,t);var n=ot.current,r=pp(n,t.type);n!==r&&($(bt,t),$(ot,r))}function ti(t){bt.current===t&&(et(ot),et(bt)),Se.current===t&&(et(Se),Sl._currentValue=lt)}var pr=Object.prototype.hasOwnProperty,yr=s.unstable_scheduleCallback,_r=s.unstable_cancelCallback,Es=s.unstable_shouldYield,Wl=s.unstable_requestPaint,hn=s.unstable_now,fc=s.unstable_getCurrentPriorityLevel,Ts=s.unstable_ImmediatePriority,oa=s.unstable_UserBlockingPriority,vr=s.unstable_NormalPriority,dc=s.unstable_LowPriority,ca=s.unstable_IdlePriority,As=s.log,tu=s.unstable_setDisableYieldValue,ie=null,kt=null;function tn(t){if(typeof As=="function"&&tu(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ie,t)}catch{}}var Be=Math.clz32?Math.clz32:Er,eu=Math.log,mc=Math.LN2;function Er(t){return t>>>=0,t===0?32:31-(eu(t)/mc|0)|0}var Tr=256,Ar=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ha(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Rn(l):(y&=E,y!==0?c=Rn(y):r||(r=E&~t,r!==0&&(c=Rn(r))))):(E=l&~f,E!==0?c=Rn(E):y!==0?c=Rn(y):r||(r=l&~t,r!==0&&(c=Rn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Sr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ss(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bs(){var t=Tr;return Tr<<=1,(Tr&4194048)===0&&(Tr=256),t}function Rs(){var t=Ar;return Ar<<=1,(Ar&62914560)===0&&(Ar=4194304),t}function ei(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ws(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var j=31-Be(r),Y=1<<j;E[j]=0,b[j]=-1;var B=P[j];if(B!==null)for(P[j]=null,j=0;j<B.length;j++){var q=B[j];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function xn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Cs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Be(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Ni(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Up(t.type))}function nu(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Jt=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jt,ce="__reactProps$"+Jt,fn="__reactContainer$"+Jt,Ds="__reactEvents$"+Jt,gc="__reactListeners$"+Jt,Mi="__reactHandles$"+Jt,iu="__reactResources$"+Jt,br="__reactMarker$"+Jt;function xi(t){delete t[pe],delete t[ce],delete t[Ds],delete t[gc],delete t[Mi]}function ii(t){var n=t[pe];if(n)return n;for(var r=t.parentNode;r;){if(n=r[fn]||r[pe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ep(t);t!==null;){if(r=t[pe])return r;t=Ep(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[pe]||t[fn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ye(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function se(t){t[br]=!0}var Vs=new Set,da={};function wn(t,n){ri(t,n),ri(t+"Capture",n)}function ri(t,n){for(da[t]=n,t=0;t<n.length;t++)Vs.add(n[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Rr={};function su(t){return pr.call(Rr,t)?!0:pr.call(au,t)?!1:ru.test(t)?Rr[t]=!0:(au[t]=!0,!1)}function Ui(t,n,r){if(su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ln(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ne(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var wr,lu;function ai(t){if(wr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);wr=n&&n[1]||"",lu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+t+lu}var ma=!1;function ga(t,n){if(!t||ma)return"";ma=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){B=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var j=`
`+b[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{ma=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ai(r):""}function Is(t){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return ga(t.type,!1);case 11:return ga(t.type.render,!1);case 1:return ga(t.type,!0);case 31:return ai("Activity");default:return""}}function pa(t){try{var n="";do n+=Is(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pc(t){var n=Ns(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ya(t){t._valueTracker||(t._valueTracker=pc(t))}function Os(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ns(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Cr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yc=/[\n"\\]/g;function he(t){return t.replace(yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zi(t,y,Fe(n)):r!=null?zi(t,y,Fe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Dr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zi(t,n,r){n==="number"&&Cr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function si(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,r){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Fe(r):""}function Vr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ne(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Fe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Ir=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Ir.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ms(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&uu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&uu(t,f,n[f])}function xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,oi=null;function Us(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[ce]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+he(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ce]||null;if(!c)throw Error(a(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Os(l)}break t;case"textarea":Gt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&si(t,!!r.multiple,n,!1)}}}var Pn=!1;function ou(t,n,r){if(Pn)return t(n,r);Pn=!0;try{var l=t(n);return l}finally{if(Pn=!1,(ui!==null||oi!==null)&&(no(),ui&&(n=ui,t=oi,oi=ui=null,Us(n),t)))for(n=0;n<t.length;n++)Us(t[n])}}function Nr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ce]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=!1;if(Cn)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){gn=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{gn=!1}var Bn=null,Li=null,ci=null;function zs(){if(ci)return ci;var t,n=Li,r=n.length,l,c="value"in Bn?Bn.value:Bn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return ci=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Ls(){return!1}function be(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kn:Ls,this.isPropagationStopped=Ls,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=be(Bt),Mr=A({},Bt,{view:0,detail:0}),cu=be(Mr),Ea,Ta,Hn,xr=A({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Ea=t.screenX-Hn.screenX,Ta=t.screenY-Hn.screenY):Ta=Ea=0,Hn=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),pn=be(xr),hu=A({},xr,{dataTransfer:0}),Ec=be(hu),Ur=A({},Mr,{relatedTarget:0}),Aa=be(Ur),Ps=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Sa=be(Ps),fu=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ba=be(fu),Tc=A({},Bt,{data:0}),Bs=be(Tc),zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function Lr(){return qs}var gu=A({},Mr,{key:function(t){if(t.key){var n=zr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ra=be(gu),pu=A({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ks=be(pu),hi=A({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),yu=be(hi),_u=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=be(_u),Eu=A({},xr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=be(Eu),Ke=A({},Bt,{newState:0,oldState:0}),Tu=be(Ke),Au=[9,13,27,32],jn=Cn&&"CompositionEvent"in window,o=null;Cn&&"documentMode"in document&&(o=document.documentMode);var m=Cn&&"TextEvent"in window&&!o,g=Cn&&(!jn||o&&8<o&&11>=o),T=" ",z=!1;function k(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ye(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!jn&&k(t,n)?(t=zs(),ci=Li=Bn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Re[t.type]:n==="textarea"}function fi(t,n,r,l){ui?oi?oi.push(l):oi=[l]:ui=l,n=uo(n,"onChange"),0<n.length&&(r=new va("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Oe=null,Gn=null;function Hs(t){cp(t,0)}function Su(t){var n=zn(t);if(Os(n))return t}function Nd(t,n){if(t==="change")return n}var Od=!1;if(Cn){var Ac;if(Cn){var Sc="oninput"in document;if(!Sc){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Sc=typeof Md.oninput=="function"}Ac=Sc}else Ac=!1;Od=Ac&&(!document.documentMode||9<document.documentMode)}function xd(){Oe&&(Oe.detachEvent("onpropertychange",Ud),Gn=Oe=null)}function Ud(t){if(t.propertyName==="value"&&Su(Gn)){var n=[];fi(n,Gn,t,mn(t)),ou(Hs,n)}}function n0(t,n,r){t==="focusin"?(xd(),Oe=n,Gn=r,Oe.attachEvent("onpropertychange",Ud)):t==="focusout"&&xd()}function i0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Gn)}function r0(t,n){if(t==="click")return Su(n)}function a0(t,n){if(t==="input"||t==="change")return Su(n)}function s0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:s0;function js(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!pr.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ld(t,n){var r=zd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=zd(r)}}function Pd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Cr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Cr(t.document)}return n}function bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var l0=Cn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Rc=null,Gs=null,wc=!1;function qd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wc||Ca==null||Ca!==Cr(l)||(l=Ca,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gs&&js(Gs,l)||(Gs=l,l=uo(Rc,"onSelect"),0<l.length&&(n=new va("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ca)))}function Pr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Da={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Cc={},kd={};Cn&&(kd=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Br(t){if(Cc[t])return Cc[t];if(!Da[t])return t;var n=Da[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in kd)return Cc[t]=n[r];return t}var Hd=Br("animationend"),jd=Br("animationiteration"),Gd=Br("animationstart"),u0=Br("transitionrun"),o0=Br("transitionstart"),c0=Br("transitioncancel"),Qd=Br("transitionend"),Yd=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function Dn(t,n){Yd.set(t,n),wn(n,[t])}var Fd=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var r=Fd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:pa(n)},Fd.set(t,n),n)}return{value:t,source:n,stack:pa(n)}}var _n=[],Va=0,Vc=0;function bu(){for(var t=Va,n=Vc=Va=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Kd(r,c,f)}}function Ru(t,n,r,l){_n[Va++]=t,_n[Va++]=n,_n[Va++]=r,_n[Va++]=l,Vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ic(t,n,r,l){return Ru(t,n,r,l),wu(t)}function Ia(t,n){return Ru(t,null,null,n),wu(t)}function Kd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Be(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function wu(t){if(50<gl)throw gl=0,zh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Na={};function h0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,n,r,l){return new h0(t,n,r,l)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,n){var r=t.alternate;return r===null?(r=rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Xd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Nc(t)&&(y=1);else if(typeof t=="string")y=dE(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=rn(31,r,n,c),t.elementType=w,t.lanes=f,t;case Z:return qr(r.children,c,f,n);case nt:y=8,c|=24;break;case J:return t=rn(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case vt:return t=rn(13,r,n,c),t.elementType=vt,t.lanes=f,t;case zt:return t=rn(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case ft:y=10;break t;case gt:y=9;break t;case xt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=rn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function qr(t,n,r,l){return t=rn(7,t,l,n),t.lanes=r,t}function Oc(t,n,r){return t=rn(6,t,null,n),t.lanes=r,t}function Mc(t,n,r){return n=rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Oa=[],Ma=0,Du=null,Vu=0,vn=[],En=0,kr=null,mi=1,gi="";function Hr(t,n){Oa[Ma++]=Vu,Oa[Ma++]=Du,Du=t,Vu=n}function Zd(t,n,r){vn[En++]=mi,vn[En++]=gi,vn[En++]=kr,kr=t;var l=mi;t=gi;var c=32-Be(l)-1;l&=~(1<<c),r+=1;var f=32-Be(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,mi=1<<32-Be(n)+c|r<<c|l,gi=f+t}else mi=1<<f|r<<c|l,gi=t}function xc(t){t.return!==null&&(Hr(t,1),Zd(t,1,0))}function Uc(t){for(;t===Du;)Du=Oa[--Ma],Oa[Ma]=null,Vu=Oa[--Ma],Oa[Ma]=null;for(;t===kr;)kr=vn[--En],vn[En]=null,gi=vn[--En],vn[En]=null,mi=vn[--En],vn[En]=null}var Xe=null,re=null,Pt=!1,jr=null,Qn=!1,zc=Error(a(519));function Gr(t){var n=Error(a(418,""));throw Fs(yn(n,t)),zc}function $d(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[pe]=t,n[ce]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<yl.length;r++)Ct(yl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Dr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Vr(n,l.value,l.defaultValue,l.children),ya(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||mp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Gr(t)}function Jd(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Xe=Xe.return}}function Qs(t){if(t!==Xe)return!1;if(!Pt)return Jd(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Jh(t.type,t.memoizedProps)),r=!r),r&&re&&Gr(t),Jd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){re=In(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,Wi(t.type)?(t=nf,nf=null,re=t):re=n):re=Xe?In(t.stateNode.nextSibling):null;return!0}function Ys(){re=Xe=null,Pt=!1}function Wd(){var t=jr;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),jr=null),t}function Fs(t){jr===null?jr=[t]:jr.push(t)}var Lc=X(null),Qr=null,pi=null;function Pi(t,n,r){$(Lc,n._currentValue),n._currentValue=r}function yi(t){t._currentValue=Lc.current,et(Lc)}function Pc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Bc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Pc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Pc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Ks(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;nn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Se.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}c=c.return}t!==null&&Bc(n,t,r,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Qr=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return tm(Qr,t)}function Nu(t,n){return Qr===null&&Yr(t),tm(t,n)}function tm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},pi===null){if(t===null)throw Error(a(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return r}var f0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},d0=s.unstable_scheduleCallback,m0=s.unstable_NormalPriority,ve={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new f0,data:new Map,refCount:0}}function Xs(t){t.refCount--,t.refCount===0&&d0(m0,function(){t.controller.abort()})}var Zs=null,kc=0,xa=0,Ua=null;function g0(t,n){if(Zs===null){var r=Zs=[];kc=0,xa=jh(),Ua={status:"pending",value:void 0,then:function(l){r.push(l)}}}return kc++,n.then(em,em),n}function em(){if(--kc===0&&Zs!==null){Ua!==null&&(Ua.status="fulfilled");var t=Zs;Zs=null,xa=0,Ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function p0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var nm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&g0(t,n),nm!==null&&nm(t,n)};var Fr=X(null);function Hc(){var t=Fr.current;return t!==null?t:Zt.pooledCache}function Ou(t,n){n===null?$(Fr,Fr.current):$(Fr,n.pool)}function im(){var t=Hc();return t===null?null:{parent:ve._currentValue,pool:t}}var $s=Error(a(460)),rm=Error(a(474)),Mu=Error(a(542)),jc={then:function(){}};function am(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function sm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xu,xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,um(t),t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,um(t),t}throw Js=n,$s}}var Js=null;function lm(){if(Js===null)throw Error(a(459));var t=Js;return Js=null,t}function um(t){if(t===$s||t===Mu)throw Error(a(483))}var Bi=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),Kd(t,null,r),n}return Ru(t,l,n,r),wu(t)}function Ws(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cs(t,r)}}function Yc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Fc=!1;function tl(){if(Fc){var t=Ua;if(t!==null)throw t}}function el(t,n,r,l){Fc=!1;var c=t.updateQueue;Bi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=P:E.next=P,j.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,j=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Nt&B)===B:(l&B)===B){B!==0&&B===xa&&(Fc=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ct=E;B=n;var Ft=r;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){Y=mt.call(Ft,Y,B);break t}Y=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,B=typeof mt=="function"?mt.call(Ft,Y,B):mt,B==null)break t;Y=A({},Y,B);break t;case 2:Bi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(P=j=q,b=Y):j=j.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);j===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),Xi|=y,t.lanes=y,t.memoizedState=Y}}function om(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function cm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)om(r[t],n)}var za=X(null),Uu=X(0);function hm(t,n){t=bi,$(Uu,t),$(za,n),bi=t|n.baseLanes}function Kc(){$(Uu,bi),$(za,za.current)}function Xc(){bi=Uu.current,et(za),et(Uu)}var Hi=0,At=null,Qt=null,fe=null,zu=!1,La=!1,Kr=!1,Lu=0,nl=0,Pa=null,y0=0;function le(){throw Error(a(321))}function Zc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!nn(t[r],n[r]))return!1;return!0}function $c(t,n,r,l,c,f){return Hi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Km:Xm,Kr=!1,f=r(l,c),Kr=!1,La&&(f=dm(n,r,l,c)),fm(t),f}function fm(t){H.H=ju;var n=Qt!==null&&Qt.next!==null;if(Hi=0,fe=Qt=At=null,zu=!1,nl=0,Pa=null,n)throw Error(a(300));t===null||we||(t=t.dependencies,t!==null&&Iu(t)&&(we=!0))}function dm(t,n,r,l){At=t;var c=0;do{if(La&&(Pa=null),nl=0,La=!1,25<=c)throw Error(a(301));if(c+=1,fe=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=b0,f=n(r,l)}while(La);return f}function _0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(At.flags|=1024),n}function Jc(){var t=Lu!==0;return Lu=0,t}function Wc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function th(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}Hi=0,fe=Qt=At=null,La=!1,nl=Lu=0,Pa=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?At.memoizedState=fe=t:fe=fe.next=t,fe}function de(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=fe===null?At.memoizedState:fe.next;if(n!==null)fe=n,Qt=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?At.memoizedState=fe=t:fe=fe.next=t}return fe}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,Pa===null&&(Pa=[]),t=sm(Pa,t,n),n=At,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Km:Xm),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ft)return qe(t)}throw Error(a(438,String(t)))}function nh(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=eh(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function _i(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=de();return ih(n,Qt,t)}function ih(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,j=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Nt&Y)===Y:(Hi&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===xa&&(j=!0);else if((Hi&B)===B){P=P.next,B===xa&&(j=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,At.lanes|=B,Xi|=B;Y=P.action,Kr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,At.lanes|=Y,Xi|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!nn(f,t.memoizedState)&&(we=!0,j&&(r=Ua,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rh(t){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);nn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function mm(t,n,r){var l=At,c=de(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!nn((Qt||c).memoizedState,r);y&&(c.memoizedState=r,we=!0),c=c.queue;var E=ym.bind(null,l,c,t);if(rl(2048,8,E,[t]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,Ba(9,qu(),pm.bind(null,l,c,r,n),null),Zt===null)throw Error(a(349));f||(Hi&124)!==0||gm(l,n,r)}return r}function gm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=eh(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function pm(t,n,r,l){n.value=r,n.getSnapshot=l,_m(n)&&vm(t)}function ym(t,n,r){return r(function(){_m(n)&&vm(t)})}function _m(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!nn(t,r)}catch{return!0}}function vm(t){var n=Ia(t,2);n!==null&&on(n,t,2)}function ah(t){var n=Ze();if(typeof t=="function"){var r=t;if(t=r(),Kr){tn(!0);try{r()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function Em(t,n,r,l){return t.baseState=r,ih(t,Qt,typeof l=="function"?l:_i)}function v0(t,n,r,l,c){if(Hu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Tm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Tm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Am(t,n,E)}catch(P){sh(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Am(t,n,f)}catch(P){sh(t,n,P)}}function Am(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Sm(t,n,l)},function(l){return sh(t,n,l)}):Sm(t,n,r)}function Sm(t,n,r){n.status="fulfilled",n.value=r,bm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Tm(t,r)))}function sh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,bm(n),n=n.next;while(n!==l)}t.action=null}function bm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rm(t,n){return n}function wm(t,n){if(Pt){var r=Zt.formState;if(r!==null){t:{var l=At;if(Pt){if(re){e:{for(var c=re,f=Qn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=In(c.nextSibling),l=c.data==="F!";break t}}Gr(l)}l=!1}l&&(n=r[0])}}return r=Ze(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:n},r.queue=l,r=Qm.bind(null,At,l),l.dispatch=r,l=ah(!1),f=hh.bind(null,At,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=v0.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Cm(t){var n=de();return Dm(n,Qt,t)}function Dm(t,n,r){if(n=ih(t,n,Rm)[0],t=Bu(_i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=il(n)}catch(y){throw y===$s?Mu:y}else l=n;n=de();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Ba(9,qu(),E0.bind(null,c,r),null)),[l,f,t]}function E0(t,n){t.action=n}function Vm(t){var n=de(),r=Qt;if(r!==null)return Dm(n,r,t);de(),n=n.memoizedState,r=de();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ba(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=eh(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function qu(){return{destroy:void 0,resource:void 0}}function Im(){return de().memoizedState}function ku(t,n,r,l){var c=Ze();l=l===void 0?null:l,At.flags|=t,c.memoizedState=Ba(1|n,qu(),r,l)}function rl(t,n,r,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&Zc(l,Qt.memoizedState.deps)?c.memoizedState=Ba(n,f,r,l):(At.flags|=t,c.memoizedState=Ba(1|n,f,r,l))}function Nm(t,n){ku(8390656,8,t,n)}function Om(t,n){rl(2048,8,t,n)}function Mm(t,n){return rl(4,2,t,n)}function xm(t,n){return rl(4,4,t,n)}function Um(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zm(t,n,r){r=r!=null?r.concat([t]):null,rl(4,4,Um.bind(null,n,t),r)}function lh(){}function Lm(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Zc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Pm(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Zc(n,l[1]))return l[0];if(l=t(),Kr){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l}function uh(t,n,r){return r===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=kg(),At.lanes|=t,Xi|=t,r)}function Bm(t,n,r,l){return nn(r,n)?r:za.current!==null?(t=uh(t,r,l),nn(t,n)||(we=!0),t):(Hi&42)===0?(we=!0,t.memoizedState=r):(t=kg(),At.lanes|=t,Xi|=t,n)}function qm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,hh(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=p0(b,l);al(t,n,j,un(t))}else al(t,n,l,un(t))}catch(Y){al(t,n,{then:function(){},status:"rejected",reason:Y},un())}finally{tt.p=f,H.T=y}}function T0(){}function oh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=km(t).queue;qm(t,c,n,lt,r===null?T0:function(){return Hm(t),r(l)})}function km(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Hm(t){var n=km(t).next.queue;al(t,n,{},un())}function ch(){return qe(Sl)}function jm(){return de().memoizedState}function Gm(){return de().memoizedState}function A0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=un();t=qi(r);var l=ki(n,t,r);l!==null&&(on(l,n,r),Ws(l,n,r)),n={cache:qc()},t.payload=n;return}n=n.return}}function S0(t,n,r){var l=un();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Hu(t)?Ym(n,r):(r=Ic(t,n,r,l),r!==null&&(on(r,t,l),Fm(r,n,l)))}function Qm(t,n,r){var l=un();al(t,n,r,l)}function al(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))Ym(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,nn(E,y))return Ru(t,n,c,0),Zt===null&&bu(),!1}catch{}finally{}if(r=Ic(t,n,c,l),r!==null)return on(r,t,l),Fm(r,n,l),!0}return!1}function hh(t,n,r,l){if(l={lane:2,revertLane:jh(),action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(a(479))}else n=Ic(t,r,l,2),n!==null&&on(n,t,2)}function Hu(t){var n=t.alternate;return t===At||n!==null&&n===At}function Ym(t,n){La=zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Fm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cs(t,r)}}var ju={readContext:qe,use:Pu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},Km={readContext:qe,use:Pu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Nm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ku(4194308,4,Um.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ku(4194308,4,t,n)},useInsertionEffect:function(t,n){ku(4,2,t,n)},useMemo:function(t,n){var r=Ze();n=n===void 0?null:n;var l=t();if(Kr){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ze();if(r!==void 0){var c=r(n);if(Kr){tn(!0);try{r(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=S0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=ah(t);var n=t.queue,r=Qm.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:lh,useDeferredValue:function(t,n){var r=Ze();return uh(r,t,n)},useTransition:function(){var t=ah(!1);return t=qm.bind(null,At,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=Ze();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Zt===null)throw Error(a(349));(Nt&124)!==0||gm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Nm(ym.bind(null,l,f,t),[t]),l.flags|=2048,Ba(9,qu(),pm.bind(null,l,f,r,n),null),r},useId:function(){var t=Ze(),n=Zt.identifierPrefix;if(Pt){var r=gi,l=mi;r=(l&~(1<<32-Be(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Lu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=y0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ch,useFormState:wm,useActionState:wm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=hh.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:nh,useCacheRefresh:function(){return Ze().memoizedState=A0.bind(null,At)}},Xm={readContext:qe,use:Pu,useCallback:Lm,useContext:qe,useEffect:Om,useImperativeHandle:zm,useInsertionEffect:Mm,useLayoutEffect:xm,useMemo:Pm,useReducer:Bu,useRef:Im,useState:function(){return Bu(_i)},useDebugValue:lh,useDeferredValue:function(t,n){var r=de();return Bm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Bu(_i)[0],n=de().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:mm,useId:jm,useHostTransitionStatus:ch,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,n){var r=de();return Em(r,Qt,t,n)},useMemoCache:nh,useCacheRefresh:Gm},b0={readContext:qe,use:Pu,useCallback:Lm,useContext:qe,useEffect:Om,useImperativeHandle:zm,useInsertionEffect:Mm,useLayoutEffect:xm,useMemo:Pm,useReducer:rh,useRef:Im,useState:function(){return rh(_i)},useDebugValue:lh,useDeferredValue:function(t,n){var r=de();return Qt===null?uh(r,t,n):Bm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=rh(_i)[0],n=de().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:mm,useId:jm,useHostTransitionStatus:ch,useFormState:Vm,useActionState:Vm,useOptimistic:function(t,n){var r=de();return Qt!==null?Em(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:nh,useCacheRefresh:Gm},qa=null,sl=0;function Gu(t){var n=sl;return sl+=1,qa===null&&(qa=[]),sm(qa,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zm(t){var n=t._init;return n(t._payload)}function $m(t){function n(x,V){if(t){var L=x.deletions;L===null?(x.deletions=[V],x.flags|=16):L.push(V)}}function r(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=di(x,V),x.index=0,x.sibling=null,x}function f(x,V,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<V?(x.flags|=67108866,V):L):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,L,Q){return V===null||V.tag!==6?(V=Oc(L,x.mode,Q),V.return=x,V):(V=c(V,L),V.return=x,V)}function b(x,V,L,Q){var rt=L.type;return rt===Z?j(x,V,L.props.children,Q,L.key):V!==null&&(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Zm(rt)===V.type)?(V=c(V,L.props),ll(V,L),V.return=x,V):(V=Cu(L.type,L.key,L.props,null,x.mode,Q),ll(V,L),V.return=x,V)}function P(x,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Mc(L,x.mode,Q),V.return=x,V):(V=c(V,L.children||[]),V.return=x,V)}function j(x,V,L,Q,rt){return V===null||V.tag!==7?(V=qr(L,x.mode,Q,rt),V.return=x,V):(V=c(V,L),V.return=x,V)}function Y(x,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Oc(""+V,x.mode,L),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return L=Cu(V.type,V.key,V.props,null,x.mode,L),ll(L,V),L.return=x,L;case G:return V=Mc(V,x.mode,L),V.return=x,V;case S:var Q=V._init;return V=Q(V._payload),Y(x,V,L)}if(ne(V)||U(V))return V=qr(V,x.mode,L,null),V.return=x,V;if(typeof V.then=="function")return Y(x,Gu(V),L);if(V.$$typeof===ft)return Y(x,Nu(x,V),L);Qu(x,V)}return null}function B(x,V,L,Q){var rt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(x,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===rt?b(x,V,L,Q):null;case G:return L.key===rt?P(x,V,L,Q):null;case S:return rt=L._init,L=rt(L._payload),B(x,V,L,Q)}if(ne(L)||U(L))return rt!==null?null:j(x,V,L,Q,null);if(typeof L.then=="function")return B(x,V,Gu(L),Q);if(L.$$typeof===ft)return B(x,V,Nu(x,L),Q);Qu(x,L)}return null}function q(x,V,L,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(V,x,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return x=x.get(Q.key===null?L:Q.key)||null,b(V,x,Q,rt);case G:return x=x.get(Q.key===null?L:Q.key)||null,P(V,x,Q,rt);case S:var Rt=Q._init;return Q=Rt(Q._payload),q(x,V,L,Q,rt)}if(ne(Q)||U(Q))return x=x.get(L)||null,j(V,x,Q,rt,null);if(typeof Q.then=="function")return q(x,V,L,Gu(Q),rt);if(Q.$$typeof===ft)return q(x,V,L,Nu(V,Q),rt);Qu(V,Q)}return null}function mt(x,V,L,Q){for(var rt=null,Rt=null,st=V,ht=V=0,De=null;st!==null&&ht<L.length;ht++){st.index>ht?(De=st,st=null):De=st.sibling;var Ut=B(x,st,L[ht],Q);if(Ut===null){st===null&&(st=De);break}t&&st&&Ut.alternate===null&&n(x,st),V=f(Ut,V,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut,st=De}if(ht===L.length)return r(x,st),Pt&&Hr(x,ht),rt;if(st===null){for(;ht<L.length;ht++)st=Y(x,L[ht],Q),st!==null&&(V=f(st,V,ht),Rt===null?rt=st:Rt.sibling=st,Rt=st);return Pt&&Hr(x,ht),rt}for(st=l(st);ht<L.length;ht++)De=q(st,x,ht,L[ht],Q),De!==null&&(t&&De.alternate!==null&&st.delete(De.key===null?ht:De.key),V=f(De,V,ht),Rt===null?rt=De:Rt.sibling=De,Rt=De);return t&&st.forEach(function(rr){return n(x,rr)}),Pt&&Hr(x,ht),rt}function ct(x,V,L,Q){if(L==null)throw Error(a(151));for(var rt=null,Rt=null,st=V,ht=V=0,De=null,Ut=L.next();st!==null&&!Ut.done;ht++,Ut=L.next()){st.index>ht?(De=st,st=null):De=st.sibling;var rr=B(x,st,Ut.value,Q);if(rr===null){st===null&&(st=De);break}t&&st&&rr.alternate===null&&n(x,st),V=f(rr,V,ht),Rt===null?rt=rr:Rt.sibling=rr,Rt=rr,st=De}if(Ut.done)return r(x,st),Pt&&Hr(x,ht),rt;if(st===null){for(;!Ut.done;ht++,Ut=L.next())Ut=Y(x,Ut.value,Q),Ut!==null&&(V=f(Ut,V,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return Pt&&Hr(x,ht),rt}for(st=l(st);!Ut.done;ht++,Ut=L.next())Ut=q(st,x,ht,Ut.value,Q),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?ht:Ut.key),V=f(Ut,V,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return t&&st.forEach(function(RE){return n(x,RE)}),Pt&&Hr(x,ht),rt}function Ft(x,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:t:{for(var rt=L.key;V!==null;){if(V.key===rt){if(rt=L.type,rt===Z){if(V.tag===7){r(x,V.sibling),Q=c(V,L.props.children),Q.return=x,x=Q;break t}}else if(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Zm(rt)===V.type){r(x,V.sibling),Q=c(V,L.props),ll(Q,L),Q.return=x,x=Q;break t}r(x,V);break}else n(x,V);V=V.sibling}L.type===Z?(Q=qr(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Cu(L.type,L.key,L.props,null,x.mode,Q),ll(Q,L),Q.return=x,x=Q)}return y(x);case G:t:{for(rt=L.key;V!==null;){if(V.key===rt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){r(x,V.sibling),Q=c(V,L.children||[]),Q.return=x,x=Q;break t}else{r(x,V);break}else n(x,V);V=V.sibling}Q=Mc(L,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return rt=L._init,L=rt(L._payload),Ft(x,V,L,Q)}if(ne(L))return mt(x,V,L,Q);if(U(L)){if(rt=U(L),typeof rt!="function")throw Error(a(150));return L=rt.call(L),ct(x,V,L,Q)}if(typeof L.then=="function")return Ft(x,V,Gu(L),Q);if(L.$$typeof===ft)return Ft(x,V,Nu(x,L),Q);Qu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(r(x,V.sibling),Q=c(V,L),Q.return=x,x=Q):(r(x,V),Q=Oc(L,x.mode,Q),Q.return=x,x=Q),y(x)):r(x,V)}return function(x,V,L,Q){try{sl=0;var rt=Ft(x,V,L,Q);return qa=null,rt}catch(st){if(st===$s||st===Mu)throw st;var Rt=rn(29,st,null,x.mode);return Rt.lanes=Q,Rt.return=x,Rt}finally{}}}var ka=$m(!0),Jm=$m(!1),Tn=X(null),Yn=null;function ji(t){var n=t.alternate;$(Ee,Ee.current&1),$(Tn,t),Yn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Yn=t)}function Wm(t){if(t.tag===22){if($(Ee,Ee.current),$(Tn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Gi()}function Gi(){$(Ee,Ee.current),$(Tn,Tn.current)}function vi(t){et(Tn),Yn===t&&(Yn=null),et(Ee)}var Ee=X(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ef(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=un(),c=qi(l);c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(on(n,t,l),Ws(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=un(),c=qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(on(n,t,l),Ws(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=un(),l=qi(r);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,r),n!==null&&(on(n,t,r),Ws(n,t,r))}};function tg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!js(r,l)||!js(c,f):!0}function eg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&dh.enqueueReplaceState(n,n.state,null)}function Xr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ng(t){Fu(t)}function ig(t){console.error(t)}function rg(t){Fu(t)}function Ku(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ag(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mh(t,n,r){return r=qi(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(t,n)},r}function sg(t){return t=qi(t),t.tag=3,t}function lg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ag(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ag(n,r,l),typeof c!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function R0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ks(n,r,c,!0),r=Tn.current,r!==null){switch(r.tag){case 13:return Yn===null?Ph():r.alternate===null&&ae===0&&(ae=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===jc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),qh(t,l,c)),!1;case 22:return r.flags|=65536,l===jc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),qh(t,l,c)),!1}throw Error(a(435,r.tag))}return qh(t,l,c),Ph(),!1}if(Pt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==zc&&(t=Error(a(422),{cause:l}),Fs(yn(t,r)))):(l!==zc&&(n=Error(a(423),{cause:l}),Fs(yn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,r),c=mh(t.stateNode,l,c),Yc(t,c),ae!==4&&(ae=2)),!1;var f=Error(a(520),{cause:l});if(f=yn(f,r),ml===null?ml=[f]:ml.push(f),ae!==4&&(ae=2),n===null)return!0;l=yn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=mh(r.stateNode,l,t),Yc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zi===null||!Zi.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=sg(c),lg(c,t,r,l),Yc(r,c),!1}r=r.return}while(r!==null);return!1}var ug=Error(a(461)),we=!1;function Me(t,n,r,l){n.child=t===null?Jm(n,null,r,l):ka(n,t.child,r,l)}function og(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Yr(n),l=$c(t,n,r,y,f,c),E=Jc(),t!==null&&!we?(Wc(t,n,c),Ei(t,n,c)):(Pt&&E&&xc(n),n.flags|=1,Me(t,n,l,c),n.child)}function cg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Nc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,hg(t,n,f,l,c)):(t=Cu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ah(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:js,r(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=di(f,l),t.ref=n.ref,t.return=n,n.child=t}function hg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(js(f,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=f,Ah(t,c))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return gh(t,n,r,l,c)}function fg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return dg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?hm(n,f):Kc(),Wm(n);else return n.lanes=n.childLanes=536870912,dg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Ou(n,f.cachePool),hm(n,f),Gi(),n.memoizedState=null):(t!==null&&Ou(n,null),Kc(),Gi());return Me(t,n,c,r),n.child}function dg(t,n,r,l){var c=Hc();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ou(n,null),Kc(),Wm(n),t!==null&&Ks(t,n,l,!0),null}function Xu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function gh(t,n,r,l,c){return Yr(n),r=$c(t,n,r,l,void 0,c),l=Jc(),t!==null&&!we?(Wc(t,n,c),Ei(t,n,c)):(Pt&&l&&xc(n),n.flags|=1,Me(t,n,r,c),n.child)}function mg(t,n,r,l,c,f){return Yr(n),n.updateQueue=null,r=dm(n,l,r,c),fm(t),l=Jc(),t!==null&&!we?(Wc(t,n,f),Ei(t,n,f)):(Pt&&l&&xc(n),n.flags|=1,Me(t,n,r,f),n.child)}function gg(t,n,r,l,c){if(Yr(n),n.stateNode===null){var f=Na,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Gc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Na,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(fh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&dh.enqueueReplaceState(f,f.state,null),el(n,l,f,c),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Xr(r,E);f.props=b;var P=f.context,j=r.contextType;y=Na,typeof j=="object"&&j!==null&&(y=qe(j));var Y=r.getDerivedStateFromProps;j=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&eg(n,f,l,y),Bi=!1;var B=n.memoizedState;f.state=B,el(n,l,f,c),tl(),P=n.memoizedState,E||B!==P||Bi?(typeof Y=="function"&&(fh(n,r,Y,l),P=n.memoizedState),(b=Bi||tg(n,r,b,l,B,P,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qc(t,n),y=n.memoizedProps,j=Xr(r,y),f.props=j,Y=n.pendingProps,B=f.context,P=r.contextType,b=Na,typeof P=="object"&&P!==null&&(b=qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&eg(n,f,l,b),Bi=!1,B=n.memoizedState,f.state=B,el(n,l,f,c),tl();var q=n.memoizedState;y!==Y||B!==q||Bi||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(fh(n,r,E,l),q=n.memoizedState),(j=Bi||tg(n,r,j,l,B,q,b)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=j):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ka(n,t.child,null,c),n.child=ka(n,null,r,c)):Me(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function pg(t,n,r,l){return Ys(),n.flags|=256,Me(t,n,r,l),n.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(t){return{baseLanes:t,cachePool:im()}}function _h(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function yg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?ji(n):Gi(),Pt){var E=re,b;if(b=E){t:{for(b=E,E=Qn;b.nodeType!==8;){if(!E){E=null;break t}if(b=In(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:kr!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=rn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,re=null,b=!0):b=!1}b||Gr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ef(E)?n.lanes=32:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(Gi(),c=n.mode,E=Zu({mode:"hidden",children:E},c),l=qr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=yh(r),c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(ji(n),vh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ji(n),n.flags&=-257,n=Eh(t,n,r)):n.memoizedState!==null?(Gi(),n.child=t.child,n.flags|=128,n=null):(Gi(),c=l.fallback,E=n.mode,l=Zu({mode:"visible",children:l.children},E),c=qr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ka(n,t.child,null,r),l=n.child,l.memoizedState=yh(r),l.childLanes=_h(t,y,r),n.memoizedState=ph,n=c);else if(ji(n),ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,Fs({value:l,source:null,stack:null}),n=Eh(t,n,r)}else if(we||Ks(t,n,r,!1),y=(r&t.childLanes)!==0,we||y){if(y=Zt,y!==null&&(l=r&-r,l=(l&42)!==0?1:Ni(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Ia(t,l),on(y,t,l),ug;E.data==="$?"||Ph(),n=Eh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=In(E.nextSibling),Xe=n,Pt=!0,jr=null,Qn=!1,t!==null&&(vn[En++]=mi,vn[En++]=gi,vn[En++]=kr,mi=t.id,gi=t.overflow,kr=n),n=vh(n,l.children),n.flags|=4096);return n}return c?(Gi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=di(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=di(P,c):(c=qr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=yh(r):(b=E.cachePool,b!==null?(P=ve._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=im(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(ji(n),r=t.child,t=r.sibling,r=di(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function vh(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=rn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Eh(t,n,r){return ka(n,t.child,null,r),t=vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _g(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Pc(t.return,n,r)}function Th(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function vg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Me(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_g(t,r,n);else if(t.tag===19)_g(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Th(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Th(n,!0,r,null,f);break;case"together":Th(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Xi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ks(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=di(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=di(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ah(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function w0(t,n,r){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Pi(n,ve,t.memoizedState.cache),Ys();break;case 27:case 5:Ii(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yg(t,n,r):(ji(n),t=Ei(t,n,r),t!==null?t.sibling:null);ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ks(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return vg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,fg(t,n,r);case 24:Pi(n,ve,t.memoizedState.cache)}return Ei(t,n,r)}function Eg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!Ah(t,r)&&(n.flags&128)===0)return we=!1,w0(t,n,r);we=(t.flags&131072)!==0}else we=!1,Pt&&(n.flags&1048576)!==0&&Zd(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Nc(l)?(t=Xr(l,t),n.tag=1,n=gg(null,n,l,t,r)):(n.tag=0,n=gh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===xt){n.tag=11,n=og(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=cg(null,n,l,t,r);break t}}throw n=Ie(l)||l,Error(a(306,n,""))}}return n;case 0:return gh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Xr(l,n.pendingProps),gg(t,n,l,c,r);case 3:t:{if(Xt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Qc(t,n),el(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Pi(n,ve,l),l!==f.cache&&Bc(n,[ve],r,!0),tl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=pg(t,n,l,r);break t}else if(l!==c){c=yn(Error(a(424)),n),Fs(c),n=pg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=In(t.firstChild),Xe=n,Pt=!0,jr=null,Qn=!0,r=Jm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ys(),l===c){n=Ei(t,n,r);break t}Me(t,n,l,r)}n=n.child}return n;case 26:return Xu(t,n),t===null?(r=bp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=co(pt.current).createElement(r),l[pe]=n,l[ce]=t,Ue(l,r,t),se(l),n.stateNode=l):n.memoizedState=bp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ii(n),t===null&&Pt&&(l=n.stateNode=Tp(n.type,n.pendingProps,pt.current),Xe=n,Qn=!0,c=re,Wi(n.type)?(nf=c,re=In(l.firstChild)):re=c),Me(t,n,n.pendingProps.children,r),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=re)&&(l=tE(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,Xe=n,re=In(l.firstChild),Qn=!1,c=!0):c=!1),c||Gr(n)),Ii(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Jh(c,f)?l=null:y!==null&&Jh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=$c(t,n,_0,null,null,r),Sl._currentValue=c),Xu(t,n),Me(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=re)&&(r=eE(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,Xe=n,re=null,t=!0):t=!1),t||Gr(n)),null;case 13:return yg(t,n,r);case 4:return Xt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ka(n,null,l,r):Me(t,n,l,r),n.child;case 11:return og(t,n,n.type,n.pendingProps,r);case 7:return Me(t,n,n.pendingProps,r),n.child;case 8:return Me(t,n,n.pendingProps.children,r),n.child;case 12:return Me(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),Me(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Yr(n),c=qe(c),l=l(c),n.flags|=1,Me(t,n,l,r),n.child;case 14:return cg(t,n,n.type,n.pendingProps,r);case 15:return hg(t,n,n.type,n.pendingProps,r);case 19:return vg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Zu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=di(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return fg(t,n,r);case 24:return Yr(n),l=qe(ve),t===null?(c=Hc(),c===null&&(c=Zt,f=qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Gc(n),Pi(n,ve,c)):((t.lanes&r)!==0&&(Qc(t,n),el(n,null,null,r),tl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Pi(n,ve,l)):(l=f.cache,Pi(n,ve,l),l!==c.cache&&Bc(n,[ve],r,!0))),Me(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ti(t){t.flags|=4}function Tg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vp(n)){if(n=Tn.current,n!==null&&((Nt&4194048)===Nt?Yn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Yn))throw Js=jc,rm;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Rs():536870912,t.lanes|=n,Qa|=n)}function ul(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function C0(t,n,r){var l=n.pendingProps;switch(Uc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yi(ve),Mn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qs(n)?Ti(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wd())),te(n),null;case 26:return r=n.memoizedState,t===null?(Ti(n),r!==null?(te(n),Tg(n,r)):(te(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ti(n),te(n),Tg(n,r)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ti(n),te(n),n.flags&=-16777217),null;case 27:ti(n),r=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}t=ot.current,Qs(n)?$d(n):(t=Tp(c,l,r),n.stateNode=t,Ti(n))}return te(n),null;case 5:if(ti(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(t=ot.current,Qs(n))$d(n);else{switch(c=co(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[pe]=n,t[ce]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ue(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=pt.current,Qs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||mp(t.nodeValue,r)),t||Gr(n)}else t=co(t).createTextNode(l),t[pe]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Qs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[pe]=n}else Ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Wd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),te(n),null;case 4:return Mn(),t===null&&Fh(n.stateNode.containerInfo),te(n),null;case 10:return yi(n.type),te(n),null;case 19:if(et(Ee),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ul(c,!1);else{if(ae!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,ul(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Xd(r,t),r=r.sibling;return $(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&hn()>to&&(n.flags|=128,l=!0,ul(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),ul(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return te(n),null}else 2*hn()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,ul(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=hn(),n.sibling=null,t=Ee.current,$(Ee,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return vi(n),Xc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(Fr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),yi(ve),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function D0(t,n){switch(Uc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(ve),Mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ti(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ys()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ee),null;case 4:return Mn(),null;case 10:return yi(n.type),null;case 22:case 23:return vi(n),Xc(),t!==null&&et(Fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return yi(ve),null;case 25:return null;default:return null}}function Ag(t,n){switch(Uc(n),n.tag){case 3:yi(ve),Mn();break;case 26:case 27:case 5:ti(n);break;case 4:Mn();break;case 13:vi(n);break;case 19:et(Ee);break;case 10:yi(n.type);break;case 22:case 23:vi(n),Xc(),t!==null&&et(Fr);break;case 24:yi(ve)}}function ol(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Qi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(j){Kt(c,b,j)}}}l=l.next}while(l!==f)}}catch(j){Kt(n,n.return,j)}}function Sg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{cm(n,r)}catch(l){Kt(t,t.return,l)}}}function bg(t,n,r){r.props=Xr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function cl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Fn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Rg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Sh(t,n,r){try{var l=t.stateNode;X0(l,t.type,r,n),l[ce]=n}catch(c){Kt(t,t.return,c)}}function wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wi(t.type)||t.tag===4}function bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&(l===27&&Wi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Rh(t,n,r),t=t.sibling;t!==null;)Rh(t,n,r),t=t.sibling}function Ju(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Wi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ju(t,n,r),t=t.sibling;t!==null;)Ju(t,n,r),t=t.sibling}function Cg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ue(n,l,r),n[pe]=t,n[ce]=r}catch(f){Kt(t,t.return,f)}}var Ai=!1,ue=!1,wh=!1,Dg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function V0(t,n){if(t=t.containerInfo,Zh=yo,t=Bd(t),bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,j=0,Y=t,B=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++j===l&&(b=y),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for($h={focusedElem:t,selectionRange:r},yo=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var mt=Xr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Kt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)tf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Vg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(t,r),l&4&&ol(5,r);break;case 1:if(Yi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=Xr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&Sg(r),l&512&&cl(r,r.return);break;case 3:if(Yi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{cm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Cg(r);case 26:case 5:Yi(t,r),n===null&&l&4&&Rg(r),l&512&&cl(r,r.return);break;case 12:Yi(t,r);break;case 13:Yi(t,r),l&4&&Og(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=P0.bind(null,r),nE(t,r))));break;case 22:if(l=r.memoizedState!==null||Ai,!l){n=n!==null&&n.memoizedState!==null||ue,c=Ai;var f=ue;Ai=l,(ue=n)&&!f?Fi(t,r,(r.subtreeFlags&8772)!==0):Yi(t,r),Ai=c,ue=f}break;case 30:break;default:Yi(t,r)}}function Ig(t){var n=t.alternate;n!==null&&(t.alternate=null,Ig(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,$e=!1;function Si(t,n,r){for(r=r.child;r!==null;)Ng(t,n,r),r=r.sibling}function Ng(t,n,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ie,r)}catch{}switch(r.tag){case 26:ue||Fn(r,n),Si(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Fn(r,n);var l=Wt,c=$e;Wi(r.type)&&(Wt=r.stateNode,$e=!1),Si(t,n,r),vl(r.stateNode),Wt=l,$e=c;break;case 5:ue||Fn(r,n);case 6:if(l=Wt,c=$e,Wt=null,Si(t,n,r),Wt=l,$e=c,Wt!==null)if($e)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:Wt!==null&&($e?(t=Wt,vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Cl(t)):vp(Wt,r.stateNode));break;case 4:l=Wt,c=$e,Wt=r.stateNode.containerInfo,$e=!0,Si(t,n,r),Wt=l,$e=c;break;case 0:case 11:case 14:case 15:ue||Qi(2,r,n),ue||Qi(4,r,n),Si(t,n,r);break;case 1:ue||(Fn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&bg(r,n,l)),Si(t,n,r);break;case 21:Si(t,n,r);break;case 22:ue=(l=ue)||r.memoizedState!==null,Si(t,n,r),ue=l;break;default:Si(t,n,r)}}function Og(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(r){Kt(n,n.return,r)}}function I0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dg),n;default:throw Error(a(435,t.tag))}}function Ch(t,n){var r=I0(t);n.forEach(function(l){var c=B0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function an(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Wi(E.type)){Wt=E.stateNode,$e=!1;break t}break;case 5:Wt=E.stateNode,$e=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(Wt===null)throw Error(a(160));Ng(f,y,c),Wt=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Mg(n,t),n=n.sibling}var Vn=null;function Mg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(Qi(3,t,t.return),ol(3,t),Qi(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(ue||r===null||Fn(r,r.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Vn;if(an(n,t),sn(t),l&512&&(ue||r===null||Fn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[br]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ue(f,l,r),f[pe]=t,se(f),l=f;break t;case"link":var y=Cp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Cp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[pe]=t,se(f),l=f}t.stateNode=l}else Dp(c,t.type,t.stateNode);else t.stateNode=wp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Dp(c,t.type,t.stateNode):wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sh(t,t.memoizedProps,r.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(ue||r===null||Fn(r,r.return)),r!==null&&l&4&&Sh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(ue||r===null||Fn(r,r.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(q){Kt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Sh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(wh=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Kt(t,t.return,q)}}break;case 3:if(mo=null,c=Vn,Vn=ho(n.containerInfo),an(n,t),Vn=c,sn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(q){Kt(t,t.return,q)}wh&&(wh=!1,xg(t));break;case 4:l=Vn,Vn=ho(t.stateNode.containerInfo),an(n,t),sn(t),Vn=l;break;case 12:an(n,t),sn(t);break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Mh=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Ai,j=ue;if(Ai=P||c,ue=j||b,an(n,t),ue=j,Ai=P,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ai||ue||Zr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Kt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Kt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ch(t,r))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(wg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=bh(t);Ju(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(dn(y,""),r.flags&=-33);var E=bh(t);Ju(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=bh(t);Rh(t,P,b);break;default:throw Error(a(161))}}catch(j){Kt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vg(t,n.alternate,n),n=n.sibling}function Zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qi(4,n,n.return),Zr(n);break;case 1:Fn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&bg(n,n.return,r),Zr(n);break;case 27:vl(n.stateNode);case 26:case 5:Fn(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}t=t.sibling}}function Fi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(c,f,r),ol(4,f);break;case 1:if(Fi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)om(b[c],E)}catch(P){Kt(l,l.return,P)}}r&&y&64&&Sg(f),cl(f,f.return);break;case 27:Cg(f);case 26:case 5:Fi(c,f,r),r&&l===null&&y&4&&Rg(f),cl(f,f.return);break;case 12:Fi(c,f,r);break;case 13:Fi(c,f,r),r&&y&4&&Og(c,f);break;case 22:f.memoizedState===null&&Fi(c,f,r),cl(f,f.return);break;case 30:break;default:Fi(c,f,r)}n=n.sibling}}function Dh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xs(r))}function Vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xs(t))}function Kn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ug(t,n,r,l),n=n.sibling}function Ug(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,r,l),c&2048&&ol(9,n);break;case 1:Kn(t,n,r,l);break;case 3:Kn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xs(t)));break;case 12:if(c&2048){Kn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Kn(t,n,r,l);break;case 13:Kn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,r,l):hl(t,n):f._visibility&2?Kn(t,n,r,l):(f._visibility|=2,Ha(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Dh(y,n);break;case 24:Kn(t,n,r,l),c&2048&&Vh(n.alternate,n);break;default:Kn(t,n,r,l)}}function Ha(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(f,y,E,b,c),ol(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&2?Ha(f,y,E,b,c):hl(f,y):(j._visibility|=2,Ha(f,y,E,b,c)),c&&P&2048&&Dh(y.alternate,y);break;case 24:Ha(f,y,E,b,c),c&&P&2048&&Vh(y.alternate,y);break;default:Ha(f,y,E,b,c)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:hl(r,l),c&2048&&Dh(l.alternate,l);break;case 24:hl(r,l),c&2048&&Vh(l.alternate,l);break;default:hl(r,l)}n=n.sibling}}var fl=8192;function ja(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)zg(t),t=t.sibling}function zg(t){switch(t.tag){case 26:ja(t),t.flags&fl&&t.memoizedState!==null&&gE(Vn,t.memoizedState,t.memoizedProps);break;case 5:ja(t);break;case 3:case 4:var n=Vn;Vn=ho(t.stateNode.containerInfo),ja(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=fl,fl=16777216,ja(t),fl=n):ja(t));break;default:ja(t)}}function Lg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,Bg(l,t)}Lg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pg(t),t=t.sibling}function Pg(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):dl(t);break;default:dl(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,Bg(l,t)}Lg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qi(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function Bg(t,n){for(;Ce!==null;){var r=Ce;switch(r.tag){case 0:case 11:case 15:Qi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xs(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ce=l;else t:for(r=t;Ce!==null;){l=Ce;var c=l.sibling,f=l.return;if(Ig(l),l===r){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var N0={getCacheForType:function(t){var n=qe(ve),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},O0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Zt=null,wt=null,Nt=0,jt=0,ln=null,Ki=!1,Ga=!1,Ih=!1,bi=0,ae=0,Xi=0,$r=0,Nh=0,An=0,Qa=0,ml=null,Je=null,Oh=!1,Mh=0,to=1/0,eo=null,Zi=null,xe=0,$i=null,Ya=null,Fa=0,xh=0,Uh=null,qg=null,gl=0,zh=null;function un(){if((Ht&2)!==0&&Nt!==0)return Nt&-Nt;if(H.T!==null){var t=xa;return t!==0?t:jh()}return Oi()}function kg(){An===0&&(An=(Nt&536870912)===0||Pt?bs():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),An}function on(t,n,r){(t===Zt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Ji(t,Nt,An,!1)),ni(t,r),((Ht&2)===0||t!==Zt)&&(t===Zt&&((Ht&2)===0&&($r|=r),ae===4&&Ji(t,Nt,An,!1)),Xn(t))}function Hg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Sr(t,n),c=l?U0(t,n):Bh(t,n,!0),f=l;do{if(c===0){Ga&&!l&&Ji(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!M0(r)){c=Bh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=ml;var b=E.current.memoizedState.isDehydrated;if(b&&(Ka(E,y).flags|=256),y=Bh(E,y,!1),y!==2){if(Ih&&!b){E.errorRecoveryDisabledLanes|=f,$r|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ka(t,0),Ji(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ji(l,n,An,!Ki);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Mh+300-hn(),10<c)){if(Ji(l,n,An,!Ki),ha(l,0,!0)!==0)break t;l.timeoutHandle=yp(jg.bind(null,l,r,Je,eo,Oh,n,An,$r,Qa,Ki,f,2,-0,0),c);break t}jg(l,r,Je,eo,Oh,n,An,$r,Qa,Ki,f,0,-0,0)}}break}while(!0);Xn(t)}function jg(t,n,r,l,c,f,y,E,b,P,j,Y,B,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:mE},zg(n),Y=pE(),Y!==null)){t.cancelPendingCommit=Y(Zg.bind(null,t,n,f,r,l,c,y,E,b,j,1,B,q)),Ji(t,f,y,!P);return}Zg(t,n,f,r,l,c,y,E,b)}function M0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ji(t,n,r,l){n&=~Nh,n&=~$r,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Be(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&xn(t,r,n)}function no(){return(Ht&6)===0?(pl(0),!1):!0}function Lh(){if(wt!==null){if(jt===0)var t=wt.return;else t=wt,pi=Qr=null,th(t),qa=null,sl=0,t=wt;for(;t!==null;)Ag(t.alternate,t),t=t.return;wt=null}}function Ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Lh(),Zt=t,wt=r=di(t.current,null),Nt=n,jt=0,ln=null,Ki=!1,Ga=Sr(t,n),Ih=!1,Qa=An=Nh=$r=Xi=ae=0,Je=ml=null,Oh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Be(l),f=1<<c;n|=t[c],l&=~f}return bi=n,bu(),r}function Gg(t,n){At=null,H.H=ju,n===$s||n===Mu?(n=lm(),jt=3):n===rm?(n=lm(),jt=4):jt=n===ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,wt===null&&(ae=1,Ku(t,yn(n,t.current)))}function Qg(){var t=H.H;return H.H=ju,t===null?ju:t}function Yg(){var t=H.A;return H.A=N0,t}function Ph(){ae=4,Ki||(Nt&4194048)!==Nt&&Tn.current!==null||(Ga=!0),(Xi&134217727)===0&&($r&134217727)===0||Zt===null||Ji(Zt,Nt,An,!1)}function Bh(t,n,r){var l=Ht;Ht|=2;var c=Qg(),f=Yg();(Zt!==t||Nt!==n)&&(eo=null,Ka(t,n)),n=!1;var y=ae;t:do try{if(jt!==0&&wt!==null){var E=wt,b=ln;switch(jt){case 8:Lh(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var P=jt;if(jt=0,ln=null,Xa(t,E,b,P),r&&Ga){y=0;break t}break;default:P=jt,jt=0,ln=null,Xa(t,E,b,P)}}x0(),y=ae;break}catch(j){Gg(t,j)}while(!0);return n&&t.shellSuspendCounter++,pi=Qr=null,Ht=l,H.H=c,H.A=f,wt===null&&(Zt=null,Nt=0,bu()),y}function x0(){for(;wt!==null;)Fg(wt)}function U0(t,n){var r=Ht;Ht|=2;var l=Qg(),c=Yg();Zt!==t||Nt!==n?(eo=null,to=hn()+500,Ka(t,n)):Ga=Sr(t,n);t:do try{if(jt!==0&&wt!==null){n=wt;var f=ln;e:switch(jt){case 1:jt=0,ln=null,Xa(t,n,f,1);break;case 2:case 9:if(am(f)){jt=0,ln=null,Kg(n);break}n=function(){jt!==2&&jt!==9||Zt!==t||(jt=7),Xn(t)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:am(f)?(jt=0,ln=null,Kg(n)):(jt=0,ln=null,Xa(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Vp(y)){jt=0,ln=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,io(P)):wt=null}break e}}jt=0,ln=null,Xa(t,n,f,5);break;case 6:jt=0,ln=null,Xa(t,n,f,6);break;case 8:Lh(),ae=6;break t;default:throw Error(a(462))}}z0();break}catch(j){Gg(t,j)}while(!0);return pi=Qr=null,H.H=l,H.A=c,Ht=r,wt!==null?0:(Zt=null,Nt=0,bu(),ae)}function z0(){for(;wt!==null&&!Es();)Fg(wt)}function Fg(t){var n=Eg(t.alternate,t,bi);t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function Kg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=mg(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=mg(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:th(n);default:Ag(r,n),n=wt=Xd(n,bi),n=Eg(r,n,bi)}t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function Xa(t,n,r,l){pi=Qr=null,th(n),qa=null,sl=0;var c=n.return;try{if(R0(t,c,n,r,Nt)){ae=1,Ku(t,yn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;ae=1,Ku(t,yn(r,t.current)),wt=null;return}n.flags&32768?(Pt||l===1?t=!0:Ga||(Nt&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xg(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){Xg(n,Ki);return}t=n.return;var r=C0(n.alternate,n,bi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);ae===0&&(ae=5)}function Xg(t,n){do{var r=D0(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);ae=6,wt=null}function Zg(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do ro();while(xe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vc,ws(t,r,f,y,E,b),t===Zt&&(wt=Zt=null,Nt=0),Ya=n,$i=t,Fa=r,xh=f,Uh=c,qg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,q0(vr,function(){return ep(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{V0(t,n,r)}finally{Ht=y,tt.p=c,H.T=l}}xe=1,$g(),Jg(),Wg()}}function $g(){if(xe===1){xe=0;var t=$i,n=Ya,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Mg(n,t);var f=$h,y=Bd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Pd(E.ownerDocument.documentElement,E)){if(b!==null&&bc(E)){var P=b.start,j=b.end;if(j===void 0&&(j=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(j,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Ft=b.end===void 0?ct:Math.min(b.end,mt);!q.extend&&ct>Ft&&(y=Ft,Ft=ct,ct=y);var x=Ld(E,ct),V=Ld(E,Ft);if(x&&V&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),ct>Ft?(q.addRange(L),q.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yo=!!Zh,$h=Zh=null}finally{Ht=c,tt.p=l,H.T=r}}t.current=n,xe=2}}function Jg(){if(xe===2){xe=0;var t=$i,n=Ya,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Vg(t,n.alternate,n)}finally{Ht=c,tt.p=l,H.T=r}}xe=3}}function Wg(){if(xe===4||xe===3){xe=0,Wl();var t=$i,n=Ya,r=Fa,l=qg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Ya=$i=null,tp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Zi=null),fa(r),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Fa&3)!==0&&ro(),Xn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===zh?gl++:(gl=0,zh=t):gl=0,pl(0)}}function tp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xs(n)))}function ro(t){return $g(),Jg(),Wg(),ep()}function ep(){if(xe!==5)return!1;var t=$i,n=xh;xh=0;var r=fa(Fa),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=Uh,Uh=null;var f=$i,y=Fa;if(xe=0,Ya=$i=null,Fa=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Pg(f.current),Ug(f,f.current,y,r),Ht=E,pl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{tt.p=c,H.T=l,tp(t,n)}}function np(t,n,r){n=yn(r,n),n=mh(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(ni(t,2),Xn(t))}function Kt(t,n,r){if(t.tag===3)np(t,t,r);else for(;n!==null;){if(n.tag===3){np(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=yn(r,t),r=sg(2),l=ki(n,r,2),l!==null&&(lg(r,l,n,t),ni(l,2),Xn(l));break}}n=n.return}}function qh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new O0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ih=!0,c.add(r),t=L0.bind(null,t,n,r),n.then(t,t))}function L0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(Nt&r)===r&&(ae===4||ae===3&&(Nt&62914560)===Nt&&300>hn()-Mh?(Ht&2)===0&&Ka(t,0):Nh|=r,Qa===Nt&&(Qa=0)),Xn(t)}function ip(t,n){n===0&&(n=Rs()),t=Ia(t,n),t!==null&&(ni(t,n),Xn(t))}function P0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),ip(t,r)}function B0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),ip(t,r)}function q0(t,n){return yr(t,n)}var ao=null,Za=null,kh=!1,so=!1,Hh=!1,Jr=0;function Xn(t){t!==Za&&t.next===null&&(Za===null?ao=Za=t:Za=Za.next=t),so=!0,kh||(kh=!0,H0())}function pl(t,n){if(!Hh&&so){Hh=!0;do for(var r=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Be(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,lp(l,f))}else f=Nt,f=ha(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Sr(l,f)||(r=!0,lp(l,f));l=l.next}while(r);Hh=!1}}function k0(){rp()}function rp(){so=kh=!1;var t=0;Jr!==0&&(Z0()&&(t=Jr),Jr=0);for(var n=hn(),r=null,l=ao;l!==null;){var c=l.next,f=ap(l,n);f===0?(l.next=null,r===null?ao=c:r.next=c,c===null&&(Za=r)):(r=l,(t!==0||(f&3)!==0)&&(so=!0)),l=c}pl(t)}function ap(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Be(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ss(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,r=Nt,r=ha(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Sr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&_r(l),fa(r)){case 2:case 8:r=oa;break;case 32:r=vr;break;case 268435456:r=ca;break;default:r=vr}return l=sp.bind(null,t),r=yr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&_r(l),t.callbackPriority=2,t.callbackNode=null,2}function sp(t,n){if(xe!==0&&xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var l=Nt;return l=ha(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hg(t,l,n),ap(t,hn()),t.callbackNode!=null&&t.callbackNode===r?sp.bind(null,t):null)}function lp(t,n){if(ro())return null;Hg(t,n,!0)}function H0(){J0(function(){(Ht&6)!==0?yr(Ts,k0):rp()})}function jh(){return Jr===0&&(Jr=bs()),Jr}function up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function op(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function j0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=up((c[ce]||null).action),y=l.submitter;y&&(n=(n=y[ce]||null)?up(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new va("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var b=y?op(c,y):new FormData(c);oh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?op(c,y):new FormData(c),oh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Gh=0;Gh<Dc.length;Gh++){var Qh=Dc[Gh],G0=Qh.toLowerCase(),Q0=Qh[0].toUpperCase()+Qh.slice(1);Dn(G0,"on"+Q0)}Dn(Hd,"onAnimationEnd"),Dn(jd,"onAnimationIteration"),Dn(Gd,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(u0,"onTransitionRun"),Dn(o0,"onTransitionStart"),Dn(c0,"onTransitionCancel"),Dn(Qd,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function cp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){Fu(j)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){Fu(j)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[Ds];r===void 0&&(r=n[Ds]=new Set);var l=t+"__bubble";r.has(l)||(hp(n,t,2,!1),r.add(l))}function Yh(t,n,r){var l=0;n&&(l|=4),hp(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Fh(t){if(!t[lo]){t[lo]=!0,Vs.forEach(function(r){r!=="selectionchange"&&(Y0.has(r)||Yh(r,!1,t),Yh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,Yh("selectionchange",!1,n))}}function hp(t,n,r,l){switch(Up(n)){case 2:var c=vE;break;case 8:c=EE;break;default:c=uf}r=c.bind(null,n,r,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Kh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ii(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var P=f,j=mn(r),Y=[];t:{var B=Yd.get(t);if(B!==void 0){var q=va,mt=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":q=Ra;break;case"focusin":mt="focus",q=Aa;break;case"focusout":mt="blur",q=Aa;break;case"beforeblur":case"afterblur":q=Aa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yu;break;case Hd:case jd:case Gd:q=Sa;break;case Qd:q=vu;break;case"scroll":case"scrollend":q=cu;break;case"wheel":q=wa;break;case"copy":case"cut":case"paste":q=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ks;break;case"toggle":case"beforetoggle":q=Tu}var ct=(n&4)!==0,Ft=!ct&&(t==="scroll"||t==="scrollend"),x=ct?B!==null?B+"Capture":null:B;ct=[];for(var V=P,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=Nr(V,x),Q!=null&&ct.push(_l(V,Q,L))),Ft)break;V=V.return}0<ct.length&&(B=new q(B,mt,null,r,j),Y.push({event:B,listeners:ct}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==li&&(mt=r.relatedTarget||r.fromElement)&&(ii(mt)||mt[fn]))break t;if((q||B)&&(B=j.window===j?j:(B=j.ownerDocument)?B.defaultView||B.parentWindow:window,q?(mt=r.relatedTarget||r.toElement,q=P,mt=mt?ii(mt):null,mt!==null&&(Ft=h(mt),ct=mt.tag,mt!==Ft||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(q=null,mt=P),q!==mt)){if(ct=pn,Q="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ct=ks,Q="onPointerLeave",x="onPointerEnter",V="pointer"),Ft=q==null?B:zn(q),L=mt==null?B:zn(mt),B=new ct(Q,V+"leave",q,r,j),B.target=Ft,B.relatedTarget=L,Q=null,ii(j)===P&&(ct=new ct(x,V+"enter",mt,r,j),ct.target=L,ct.relatedTarget=Ft,Q=ct),Ft=Q,q&&mt)e:{for(ct=q,x=mt,V=0,L=ct;L;L=$a(L))V++;for(L=0,Q=x;Q;Q=$a(Q))L++;for(;0<V-L;)ct=$a(ct),V--;for(;0<L-V;)x=$a(x),L--;for(;V--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=$a(ct),x=$a(x)}ct=null}else ct=null;q!==null&&fp(Y,B,q,ct,!1),mt!==null&&Ft!==null&&fp(Y,Ft,mt,ct,!0)}}t:{if(B=P?zn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var rt=Nd;else if(_e(B))if(Od)rt=a0;else{rt=i0;var Rt=n0}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&xs(P.elementType)&&(rt=Nd):rt=r0;if(rt&&(rt=rt(t,P))){fi(Y,rt,r,j);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&zi(B,"number",B.value)}switch(Rt=P?zn(P):window,t){case"focusin":(_e(Rt)||Rt.contentEditable==="true")&&(Ca=Rt,Rc=P,Gs=null);break;case"focusout":Gs=Rc=Ca=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,qd(Y,r,j);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":qd(Y,r,j)}var st;if(jn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?k(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(g&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(st=zs()):(Bn=j,Li="value"in Bn?Bn.value:Bn.textContent,Vt=!0)),Rt=uo(P,ht),0<Rt.length&&(ht=new Bs(ht,t,null,r,j),Y.push({event:ht,listeners:Rt}),st?ht.data=st:(st=W(r),st!==null&&(ht.data=st)))),(st=m?ye(t,r):It(t,r))&&(ht=uo(P,"onBeforeInput"),0<ht.length&&(Rt=new Bs("onBeforeInput","beforeinput",null,r,j),Y.push({event:Rt,listeners:ht}),Rt.data=st)),j0(Y,t,P,r,j)}cp(Y,n)})}function _l(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Nr(t,r),c!=null&&l.unshift(_l(t,c,f)),c=Nr(t,n),c!=null&&l.push(_l(t,c,f))),t.tag===3)return l;t=t.return}return[]}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Nr(r,f),P!=null&&y.unshift(_l(r,P,b))):c||(P=Nr(r,f),P!=null&&y.push(_l(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var F0=/\r\n?/g,K0=/\u0000|\uFFFD/g;function dp(t){return(typeof t=="string"?t:""+t).replace(F0,`
`).replace(K0,"")}function mp(t,n){return n=dp(n),dp(t)===n}function oo(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":Ln(t,"class",l);break;case"tabIndex":Ln(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(t,r,l);break;case"style":Ms(t,l,f);break;case"data":if(n!=="object"){Ln(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=_a(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=_a(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Ui(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ui(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_c.get(r)||r,Ui(t,r,l))}}function Xh(t,n,r,l,c,f){switch(r){case"style":Ms(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ce]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ui(t,r,l)}}}function Ue(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var j=r[l];if(j!=null)switch(l){case"name":c=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":P=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Yt(t,n,l,j,r,null)}}Dr(t,f,E,b,P,y,c,!1),ya(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?si(t,!!l,n,!1):r!=null&&si(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}Vr(t,l,c,f),ya(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Ct(yl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(xs(n)){for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!==void 0&&Xh(t,n,j,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function X0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,j=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":j=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Yt(t,n,B,q,l,Y)}}en(t,y,E,b,P,j,f,c);return;case"select":q=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=q,B!=null?si(t,!!r,B,!1):!!l!=!!r&&(n!=null?si(t,!!r,n,!0):si(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Gt(t,B,q);return;case"option":for(var mt in r)if(B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Yt(t,n,mt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)B=r[ct],r.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Yt(t,n,ct,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Yt(t,n,P,B,l,q)}return;default:if(xs(n)){for(var Ft in r)B=r[Ft],r.hasOwnProperty(Ft)&&B!==void 0&&!l.hasOwnProperty(Ft)&&Xh(t,n,Ft,void 0,l,B);for(j in l)B=l[j],q=r[j],!l.hasOwnProperty(j)||B===q||B===void 0&&q===void 0||Xh(t,n,j,B,l,q);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(Y in l)B=l[Y],q=r[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||Yt(t,n,Y,B,l,q)}var Zh=null,$h=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wh=null;function Z0(){var t=window.event;return t&&t.type==="popstate"?t===Wh?!1:(Wh=t,!0):(Wh=null,!1)}var yp=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,_p=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof _p<"u"?function(t){return _p.resolve(null).then(t).catch(W0)}:yp;function W0(t){setTimeout(function(){throw t})}function Wi(t){return t==="head"}function vp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&vl(y.documentElement),r&2&&vl(y.body),r&4)for(r=y.head,vl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[br]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Cl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Cl(n)}function tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tf(r),xi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function tE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[br])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function eE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=In(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function nE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var nf=null;function Ep(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Tp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);xi(t)}var Sn=new Map,Ap=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=tt.d;tt.d={f:iE,r:rE,D:aE,C:sE,L:lE,m:uE,X:cE,S:oE,M:hE};function iE(){var t=Ri.f(),n=no();return t||n}function rE(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?Hm(n):Ri.r(t)}var Ja=typeof document>"u"?null:document;function Sp(t,n,r){var l=Ja;if(l&&typeof n=="string"&&n){var c=he(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Ap.has(c)||(Ap.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ue(n,"link",t),se(n),l.head.appendChild(n)))}}function aE(t){Ri.D(t),Sp("dns-prefetch",t,null)}function sE(t,n){Ri.C(t,n),Sp("preconnect",t,n)}function lE(t,n,r){Ri.L(t,n,r);var l=Ja;if(l&&t&&n){var c='link[rel="preload"][as="'+he(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+he(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+he(r.imageSizes)+'"]')):c+='[href="'+he(t)+'"]';var f=c;switch(n){case"style":f=Wa(t);break;case"script":f=ts(t)}Sn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Sn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(El(f))||n==="script"&&l.querySelector(Tl(f))||(n=l.createElement("link"),Ue(n,"link",t),se(n),l.head.appendChild(n)))}}function uE(t,n){Ri.m(t,n);var r=Ja;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+he(l)+'"][href="'+he(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ts(t)}if(!Sn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Tl(f)))return}l=r.createElement("link"),Ue(l,"link",t),se(l),r.head.appendChild(l)}}}function oE(t,n,r){Ri.S(t,n,r);var l=Ja;if(l&&t){var c=Ye(l).hoistableStyles,f=Wa(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(El(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Sn.get(f))&&rf(t,r);var b=y=l.createElement("link");se(b),Ue(b,"link",t),b._p=new Promise(function(P,j){b.onload=P,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function cE(t,n){Ri.X(t,n);var r=Ja;if(r&&t){var l=Ye(r).hoistableScripts,c=ts(t),f=l.get(c);f||(f=r.querySelector(Tl(c)),f||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&af(t,n),f=r.createElement("script"),se(f),Ue(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hE(t,n){Ri.M(t,n);var r=Ja;if(r&&t){var l=Ye(r).hoistableScripts,c=ts(t),f=l.get(c);f||(f=r.querySelector(Tl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&af(t,n),f=r.createElement("script"),se(f),Ue(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function bp(t,n,r,l){var c=(c=pt.current)?ho(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Wa(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Wa(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(El(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Sn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Sn.set(t,r),f||fE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ts(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Wa(t){return'href="'+he(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function Rp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function fE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ue(n,"link",r),se(n),t.head.appendChild(n))}function ts(t){return'[src="'+he(t)+'"]'}function Tl(t){return"script[async]"+t}function wp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+he(r.href)+'"]');if(l)return n.instance=l,se(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),se(l),Ue(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=Wa(r.href);var f=t.querySelector(El(c));if(f)return n.state.loading|=4,n.instance=f,se(f),f;l=Rp(r),(c=Sn.get(c))&&rf(l,c),f=(t.ownerDocument||t).createElement("link"),se(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ue(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=ts(r.src),(c=t.querySelector(Tl(f)))?(n.instance=c,se(c),c):(l=r,(c=Sn.get(f))&&(l=A({},r),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),se(c),Ue(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function Cp(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[br]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Dp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function dE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function mE(){}function gE(t,n,r){if(Al===null)throw Error(a(475));var l=Al;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Wa(r.href),f=t.querySelector(El(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,se(f);return}f=t.ownerDocument||t,r=Rp(r),(c=Sn.get(c))&&rf(r,c),f=f.createElement("link"),se(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ue(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function pE(){if(Al===null)throw Error(a(475));var t=Al;return t.stylesheets&&t.count===0&&sf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&sf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function sf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(yE,t),po=null,go.call(t))}function yE(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Sl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function _E(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ip(t,n,r,l,c,f,y,E,b,P,j,Y){return t=new _E(t,n,r,y,E,b,P,Y),n=1,f===!0&&(n|=24),f=rn(3,null,null,n),t.current=f,f.stateNode=t,n=qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Gc(f),t}function Np(t){return t?(t=Na,t):Na}function Op(t,n,r,l,c,f){c=Np(c),l.context===null?l.context=c:l.pendingContext=c,l=qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ki(t,l,n),r!==null&&(on(r,t,n),Ws(r,t,n))}function Mp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function lf(t,n){Mp(t,n),(t=t.alternate)&&Mp(t,n)}function xp(t){if(t.tag===13){var n=Ia(t,67108864);n!==null&&on(n,t,67108864),lf(t,67108864)}}var yo=!0;function vE(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,uf(t,n,r,l)}finally{tt.p=f,H.T=c}}function EE(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,uf(t,n,r,l)}finally{tt.p=f,H.T=c}}function uf(t,n,r,l){if(yo){var c=of(l);if(c===null)Kh(t,n,l,_o,r),zp(t,l);else if(AE(c,t,n,r,l))l.stopPropagation();else if(zp(t,l),n&4&&-1<TE.indexOf(t)){for(;c!==null;){var f=Un(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Rn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Be(y);E.entanglements[1]|=b,y&=~b}Xn(f),(Ht&6)===0&&(to=hn()+500,pl(0))}}break;case 13:E=Ia(f,2),E!==null&&on(E,f,2),no(),lf(f,2)}if(f=of(l),f===null&&Kh(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Kh(t,n,l,null,r)}}function of(t){return t=mn(t),cf(t)}var _o=null;function cf(t){if(_o=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function Up(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fc()){case Ts:return 2;case oa:return 8;case vr:case dc:return 32;case ca:return 268435456;default:return 32}default:return 32}}var hf=!1,tr=null,er=null,nr=null,bl=new Map,Rl=new Map,ir=[],TE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(t,n){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function wl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Un(n),n!==null&&xp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function AE(t,n,r,l,c){switch(n){case"focusin":return tr=wl(tr,t,n,r,l,c),!0;case"dragenter":return er=wl(er,t,n,r,l,c),!0;case"mouseover":return nr=wl(nr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return bl.set(f,wl(bl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Rl.set(f,wl(Rl.get(f)||null,t,n,r,l,c)),!0}return!1}function Lp(t){var n=ii(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,nu(t.priority,function(){if(r.tag===13){var l=un();l=Ni(l);var c=Ia(r,l);c!==null&&on(c,r,l),lf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=of(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);li=l,r.target.dispatchEvent(l),li=null}else return n=Un(r),n!==null&&xp(n),t.blockedOn=r,!1;n.shift()}return!0}function Pp(t,n,r){vo(t)&&r.delete(n)}function SE(){hf=!1,tr!==null&&vo(tr)&&(tr=null),er!==null&&vo(er)&&(er=null),nr!==null&&vo(nr)&&(nr=null),bl.forEach(Pp),Rl.forEach(Pp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,hf||(hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,SE)))}var To=null;function Bp(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(cf(l||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,oh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Cl(t){function n(b){return Eo(b,t)}tr!==null&&Eo(tr,t),er!==null&&Eo(er,t),nr!==null&&Eo(nr,t),bl.forEach(n),Rl.forEach(n);for(var r=0;r<ir.length;r++){var l=ir[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ir.length&&(r=ir[0],r.blockedOn===null);)Lp(r),r.blockedOn===null&&ir.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ce]||null;if(typeof f=="function")y||Bp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ce]||null)E=y.formAction;else if(cf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Bp(r)}}}function ff(t){this._internalRoot=t}Ao.prototype.render=ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=un();Op(r,l,t,n,null,null)},Ao.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Op(t.current,2,null,t,null,null),no(),n[fn]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=Oi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ir.length&&n!==0&&n<ir[r].priority;r++);ir.splice(r,0,t),r===0&&Lp(t)}};var qp=e.version;if(qp!=="19.1.0")throw Error(a(527,qp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var bE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{ie=So.inject(bE),kt=So}catch{}}return Vl.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=ng,f=ig,y=rg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Ip(t,1,!1,null,null,r,l,c,f,y,E,null),t[fn]=n.current,Fh(t),new ff(n)},Vl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=ng,y=ig,E=rg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Ip(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Np(null),r=n.current,l=un(),l=Ni(l),c=qi(l),c.callback=null,ki(r,c,l),r=l,n.current.lanes=r,ni(n,r),Xn(n),t[fn]=n.current,Fh(t),new Ao(n)},Vl.version="19.1.0",Vl}var Zp;function xE(){if(Zp)return gf.exports;Zp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gf.exports=ME(),gf.exports}var UE=xE();function zE({note:s,onDelete:e}){const i=()=>{e(s.id)};return Ge.jsxs("div",{className:"note-container",children:[Ge.jsxs("div",{className:"note",children:[Ge.jsx("h2",{className:"note-id",children:s.text}),Ge.jsxs("p",{className:"note-text",children:["ID: ",s.id]})]}),Ge.jsx("button",{className:"delete-button",onClick:i,children:""})]})}function LE({onAddNote:s}){const[e,i]=Uo.useState(""),a=h=>{i(h.target.value)},u=()=>{e.trim()!==""&&(s(e),i(""))};return Ge.jsxs("div",{className:"note-input-container",children:[Ge.jsx("input",{type:"text",className:"note-input",value:e,onChange:a,placeholder:"...",autoFocus:!0}),Ge.jsx("button",{className:"add-note-button",onClick:u,children:""})]})}const PE=()=>{};var $p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},BE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},h_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,D=(h&3)<<4|p>>4;let M=(p&15)<<2|v>>6,G=v&63;_||(G=64,d||(M=64)),a.push(i[A],i[D],i[M],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(c_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):BE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const D=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||v==null||D==null)throw new qE;const M=h<<2|p>>4;if(a.push(M),v!==64){const G=p<<4&240|v>>2;if(a.push(G),D!==64){const Z=v<<6&192|D;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class qE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kE=function(s){const e=c_(s);return h_.encodeByteArray(e,!0)},zo=function(s){return kE(s).replace(/\./g,"")},HE=function(s){try{return h_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=()=>jE().__FIREBASE_DEFAULTS__,QE=()=>{if(typeof process>"u"||typeof $p>"u")return;const s=$p.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},YE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&HE(s[1]);return e&&JSON.parse(e)},Zf=()=>{try{return PE()||GE()||QE()||YE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},FE=s=>{var e,i;return(i=(e=Zf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},KE=s=>{const e=FE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},f_=()=>{var s;return(s=Zf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(s){return s.endsWith(".cloudworkstations.dev")}async function ZE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[zo(JSON.stringify(i)),zo(JSON.stringify(d)),""].join(".")}const xl={};function JE(){const s={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?s.emulator.push(e):s.prod.push(e);return s}function WE(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Jp=!1;function tT(s,e){if(typeof window>"u"||typeof document>"u"||!$f(window.location.host)||xl[s]===e||xl[s]||Jp)return;xl[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=JE().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Jp=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function D(){const M=WE(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),Et=i("preprendIcon"),gt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ft=M.element;p(ft),A(J,nt);const xt=v();_(gt,Et),ft.append(gt,Z,J,xt),document.body.appendChild(ft)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nT(){var s;const e=(s=Zf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){return!nT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rT(){try{return typeof indexedDB=="object"}catch{return!1}}function aT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="FirebaseError";class ms extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=sT,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d_.prototype.create)}}class d_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?lT(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new ms(u,p,a)}}function lT(s,e){return s.replace(uT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const uT=/\{\$([^}]+)}/g;function Lo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(Wp(h)&&Wp(d)){if(!Lo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Wp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(s){return s&&s._delegate?s._delegate:s}class ql{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new XE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hT(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cT(s){return s===Wr?void 0:s}function hT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new oT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const dT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},mT=Mt.INFO,gT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},pT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=gT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class m_{constructor(e){this.name=e,this._logLevel=mT,this._logHandler=pT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const yT=(s,e)=>e.some(i=>s instanceof i);let ty,ey;function _T(){return ty||(ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vT(){return ey||(ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g_=new WeakMap,Cf=new WeakMap,p_=new WeakMap,vf=new WeakMap,Jf=new WeakMap;function ET(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(sr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&g_.set(i,s)}).catch(()=>{}),Jf.set(e,s),e}function TT(s){if(Cf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Cf.set(s,e)}let Df={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Cf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||p_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function AT(s){Df=s(Df)}function ST(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ef(this),e,...i);return p_.set(a,e.sort?e.sort():[e]),sr(a)}:vT().includes(s)?function(...e){return s.apply(Ef(this),e),sr(g_.get(this))}:function(...e){return sr(s.apply(Ef(this),e))}}function bT(s){return typeof s=="function"?ST(s):(s instanceof IDBTransaction&&TT(s),yT(s,_T())?new Proxy(s,Df):s)}function sr(s){if(s instanceof IDBRequest)return ET(s);if(vf.has(s))return vf.get(s);const e=bT(s);return e!==s&&(vf.set(s,e),Jf.set(e,s)),e}const Ef=s=>Jf.get(s);function RT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=sr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(sr(d.result),_.oldVersion,_.newVersion,sr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const wT=["get","getKey","getAll","getAllKeys","count"],CT=["put","add","delete","clear"],Tf=new Map;function ny(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=CT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||wT.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),u&&_.done]))[0]};return Tf.set(e,h),h}AT(s=>({...s,get:(e,i,a)=>ny(e,i)||s.get(e,i,a),has:(e,i)=>!!ny(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function VT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",iy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new m_("@firebase/app"),IT="@firebase/app-compat",NT="@firebase/analytics-compat",OT="@firebase/analytics",MT="@firebase/app-check-compat",xT="@firebase/app-check",UT="@firebase/auth",zT="@firebase/auth-compat",LT="@firebase/database",PT="@firebase/data-connect",BT="@firebase/database-compat",qT="@firebase/functions",kT="@firebase/functions-compat",HT="@firebase/installations",jT="@firebase/installations-compat",GT="@firebase/messaging",QT="@firebase/messaging-compat",YT="@firebase/performance",FT="@firebase/performance-compat",KT="@firebase/remote-config",XT="@firebase/remote-config-compat",ZT="@firebase/storage",$T="@firebase/storage-compat",JT="@firebase/firestore",WT="@firebase/ai",t1="@firebase/firestore-compat",e1="firebase",n1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",i1={[Vf]:"fire-core",[IT]:"fire-core-compat",[OT]:"fire-analytics",[NT]:"fire-analytics-compat",[xT]:"fire-app-check",[MT]:"fire-app-check-compat",[UT]:"fire-auth",[zT]:"fire-auth-compat",[LT]:"fire-rtdb",[PT]:"fire-data-connect",[BT]:"fire-rtdb-compat",[qT]:"fire-fn",[kT]:"fire-fn-compat",[HT]:"fire-iid",[jT]:"fire-iid-compat",[GT]:"fire-fcm",[QT]:"fire-fcm-compat",[YT]:"fire-perf",[FT]:"fire-perf-compat",[KT]:"fire-rc",[XT]:"fire-rc-compat",[ZT]:"fire-gcs",[$T]:"fire-gcs-compat",[JT]:"fire-fst",[t1]:"fire-fst-compat",[WT]:"fire-vertex","fire-js":"fire-js",[e1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,r1=new Map,Nf=new Map;function ry(s,e){try{s.container.addComponent(e)}catch(i){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Bo(s){const e=s.name;if(Nf.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Nf.set(e,s);for(const i of Po.values())ry(i,s);for(const i of r1.values())ry(i,s);return!0}function a1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function s1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new d_("app","Firebase",l1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=n1;function y_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:If,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw lr.create("bad-app-name",{appName:String(u)});if(i||(i=f_()),!i)throw lr.create("no-options");const h=Po.get(u);if(h){if(Lo(i,h.options)&&Lo(a,h.config))return h;throw lr.create("duplicate-app",{appName:u})}const d=new fT(u);for(const _ of Nf.values())d.addComponent(_);const p=new u1(i,a,d);return Po.set(u,p),p}function c1(s=If){const e=Po.get(s);if(!e&&s===If&&f_())return y_();if(!e)throw lr.create("no-app",{appName:s});return e}function as(s,e,i){var a;let u=(a=i1[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(p.join(" "));return}Bo(new ql(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebase-heartbeat-database",f1=1,kl="firebase-heartbeat-store";let Af=null;function __(){return Af||(Af=RT(h1,f1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Af}async function d1(s){try{const i=(await __()).transaction(kl),a=await i.objectStore(kl).get(v_(s));return await i.done,a}catch(e){if(e instanceof ms)Ci.warn(e.message);else{const i=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(i.message)}}}async function ay(s,e){try{const a=(await __()).transaction(kl,"readwrite");await a.objectStore(kl).put(e,v_(s)),await a.done}catch(i){if(i instanceof ms)Ci.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ci.warn(a.message)}}}function v_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=1024,g1=30;class p1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=sy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>g1){const d=v1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ci.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=sy(),{heartbeatsToSend:a,unsentEntries:u}=y1(this._heartbeatsCache.heartbeats),h=zo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ci.warn(i),""}}}function sy(){return new Date().toISOString().substring(0,10)}function y1(s,e=m1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),ly(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),ly(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class _1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rT()?aT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await d1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function ly(s){return zo(JSON.stringify({version:2,heartbeats:s})).length}function v1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(s){Bo(new ql("platform-logger",e=>new DT(e),"PRIVATE")),Bo(new ql("heartbeat",e=>new p1(e),"PRIVATE")),as(Vf,iy,s),as(Vf,iy,"esm2017"),as("fire-js","")}E1("");var T1="firebase",A1="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(T1,A1,"app");var uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ur,E_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(I,O,U){for(var R=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)R[Ie-2]=arguments[Ie];return S.prototype[O].apply(I,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,w){w||(w=0);var I=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)I[O]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(O=0;16>O;++O)I[O]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],O=N.g[2];var U=N.g[3],R=S+(U^w&(O^U))+I[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+I[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+I[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+I[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(U^w&(O^U))+I[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+I[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+I[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+I[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(U^w&(O^U))+I[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+I[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+I[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+I[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(U^w&(O^U))+I[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+I[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+I[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+I[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(O^U&(w^O))+I[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+I[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+I[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+I[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(w^O))+I[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+I[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+I[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+I[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(w^O))+I[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+I[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+I[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+I[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(w^O))+I[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+I[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+I[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+I[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(w^O^U)+I[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+I[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+I[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+I[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^U)+I[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+I[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+I[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+I[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^U)+I[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+I[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+I[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+I[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^U)+I[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+I[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+I[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+I[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(O^(w|~U))+I[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+I[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+I[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+I[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~U))+I[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+I[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+I[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+I[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~U))+I[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+I[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+I[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+I[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~U))+I[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+I[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+I[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,I=this.B,O=this.h,U=0;U<S;){if(O==0)for(;U<=w;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(I[O++]=N.charCodeAt(U++),O==this.blockSize){u(this,I),O=0;break}}else for(;U<S;)if(I[O++]=N[U++],O==this.blockSize){u(this,I),O=0;break}}this.h=O,this.o+=S},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var I=0;32>I;I+=8)N[w++]=this.g[S]>>>I&255;return N};function h(N,S){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],I=!0,O=N.length-1;0<=O;O--){var U=N[O]|0;I&&U==S||(w[O]=U,I=!1)}this.g=w}var p={};function _(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return D;if(0>N)return J(v(-N));for(var S=[],w=1,I=0;N>=w;I++)S[I]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),I=D,O=0;O<N.length;O+=8){var U=Math.min(8,N.length-O),R=parseInt(N.substring(O,O+U),S);8>U?(U=v(Math.pow(S,U)),I=I.j(U).add(v(R))):(I=I.j(w),I=I.add(v(R)))}return I}var D=_(0),M=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var I=this.i(w);N+=(0<=I?I:4294967296+I)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(N);for(var S=v(Math.pow(N,6)),w=this,I="";;){var O=xt(w,S).g;w=Et(w,O.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=O,Z(w))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function nt(N){return N.h==-1}s.l=function(N){return N=Et(this,N),nt(N)?-1:Z(N)?0:1};function J(N){for(var S=N.g.length,w=[],I=0;I<S;I++)w[I]=~N.g[I];return new d(w,~N.h).add(M)}s.abs=function(){return nt(this)?J(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],I=0,O=0;O<=S;O++){var U=I+(this.i(O)&65535)+(N.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);I=R>>>16,U&=65535,R&=65535,w[O]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Et(N,S){return N.add(J(S))}s.j=function(N){if(Z(this)||Z(N))return D;if(nt(this))return nt(N)?J(this).j(J(N)):J(J(this).j(N));if(nt(N))return J(this.j(J(N)));if(0>this.l(G)&&0>N.l(G))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],I=0;I<2*S;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<N.g.length;O++){var U=this.i(I)>>>16,R=this.i(I)&65535,Ie=N.i(O)>>>16,ne=N.i(O)&65535;w[2*I+2*O]+=R*ne,gt(w,2*I+2*O),w[2*I+2*O+1]+=U*ne,gt(w,2*I+2*O+1),w[2*I+2*O+1]+=R*Ie,gt(w,2*I+2*O+1),w[2*I+2*O+2]+=U*Ie,gt(w,2*I+2*O+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function gt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function xt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new ft(D,D);if(nt(N))return S=xt(J(N),S),new ft(J(S.g),J(S.h));if(nt(S))return S=xt(N,J(S)),new ft(J(S.g),S.h);if(30<N.g.length){if(nt(N)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=M,I=S;0>=I.l(N);)w=vt(w),I=vt(I);var O=zt(w,1),U=zt(I,1);for(I=zt(I,2),w=zt(w,2);!Z(I);){var R=U.add(I);0>=R.l(N)&&(O=O.add(w),U=R),I=zt(I,1),w=zt(w,1)}return S=Et(N,O.j(S)),new ft(O,S)}for(O=D;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=v(w),R=U.j(S);nt(R)||0<R.l(N);)w-=I,U=v(w),R=U.j(S);Z(U)&&(U=M),O=O.add(U),N=Et(N,R)}return new ft(O,N)}s.A=function(N){return xt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)&N.i(I);return new d(w,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)|N.i(I);return new d(w,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)^N.i(I);return new d(w,this.h^N.h)};function vt(N){for(var S=N.g.length+1,w=[],I=0;I<S;I++)w[I]=N.i(I)<<1|N.i(I-1)>>>31;return new d(w,N.h)}function zt(N,S){var w=S>>5;S%=32;for(var I=N.g.length-w,O=[],U=0;U<I;U++)O[U]=0<S?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(O,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,E_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,ur=d}).apply(typeof uy<"u"?uy:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T_,Il,A_,Vo,Of,S_,b_,R_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in g))break t;g=g[z]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,z={next:function(){if(!T&&g<o.length){var k=g++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function D(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function M(o,m,g){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,M.apply(null,arguments)}function G(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,z,k){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[z].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function J(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const z=o.length||0,k=T.length||0;o.length=z+k;for(let W=0;W<k;W++)o[z+W]=T[W]}else o.push(T)}}class Et{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(o){return/^[\s\xa0]*$/.test(o)}function ft(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function xt(o){return xt[" "](o),o}xt[" "]=function(){};var vt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function zt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function N(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)o[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function O(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function R(){var o=Lt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,g){const T=ne.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new Et(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Lt=new Ie,C=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(X)}};var X=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){U(g)}var m=ne;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function bt(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{xt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}Z(bt,$);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function Mn(o,m,g,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++Xt,this.da=this.fa=!1}function Ii(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ti(o){this.src=o,this.g={},this.h=0}ti.prototype.add=function(o,m,g,T,z){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var W=yr(o,m,T,z);return-1<W?(m=o[W],g||(m.fa=!1)):(m=new Mn(m,this.src,k,!!T,z),m.fa=g,o.push(m)),m};function pr(o,m){var g=m.type;if(g in o.g){var T=o.g[g],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=z)&&Array.prototype.splice.call(T,z,1),k&&(Ii(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function yr(o,m,g,T){for(var z=0;z<o.length;++z){var k=o[z];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return z}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),Es={};function Wl(o,m,g,T,z){if(Array.isArray(m)){for(var k=0;k<m.length;k++)Wl(o,m[k],g,T,z);return null}return g=tu(g),o&&o[Se]?o.K(m,g,v(T)?!!T.capture:!1,z):hn(o,m,g,!1,T,z)}function hn(o,m,g,T,z,k){if(!m)throw Error("Invalid event type");var W=v(z)?!!z.capture:!!z,Vt=ca(o);if(Vt||(o[_r]=Vt=new ti(o)),g=Vt.add(m,g,T,W,k),g.proxy)return g;if(T=fc(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ot||(z=W),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(vr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function fc(){function o(g){return m.call(o.src,o.listener,g)}const m=dc;return o}function Ts(o,m,g,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ts(o,m[k],g,T,z);else T=v(T)?!!T.capture:!!T,g=tu(g),o&&o[Se]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],g=yr(k,g,T,z),-1<g&&(Ii(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=ca(o))&&(m=o.g[m.toString()],o=-1,m&&(o=yr(m,g,T,z)),(g=-1<o?m[o]:null)&&oa(g))}function oa(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Se])pr(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(vr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ca(m))?(pr(g,o),g.h==0&&(g.src=null,m[_r]=null)):Ii(o)}}}function vr(o){return o in Es?Es[o]:Es[o]="on"+o}function dc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&oa(o),o=g.call(T,m)}return o}function ca(o){return o=o[_r],o instanceof ti?o:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[As]||(o[As]=function(m){return o.handleEvent(m)}),o[As])}function ie(){et.call(this),this.i=new ti(this),this.M=this,this.F=null}Z(ie,et),ie.prototype[Se]=!0,ie.prototype.removeEventListener=function(o,m,g,T){Ts(this,o,m,g,T)};function kt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var z=m;m=new $(T,o),I(m,z)}if(z=!0,g)for(var k=g.length-1;0<=k;k--){var W=m.g=g[k];z=tn(W,T,!0,m)&&z}if(W=m.g=o,z=tn(W,T,!0,m)&&z,z=tn(W,T,!1,m)&&z,g)for(k=0;k<g.length;k++)W=m.g=g[k],z=tn(W,T,!1,m)&&z}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Ii(g[T]);delete o.g[m],o.h--}}this.F=null},ie.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ie.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function tn(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==g){var Vt=W.listener,ye=W.ha||W.src;W.fa&&pr(o.i,W),z=Vt.call(ye,T)!==!1&&z}}return z&&!T.defaultPrevented}function Be(o,m,g){if(typeof o=="function")g&&(o=M(o,g));else if(o&&typeof o.handleEvent=="function")o=M(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function eu(o){o.g=Be(()=>{o.g=null,o.i&&(o.i=!1,eu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class mc extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(o){et.call(this),this.h=o,this.g={}}Z(Er,et);var Tr=[];function Ar(o){zt(o.g,function(m,g){this.g.hasOwnProperty(g)&&oa(m)},o),o.g={}}Er.prototype.N=function(){Er.aa.N.call(this),Ar(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=p.JSON.stringify,ha=p.JSON.parse,Sr=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Ss(){}Ss.prototype.h=null;function bs(o){return o.h||(o.h=o.i())}function Rs(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){$.call(this,"d")}Z(ni,$);function ws(){$.call(this,"c")}Z(ws,$);var xn={},Cs=null;function Ni(){return Cs=Cs||new ie}xn.La="serverreachability";function fa(o){$.call(this,xn.La,o)}Z(fa,$);function Oi(o){const m=Ni();kt(m,new fa(m))}xn.STAT_EVENT="statevent";function nu(o,m){$.call(this,xn.STAT_EVENT,o),this.stat=m}Z(nu,$);function Jt(o){const m=Ni();kt(m,new nu(m,o))}xn.Ma="timingevent";function pe(o,m){$.call(this,xn.Ma,o),this.size=m}Z(pe,$);function ce(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function Ds(o,m,g,T,z,k){o.info(function(){if(o.g)if(k)for(var W="",Vt=k.split("&"),ye=0;ye<Vt.length;ye++){var It=Vt[ye].split("=");if(1<It.length){var Re=It[0];It=It[1];var _e=Re.split("_");W=2<=_e.length&&_e[1]=="type"?W+(Re+"="+It+"&"):W+(Re+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+W})}function gc(o,m,g,T,z,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+k+" "+W})}function Mi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+br(o,g)+(T?" "+T:"")})}function iu(o,m){o.info(function(){return"TIMEOUT: "+m})}fn.prototype.info=function(){};function br(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var k=z[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<z.length;W++)z[W]=""}}}}return Rn(g)}catch{return m}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function zn(){}Z(zn,Ss),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Un=new zn;function Ye(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var Vs={},da={};function wn(o,m,g){o.L=1,o.v=Vr(en(m)),o.m=g,o.P=!0,ri(o,null)}function ri(o,m){o.F=Date.now(),Rr(o),o.A=en(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Us(g.i,"t",T),o.C=0,g=o.j.J,o.h=new se,o.g=vu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new mc(M(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(Tr[0]=z.toString()),z=Tr);for(var k=0;k<z.length;k++){var W=Wl(g,z[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Oi(),Ds(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&pn(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const _e=pn(this.g);var m=this.g.Ba();const fi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||_e!=4||m==7||(m==8||0>=fi?Oi(3):Oi(2)),Ui(this);var g=this.g.Z();this.X=g;e:if(ru(this)){var T=hu(this.g);o="";var z=T.length,k=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),Ln(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,gc(this.i,this.u,this.A,this.l,this.R,_e,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ye=this.g;if((Vt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Vt)){var It=Vt;break e}}It=null}if(g=It)Mi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wr(this,g);else{this.o=!1,this.s=3,Jt(12),Ne(this),Ln(this);break t}}if(this.P){g=!0;let Oe;for(;!this.J&&this.C<W.length;)if(Oe=au(this,W),Oe==da){_e==4&&(this.s=4,Jt(14),g=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Oe==Vs){this.s=4,Jt(15),Mi(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Mi(this.i,this.l,Oe,null),wr(this,Oe);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||W.length!=0||this.h.h||(this.s=1,Jt(16),g=!1),this.o=this.o&&g,!g)Mi(this.i,this.l,W,"[Invalid Chunked Response]"),Ne(this),Ln(this);else if(0<W.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Lr(Re),Re.M=!0,Jt(11))}}else Mi(this.i,this.l,W,null),wr(this,W);_e==4&&Ne(this),this.o&&!this.J&&(_e==4?pu(this.j,this):(this.o=!1,Rr(this)))}else Ec(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Ne(this),Ln(this)}}}catch{}finally{}};function ru(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function au(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?da:(g=Number(m.substring(g,T)),isNaN(g)?Vs:(T+=1,T+g>m.length?da:(m=m.slice(T,T+g),o.C=T+g,m)))}Ye.prototype.cancel=function(){this.J=!0,Ne(this)};function Rr(o){o.S=Date.now()+o.I,su(o,o.I)}function su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ce(M(o.ba,o),m)}function Ui(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(iu(this.i,this.A),this.L!=2&&(Oi(),Jt(17)),Ne(this),this.s=2,Ln(this)):su(this,this.S-o)};function Ln(o){o.j.G==0||o.J||pu(o.j,o)}function Ne(o){Ui(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Ar(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function wr(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Is(g.h,o))){if(!o.K&&Is(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Ra(g),Sa(g);else break t;qs(g),Jt(18)}}else g.za=z[1],0<g.za-g.T&&37500>z[2]&&g.F&&g.v==0&&!g.C&&(g.C=ce(M(g.Za,g),6e3));if(1>=ga(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else hi(g,11)}else if((o.K||g.g==o)&&Ra(g),!gt(m))for(z=g.Da.g.parse(m),m=0;m<z.length;m++){let It=z[m];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const Re=It[3];Re!=null&&(g.la=Re,g.j.info("VER="+g.la));const _e=It[4];_e!=null&&(g.Aa=_e,g.j.info("SVER="+g.Aa));const fi=It[5];fi!=null&&typeof fi=="number"&&0<fi&&(T=1.5*fi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Oe=o.g;if(Oe){const Gn=Oe.g?Oe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var k=T.h;k.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(pa(k,k.h),k.h=null))}if(T.D){const Hs=Oe.g?Oe.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(T.ya=Hs,Gt(T.I,T.D,Hs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=_u(T,T.J?T.ia:null,T.W),W.K){Fe(T.h,W);var Vt=W,ye=T.L;ye&&(Vt.I=ye),Vt.B&&(Ui(Vt),Rr(Vt)),T.g=W}else mu(T);0<g.i.length&&ba(g)}else It[0]!="stop"&&It[0]!="close"||hi(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?hi(g,7):Ps(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}Oi(4)}catch{}}var lu=class{constructor(o,m){this.g=o,this.map=m}};function ai(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ga(o){return o.h?1:o.g?o.g.size:0}function Is(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function pa(o,m){o.g?o.g.add(m):o.h=m}function Fe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ai.prototype.cancel=function(){if(this.i=Ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ns(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function pc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function ya(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Os(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=ya(o),T=pc(o),z=T.length,k=0;k<z;k++)m.call(void 0,T[k],g&&g[k],o)}var Cr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),z=null;if(0<=T){var k=o[g].substring(0,T);z=o[g].substring(T+1)}else k=o[g];m(k,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function he(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof he){this.h=o.h,Dr(this,o.j),this.o=o.o,this.g=o.g,zi(this,o.s),this.l=o.l;var m=o.i,g=new li;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),si(this,g),this.m=o.m}else o&&(m=String(o).match(Cr))?(this.h=!1,Dr(this,m[1]||"",!0),this.o=dn(m[2]||""),this.g=dn(m[3]||"",!0),zi(this,m[4]),this.l=dn(m[5]||"",!0),si(this,m[6]||"",!0),this.m=dn(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}he.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Ir(m,Ms,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ir(m,Ms,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Ir(g,g.charAt(0)=="/"?_c:xs,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Ir(g,_a)),o.join("")};function en(o){return new he(o)}function Dr(o,m,g){o.j=g?dn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function zi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function si(o,m,g){m instanceof li?(o.i=m,ou(o.i,o.h)):(g||(m=Ir(m,vc)),o.i=new li(m,o.h))}function Gt(o,m,g){o.i.set(m,g)}function Vr(o){return Gt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function dn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ir(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,uu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function uu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ms=/[#\/\?@]/g,xs=/[#\?:]/g,_c=/[#\?]/g,vc=/[#\?@]/g,_a=/#/g;function li(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function mn(o){o.g||(o.g=new Map,o.h=0,o.i&&yc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=li.prototype,s.add=function(o,m){mn(this),this.i=null,o=Pn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function ui(o,m){mn(o),m=Pn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function oi(o,m){return mn(o),m=Pn(o,m),o.g.has(m)}s.forEach=function(o,m){mn(this),this.g.forEach(function(g,T){g.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){mn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const z=o[T];for(let k=0;k<z.length;k++)g.push(m[T])}return g},s.V=function(o){mn(this);let m=[];if(typeof o=="string")oi(this,o)&&(m=m.concat(this.g.get(Pn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return mn(this),this.i=null,o=Pn(this,o),oi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Us(o,m,g){ui(o,m),0<g.length&&(o.i=null,o.g.set(Pn(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var z=k;W[T]!==""&&(z+="="+encodeURIComponent(String(W[T]))),o.push(z)}}return this.i=o.join("&")};function Pn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ou(o,m){m&&!o.j&&(mn(o),o.i=null,o.g.forEach(function(g,T){var z=T.toLowerCase();T!=z&&(ui(this,T),Us(this,z,g))},o)),o.j=m}function Nr(o,m){const g=new fn;if(p.Image){const T=new Image;T.onload=G(gn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=G(gn,g,"TestLoadImage: error",!1,m,T),T.onabort=G(gn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(gn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Cn(o,m){const g=new fn,T=new AbortController,z=setTimeout(()=>{T.abort(),gn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?gn(g,"TestPingServer: ok",!0,m):gn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),gn(g,"TestPingServer: error",!1,m)})}function gn(o,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function Or(){this.g=new Sr}function Bn(o,m,g){const T=g||"";try{Os(o,function(z,k){let W=z;v(z)&&(W=Rn(z)),m.push(T+k+"="+encodeURIComponent(W))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Li(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Li,Ss),Li.prototype.g=function(){return new ci(this.l,this.j)},Li.prototype.i=function(o){return function(){return o}}({});function ci(o,m){ie.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(ci,ie),s=ci.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,kn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function zs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?qn(this):kn(this),this.readyState==3&&zs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,qn(this))},s.Qa=function(o){this.g&&(this.response=o,qn(this))},s.ga=function(){this.g&&qn(this)};function qn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,kn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function kn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ls(o){let m="";return zt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function be(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Ls(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Gt(o,m,g))}function Bt(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,ie);var va=/^https?$/i,Mr=["POST","PUT"];s=Bt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?bs(this.o):bs(Un),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){cu(this,k);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),z=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Mr,m,void 0))||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of g)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){cu(this,k)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ea(o),Hn(o)}function Ea(o){o.A||(o.A=!0,kt(o,"complete"),kt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,kt(this,"complete"),kt(this,"abort"),Hn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},s.bb=function(){Ta(this)};function Ta(o){if(o.h&&typeof d<"u"&&(!o.v[1]||pn(o)!=4||o.Z()!=2)){if(o.u&&pn(o)==4)Be(o.Ea,0,o);else if(kt(o,"readystatechange"),pn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=W===0){var z=String(o.D).match(Cr)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),T=!va.test(z?z.toLowerCase():"")}g=T}if(g)kt(o,"complete"),kt(o,"success");else{o.m=6;try{var k=2<pn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Ea(o)}}finally{Hn(o)}}}}function Hn(o,m){if(o.g){xr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||kt(o,"ready");try{g.onreadystatechange=T}catch{}}}function xr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function pn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),ha(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ec(o){const m={};o=(o.g&&2<=pn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(gt(o[T]))continue;var g=O(o[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[z]||[];m[z]=k,k.push(g)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Aa(o){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ur("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ur("baseRetryDelayMs",5e3,o),this.cb=Ur("retryDelaySeedMs",1e4,o),this.Wa=Ur("forwardChannelMaxRetries",2,o),this.wa=Ur("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(o&&o.concurrentRequestLimit),this.Da=new Or,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Aa.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){Jt(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),ba(this)};function Ps(o){if(fu(o),o.G==3){var m=o.U++,g=en(o.I);if(Gt(g,"SID",o.K),Gt(g,"RID",m),Gt(g,"TYPE","terminate"),zr(o,g),m=new Ye(o,o.j,m),m.L=2,m.v=Vr(en(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Rr(m)}yu(o)}function Sa(o){o.g&&(Lr(o),o.g.cancel(),o.g=null)}function fu(o){Sa(o),o.u&&(p.clearTimeout(o.u),o.u=null),Ra(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function ba(o){if(!ma(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||C(),lt||(tt(),lt=!0),Lt.add(m,o),o.B=0}}function Tc(o,m){return ga(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ce(M(o.Ga,o,m),ks(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Ye(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),I(k,this.S)):k=this.S),this.m!==null||this.O||(z.H=k,k=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=du(this,z,m),g=en(this.I),Gt(g,"RID",o),Gt(g,"CVER",22),this.D&&Gt(g,"X-HTTP-Session-Id",this.D),zr(this,g),k&&(this.O?m="headers="+encodeURIComponent(String(Ls(k)))+"&"+m:this.m&&be(g,this.m,k)),pa(this.h,z),this.Ua&&Gt(g,"TYPE","init"),this.P?(Gt(g,"$req",m),Gt(g,"SID","null"),z.T=!0,wn(z,g,null)):wn(z,g,m),this.G=2}}else this.G==3&&(o?Bs(this,o):this.i.length==0||ma(this.h)||Bs(this))};function Bs(o,m){var g;m?g=m.l:g=o.U++;const T=en(o.I);Gt(T,"SID",o.K),Gt(T,"RID",g),Gt(T,"AID",o.T),zr(o,T),o.m&&o.o&&be(T,o.m,o.o),g=new Ye(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),pa(o.h,g),wn(g,T,m)}function zr(o,m){o.H&&zt(o.H,function(g,T){Gt(m,T,g)}),o.l&&Os({},function(g,T){Gt(m,T,g)})}function du(o,m,g){g=Math.min(o.i.length,g);var T=o.l?M(o.l.Na,o.l,o):null;t:{var z=o.i;let k=-1;for(;;){const W=["count="+g];k==-1?0<g?(k=z[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let Vt=!0;for(let ye=0;ye<g;ye++){let It=z[ye].g;const Re=z[ye].map;if(It-=k,0>It)k=Math.max(0,z[ye].g-100),Vt=!1;else try{Bn(Re,W,"req"+It+"_")}catch{T&&T(Re)}}if(Vt){T=W.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||C(),lt||(tt(),lt=!0),Lt.add(m,o),o.v=0}}function qs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ce(M(o.Fa,o),ks(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ce(M(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Sa(this),gu(this))};function Lr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=en(o.qa);Gt(m,"RID","rpc"),Gt(m,"SID",o.K),Gt(m,"AID",o.T),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Gt(m,"TO",o.ja),Gt(m,"TYPE","xmlhttp"),zr(o,m),o.m&&o.o&&be(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Vr(en(m)),g.m=null,g.P=!0,ri(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Sa(this),qs(this),Jt(19))};function Ra(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function pu(o,m){var g=null;if(o.g==m){Ra(o),Lr(o),o.g=null;var T=2}else if(Is(o.h,m))g=m.D,Fe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Ni(),kt(T,new pe(T,g)),ba(o)}else mu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Tc(o,m)||T==2&&qs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),z){case 1:hi(o,5);break;case 4:hi(o,10);break;case 3:hi(o,6);break;default:hi(o,2)}}}function ks(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function hi(o,m){if(o.j.info("Error code "+m),m==2){var g=M(o.fb,o),T=o.Xa;const z=!T;T=new he(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Dr(T,"https"),Vr(T),z?Nr(T.toString(),g):Cn(T.toString(),g)}else Jt(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Ns(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,g){var T=g instanceof he?en(g):new he(g);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.s);else{var z=p.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var k=new he(null);T&&Dr(k,T),m&&(k.g=m),z&&zi(k,z),g&&(k.l=g),T=k}return g=o.D,m=o.ya,g&&m&&Gt(T,g,m),Gt(T,"VER",o.la),zr(o,T),T}function vu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new Li({eb:g})):new Bt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function wa(){}wa.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){ie.call(this),this.g=new Aa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!gt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new jn(this)}Z(Ke,ie),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Ps(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Rn(o),o=g);m.i.push(new lu(m.Ya++,o)),m.G==3&&ba(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,Ke.aa.N.call(this)};function Tu(o){ni.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Tu,ni);function Au(){ws.call(this),this.status=1}Z(Au,ws);function jn(o){this.g=o}Z(jn,Eu),jn.prototype.ua=function(){kt(this.g,"a")},jn.prototype.ta=function(o){kt(this.g,new Tu(o))},jn.prototype.sa=function(o){kt(this.g,new Au)},jn.prototype.ra=function(){kt(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,R_=function(){return new wa},b_=function(){return Ni()},S_=xn,Of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Vo=xi,ii.COMPLETE="complete",A_=ii,Rs.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Il=Rs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,T_=Bt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const oy="@firebase/firestore",cy="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gs="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new m_("@firebase/firestore");function es(){return ia.logLevel}function it(s,...e){if(ia.logLevel<=Mt.DEBUG){const i=e.map(Wf);ia.debug(`Firestore (${gs}): ${s}`,...i)}}function Di(s,...e){if(ia.logLevel<=Mt.ERROR){const i=e.map(Wf);ia.error(`Firestore (${gs}): ${s}`,...i)}}function ls(s,...e){if(ia.logLevel<=Mt.WARN){const i=e.map(Wf);ia.warn(`Firestore (${gs}): ${s}`,...i)}}function Wf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,w_(s,a,i)}function w_(s,e,i){let a=`FIRESTORE (${gs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Di(a),new Error(a)}function qt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||w_(e,u,a)}function _t(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class b1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class R1{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ea,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ea)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new C_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new je(e)}}class w1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new w1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,s1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new hy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=V1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function St(s,e){return s<e?-1:s>e?1:0}function Mf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return St(a,u);{const h=D_(),d=I1(h.encode(fy(s,i)),h.encode(fy(e,i)));return d!==0?d:St(a,u)}}i+=a>65535?2:1}return St(s.length,e.length)}function fy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function I1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return St(s[i],e[i]);return St(s.length,e.length)}function us(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=-62135596800,my=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(e){return Te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*my);return new Te(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<dy)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/my}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Te(0,0))}static max(){return new yt(new Te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="__name__";class Zn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Zn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const a=Zn.isNumericId(e),u=Zn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Zn.extractNumericId(e).compare(Zn.extractNumericId(i)):Mf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class $t extends Zn{construct(e,i,a){return new $t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const N1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends Zn{construct(e,i,a){return new Le(e,i,a)}static isValidIdentifier(e){return N1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gy}static keyField(){return new Le([gy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(i)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut($t.fromString(e))}static fromName(e){return new ut($t.fromString(e).popFirst(5))}static empty(){return new ut($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new $t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function O1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(a===1e9?new Te(i+1,0):new Te(i,a));return new cr(u,ut.empty(),e)}function M1(s){return new cr(s.readTime,s.key,Hl)}class cr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new cr(yt.min(),ut.empty(),Hl)}static max(){return new cr(yt.max(),ut.empty(),Hl)}}function x1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,e.documentKey),i!==0?i:St(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==U1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(u=>u?F.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++p,p===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new F((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function L1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ys(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wo.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function tc(s){return s==null}function qo(s){return s===0&&1/s==-1/0}function P1(s){return typeof s=="number"&&Number.isInteger(s)&&!qo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="";function B1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=py(e)),e=q1(s.get(i),e);return py(e)}function q1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case I_:i+="";break;default:i+=h}}return i}function py(s){return s+I_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function aa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function N_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ee(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.comparator=e,this.data=new ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new _y(this.data.getIterator())}getIteratorFrom(e){return new _y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Ae)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ae(this.comparator);return i.data=e,i}}class _y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new Ae(Le.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new O_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const k1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=k1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:oe(s.seconds),nanos:oe(s.nanos)}}function oe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="server_timestamp",x_="__type__",U_="__previous_value__",z_="__local_write_time__";function ed(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[x_])===null||i===void 0?void 0:i.stringValue)===M_}function ec(s){const e=s.mapValue.fields[U_];return ed(e)?ec(e):e}function jl(s){const e=hr(s.mapValue.fields[z_].timestampValue);return new Te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,i,a,u,h,d,p,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const ko="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||ko}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__type__",j1="__max__",wo={mapValue:{}},P_="__vector__",Ho="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ed(s)?4:Q1(s)?9007199254740991:G1(s)?10:11:dt(28295,{value:s})}function Wn(s,e){if(s===e)return!0;const i=dr(s);if(i!==dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=hr(u.timestampValue),p=hr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return fr(u.bytesValue).isEqual(fr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return oe(u.geoPointValue.latitude)===oe(h.geoPointValue.latitude)&&oe(u.geoPointValue.longitude)===oe(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return oe(u.integerValue)===oe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=oe(u.doubleValue),p=oe(h.doubleValue);return d===p?qo(d)===qo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return us(s.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(yy(d)!==yy(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Wn(d[_],p[_])))return!1;return!0}(s,e);default:return dt(52216,{left:s})}}function Ql(s,e){return(s.values||[]).find(i=>Wn(i,e))!==void 0}function os(s,e){if(s===e)return 0;const i=dr(s),a=dr(e);if(i!==a)return St(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=oe(h.integerValue||h.doubleValue),_=oe(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return vy(s.timestampValue,e.timestampValue);case 4:return vy(jl(s),jl(e));case 5:return Mf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=fr(h),_=fr(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=St(p[v],_[v]);if(A!==0)return A}return St(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=St(oe(h.latitude),oe(d.latitude));return p!==0?p:St(oe(h.longitude),oe(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Ey(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,_,v,A;const D=h.fields||{},M=d.fields||{},G=(p=D[Ho])===null||p===void 0?void 0:p.arrayValue,Z=(_=M[Ho])===null||_===void 0?void 0:_.arrayValue,nt=St(((v=G==null?void 0:G.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Ey(G,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let D=0;D<_.length&&D<A.length;++D){const M=Mf(_[D],A[D]);if(M!==0)return M;const G=os(p[_[D]],v[A[D]]);if(G!==0)return G}return St(_.length,A.length)}(s.mapValue,e.mapValue);default:throw dt(23264,{Pe:i})}}function vy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return St(s,e);const i=hr(s),a=hr(e),u=St(i.seconds,a.seconds);return u!==0?u:St(i.nanos,a.nanos)}function Ey(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=os(i[u],a[u]);if(h)return h}return St(i.length,a.length)}function cs(s){return xf(s)}function xf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=hr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return fr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ut.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=xf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${xf(i.fields[d])}`;return u+"}"}(s.mapValue):dt(61005,{value:s})}function Io(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ec(s);return e?16+Io(e):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Io(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return aa(a.fields,(h,d)=>{u+=h.length+Io(d)}),u}(s.mapValue);default:throw dt(13486,{value:s})}}function Ty(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Uf(s){return!!s&&"integerValue"in s}function nd(s){return!!s&&"arrayValue"in s}function Ay(s){return!!s&&"nullValue"in s}function Sy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function No(s){return!!s&&"mapValue"in s}function G1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[L_])===null||i===void 0?void 0:i.stringValue)===P_}function Ul(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return aa(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ul(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return e}return Object.assign({},s)}function Q1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===j1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!No(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Le.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=Ul(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());No(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];No(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){aa(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new bn(Ul(this.value))}}function B_(s){const e=[];return aa(s.fields,(i,a)=>{const u=new Le([i]);if(No(a)){const h=B_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Qe(e,0,yt.min(),yt.min(),yt.min(),bn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,yt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,yt.min(),yt.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,yt.min(),yt.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i){this.position=e,this.inclusive=i}}function by(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=os(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ry(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Wn(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i="asc"){this.field=e,this.dir=i}}function Y1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{}class ge extends q_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new K1(e,i,a):i==="array-contains"?new $1(e,a):i==="in"?new J1(e,a):i==="not-in"?new W1(e,a):i==="array-contains-any"?new tA(e,a):new ge(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new X1(e,a):new Z1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(os(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(os(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends q_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new On(e,i)}matches(e){return k_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function k_(s){return s.op==="and"}function H_(s){return F1(s)&&k_(s)}function F1(s){for(const e of s.filters)if(e instanceof On)return!1;return!0}function zf(s){if(s instanceof ge)return s.field.canonicalString()+s.op.toString()+cs(s.value);if(H_(s))return s.filters.map(e=>zf(e)).join(",");{const e=s.filters.map(i=>zf(i)).join(",");return`${s.op}(${e})`}}function j_(s,e){return s instanceof ge?function(a,u){return u instanceof ge&&a.op===u.op&&a.field.isEqual(u.field)&&Wn(a.value,u.value)}(s,e):s instanceof On?function(a,u){return u instanceof On&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&j_(d,u.filters[p]),!0):!1}(s,e):void dt(19439)}function G_(s){return s instanceof ge?function(i){return`${i.field.canonicalString()} ${i.op} ${cs(i.value)}`}(s):s instanceof On?function(i){return i.op.toString()+" {"+i.getFilters().map(G_).join(" ,")+"}"}(s):"Filter"}class K1 extends ge{constructor(e,i,a){super(e,i,a),this.key=ut.fromName(a.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class X1 extends ge{constructor(e,i){super(e,"in",i),this.keys=Q_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Z1 extends ge{constructor(e,i){super(e,"not-in",i),this.keys=Q_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Q_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ut.fromName(a.referenceValue))}class $1 extends ge{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nd(i)&&Ql(i.arrayValue,this.value)}}class J1 extends ge{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class W1 extends ge{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ql(this.value.arrayValue,i)}}class tA extends ge{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ql(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Ie=null}}function wy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new eA(s,e,i,a,u,h,d)}function id(s){const e=_t(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>zf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),tc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>cs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>cs(a)).join(",")),e.Ie=i}return e.Ie}function rd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Y1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!j_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ry(s.startAt,e.startAt)&&Ry(s.endAt,e.endAt)}function Lf(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function nA(s,e,i,a,u,h,d,p){return new Kl(s,e,i,a,u,h,d,p)}function ad(s){return new Kl(s)}function Cy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Y_(s){return s.collectionGroup!==null}function zl(s){const e=_t(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ae(Le.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Go(h,a))}),i.has(Le.keyField().canonicalString())||e.Ee.push(new Go(Le.keyField(),a))}return e.Ee}function $n(s){const e=_t(s);return e.de||(e.de=iA(e,zl(s))),e.de}function iA(s,e){if(s.limitType==="F")return wy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Go(u.field,h)});const i=s.endAt?new jo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new jo(s.startAt.position,s.startAt.inclusive):null;return wy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Pf(s,e){const i=s.filters.concat([e]);return new Kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Bf(s,e,i){return new Kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function nc(s,e){return rd($n(s),$n(e))&&s.limitType===e.limitType}function F_(s){return`${id($n(s))}|lt:${s.limitType}`}function ns(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>G_(u)).join(", ")}]`),tc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>cs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>cs(u)).join(",")),`Target(${a})`}($n(s))}; limitType=${s.limitType})`}function ic(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ut.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of zl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,_){const v=by(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,zl(a),u)||a.endAt&&!function(d,p,_){const v=by(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,zl(a),u))}(s,e)}function rA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function K_(s){return(e,i)=>{let a=!1;for(const u of zl(s)){const h=aA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function aA(s,e,i){const a=s.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?os(_,v):dt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return N_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new ee(ut.comparator);function Vi(){return sA}const X_=new ee(ut.comparator);function Nl(...s){let e=X_;for(const i of s)e=e.insert(i.key,i);return e}function Z_(s){let e=X_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ta(){return Ll()}function $_(){return Ll()}function Ll(){return new sa(s=>s.toString(),(s,e)=>s.isEqual(e))}const lA=new ee(ut.comparator),uA=new Ae(ut.comparator);function Dt(...s){let e=uA;for(const i of s)e=e.add(i);return e}const oA=new Ae(St);function cA(){return oA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qo(e)?"-0":e}}function J_(s){return{integerValue:""+s}}function hA(s,e){return P1(e)?J_(e):sd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function fA(s,e,i){return s instanceof Qo?function(u,h){const d={fields:{[x_]:{stringValue:M_},[z_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ed(h)&&(h=ec(h)),h&&(d.fields[U_]=h),{mapValue:d}}(i,e):s instanceof Yl?tv(s,e):s instanceof Fl?ev(s,e):function(u,h){const d=W_(u,h),p=Dy(d)+Dy(u.Re);return Uf(d)&&Uf(u.Re)?J_(p):sd(u.serializer,p)}(s,e)}function dA(s,e,i){return s instanceof Yl?tv(s,e):s instanceof Fl?ev(s,e):i}function W_(s,e){return s instanceof Yo?function(a){return Uf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Qo extends rc{}class Yl extends rc{constructor(e){super(),this.elements=e}}function tv(s,e){const i=nv(e);for(const a of s.elements)i.some(u=>Wn(u,a))||i.push(a);return{arrayValue:{values:i}}}class Fl extends rc{constructor(e){super(),this.elements=e}}function ev(s,e){let i=nv(e);for(const a of s.elements)i=i.filter(u=>!Wn(u,a));return{arrayValue:{values:i}}}class Yo extends rc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Dy(s){return oe(s.integerValue||s.doubleValue)}function nv(s){return nd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function mA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Yl&&u instanceof Yl||a instanceof Fl&&u instanceof Fl?us(a.elements,u.elements,Wn):a instanceof Yo&&u instanceof Yo?Wn(a.Re,u.Re):a instanceof Qo&&u instanceof Qo}(s.transform,e.transform)}class gA{constructor(e,i){this.version=e,this.transformResults=i}}class wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ac{}function iv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new av(s.key,wi.none()):new Xl(s.key,s.data,wi.none());{const i=s.data,a=bn.empty();let u=new Ae(Le.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new la(s.key,a,new Nn(u.toArray()),wi.none())}}function pA(s,e,i){s instanceof Xl?function(u,h,d){const p=u.value.clone(),_=Iy(u.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof la?function(u,h,d){if(!Oo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Iy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(rv(u)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Pl(s,e,i,a){return s instanceof Xl?function(h,d,p,_){if(!Oo(h.precondition,d))return p;const v=h.value.clone(),A=Ny(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof la?function(h,d,p,_){if(!Oo(h.precondition,d))return p;const v=Ny(h.fieldTransforms,_,d),A=d.data;return A.setAll(rv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(s,e,i,a):function(h,d,p){return Oo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function yA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=W_(a.transform,u||null);h!=null&&(i===null&&(i=bn.empty()),i.set(a.field,h))}return i||null}function Vy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&us(a,u,(h,d)=>mA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Xl extends ac{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class la extends ac{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function rv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Iy(s,e,i){const a=new Map;qt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,dA(d,p,i[u]))}return a}function Ny(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,fA(h,d,e))}return a}class av extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _A extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&pA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=$_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const _=iv(d,p);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(i,a)=>Vy(i,a))&&us(this.baseMutations,e.baseMutations,(i,a)=>Vy(i,a))}}class ld{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){qt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let u=function(){return lA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new ld(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Ot;function AA(s){switch(s){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function sv(s){if(s===void 0)return Di("GRPC error has no .code"),K.UNKNOWN;switch(s){case me.OK:return K.OK;case me.CANCELLED:return K.CANCELLED;case me.UNKNOWN:return K.UNKNOWN;case me.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case me.INTERNAL:return K.INTERNAL;case me.UNAVAILABLE:return K.UNAVAILABLE;case me.UNAUTHENTICATED:return K.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case me.NOT_FOUND:return K.NOT_FOUND;case me.ALREADY_EXISTS:return K.ALREADY_EXISTS;case me.PERMISSION_DENIED:return K.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case me.ABORTED:return K.ABORTED;case me.OUT_OF_RANGE:return K.OUT_OF_RANGE;case me.UNIMPLEMENTED:return K.UNIMPLEMENTED;case me.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:s})}}(Ot=me||(me={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new ur([4294967295,4294967295],0);function Oy(s){const e=D_().encode(s),i=new E_;return i.update(e),new Uint8Array(i.digest())}function My(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ur([i,a],0),new ur([u,h],0)]}class ud{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(a<0)throw new Ol(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=ur.fromNumber(this.pe)}we(e,i,a){let u=e.add(i.multiply(ur.fromNumber(a)));return u.compare(SA)===1&&(u=new ur([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Oy(e),[a,u]=My(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);if(!this.Se(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ud(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const i=Oy(e),[a,u]=My(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new sc(yt.min(),u,new ee(St),Vi(),Dt())}}class Zl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zl(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,a,u){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=u}}class lv{constructor(e,i){this.targetId=e,this.Ce=i}}class uv{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class xy{constructor(){this.Fe=0,this.Me=Uy(),this.xe=Pe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Dt(),i=Dt(),a=Dt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt(38017,{changeType:h})}}),new Zl(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=Uy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bA{constructor(e){this.ze=e,this.je=new Map,this.He=Vi(),this.Je=Co(),this.Ye=Co(),this.Ze=new ee(St)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,a=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Lf(h))if(a===0){const d=new ut(h.path);this.tt(i,d,Qe.newNoDocument(d,yt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const p=this.ct(e),_=p?this.lt(p,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=fr(a).toUint8Array()}catch(_){if(_ instanceof O_)return ls("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ud(d,u,h)}catch(_){return ls(_ instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.pe===0?null:p}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const p=this._t(d);if(p){if(h.current&&Lf(p.target)){const _=new ut(p.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Qe.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=Dt();this.Ye.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ze,this.He,a);return this.He=Vi(),this.Je=Co(),this.Ye=Co(),this.Ze=new ee(St),u}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new xy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Ae(St),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Ae(St),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new xy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Co(){return new ee(ut.comparator)}function Uy(){return new ee(ut.comparator)}const RA={asc:"ASCENDING",desc:"DESCENDING"},wA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CA={and:"AND",or:"OR"};class DA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function qf(s,e){return s.useProto3Json||tc(e)?e:{value:e}}function Fo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ov(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function VA(s,e){return Fo(s,e.toTimestamp())}function Jn(s){return qt(!!s,49232),yt.fromTimestamp(function(i){const a=hr(i);return new Te(a.seconds,a.nanos)}(s))}function od(s,e){return kf(s,e).canonicalString()}function kf(s,e){const i=function(u){return new $t(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function cv(s){const e=$t.fromString(s);return qt(gv(e),10190,{key:e.toString()}),e}function Hf(s,e){return od(s.databaseId,e.path)}function Sf(s,e){const i=cv(e);if(i.get(1)!==s.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(fv(i))}function hv(s,e){return od(s.databaseId,e)}function IA(s){const e=cv(s);return e.length===4?$t.emptyPath():fv(e)}function jf(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fv(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function zy(s,e,i){return{name:Hf(s,e),fields:i.value.mapValue.fields}}function NA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Pe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Pe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const A=v.code===void 0?K.UNKNOWN:sv(v.code);return new at(A,v.message||"")}(d);i=new uv(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Sf(s,a.document.name),h=Jn(a.document.updateTime),d=a.document.createTime?Jn(a.document.createTime):yt.min(),p=new bn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Mo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Sf(s,a.document),h=a.readTime?Jn(a.readTime):yt.min(),d=Qe.newNoDocument(u,h),p=a.removedTargetIds||[];i=new Mo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Sf(s,a.document),h=a.removedTargetIds||[];i=new Mo([],h,u,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new TA(u,h),p=a.targetId;i=new lv(p,d)}}return i}function OA(s,e){let i;if(e instanceof Xl)i={update:zy(s,e.key,e.value)};else if(e instanceof av)i={delete:Hf(s,e.key)};else if(e instanceof la)i={update:zy(s,e.key,e.data),updateMask:kA(e.fieldMask)};else{if(!(e instanceof _A))return dt(16599,{ft:e.type});i={verify:Hf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof Qo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yo)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw dt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:VA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(s,e.precondition)),i}function MA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?Jn(u.updateTime):Jn(h);return d.isEqual(yt.min())&&(d=Jn(h)),new gA(d,u.transformResults||[])}(i,e))):[]}function xA(s,e){return{documents:[hv(s,e.path)]}}function UA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hv(s,u);const h=function(v){if(v.length!==0)return mv(On.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(M){return{field:is(M.field),direction:PA(M.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=qf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:u}}function zA(s){let e=IA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(D){const M=dv(D);return M instanceof On&&H_(M)?M.getFilters():[M]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(M=>function(Z){return new Go(rs(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(M))}(i.orderBy));let p=null;i.limit&&(p=function(D){let M;return M=typeof D=="object"?D.value:D,tc(M)?null:M}(i.limit));let _=null;i.startAt&&(_=function(D){const M=!!D.before,G=D.values||[];return new jo(G,M)}(i.startAt));let v=null;return i.endAt&&(v=function(D){const M=!D.before,G=D.values||[];return new jo(G,M)}(i.endAt)),nA(e,u,d,h,p,"F",_,v)}function LA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function dv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=rs(i.unaryFilter.field);return ge.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=rs(i.unaryFilter.field);return ge.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=rs(i.unaryFilter.field);return ge.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=rs(i.unaryFilter.field);return ge.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(s):s.fieldFilter!==void 0?function(i){return ge.create(rs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return On.create(i.compositeFilter.filters.map(a=>dv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(s):dt(30097,{filter:s})}function PA(s){return RA[s]}function BA(s){return wA[s]}function qA(s){return CA[s]}function is(s){return{fieldPath:s.canonicalString()}}function rs(s){return Le.fromServerFormat(s.fieldPath)}function mv(s){return s instanceof ge?function(i){if(i.op==="=="){if(Sy(i.value))return{unaryFilter:{field:is(i.field),op:"IS_NAN"}};if(Ay(i.value))return{unaryFilter:{field:is(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Sy(i.value))return{unaryFilter:{field:is(i.field),op:"IS_NOT_NAN"}};if(Ay(i.value))return{unaryFilter:{field:is(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(i.field),op:BA(i.op),value:i.value}}}(s):s instanceof On?function(i){const a=i.getFilters().map(u=>mv(u));return a.length===1?a[0]:{compositeFilter:{op:qA(i.op),filters:a}}}(s):dt(54877,{filter:s})}function kA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function gv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,i,a,u,h=yt.min(),d=yt.min(),p=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.wt=e}}function jA(s){const e=zA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.Cn=new QA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(cr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class QA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Ae($t.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Ae($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pv=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(pv,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new hs(0)}static lr(){return new hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LruGarbageCollector",YA=1048576;function By([s,e],[i,a]){const u=St(s,i);return u===0?St(e,a):u}class FA{constructor(e){this.Er=e,this.buffer=new Ae(By),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();By(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(Py,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ys(i)?it(Py,"Ignoring IndexedDB error during garbage collection: ",i):await ps(i)}await this.mr(3e5)})}}class XA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Wo.le);const a=new FA(i);return this.gr.forEachTarget(e,u=>a.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>a.Rr(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Ly)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ly):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,u,h,d,p,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u))).next(D=>(a=D,p=Date.now(),this.removeTargets(e,a,i))).next(D=>(h=D,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(D=>(v=Date.now(),es()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${D} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D})))}}function ZA(s,e){return new XA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.changes=new sa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Pl(a.mutation,u,Nn.empty(),Te.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const u=ta();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Nl();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ta();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=Vi();const d=Ll(),p=function(){return Ll()}();return i.forEach((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof la)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Pl(A.mutation,v,A.mutation.getFieldMask(),Te.now())):d.set(v.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var D;return p.set(v,new JA(A,(D=d.get(v))!==null&&D!==void 0?D:null))}),p))}recalculateAndSaveOverlays(e,i){const a=Ll();let u=new ee((d,p)=>d-p),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||Nn.empty();A=p.applyToLocalView(v,A),a.set(_,A);const D=(u.get(p.batchId)||Dt()).add(_);u=u.insert(p.batchId,D)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,D=$_();A.forEach(M=>{if(!h.has(M)){const G=iv(i.get(M),a.get(M));G!==null&&D.set(M,G),h=h.add(M)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,D))}return F.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Y_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):F.resolve(ta());let p=Hl,_=h;return d.next(v=>F.forEach(v,(A,D)=>(p<D.largestBatchId&&(p=D.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(M=>{_=_.insert(A,M)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Dt())).next(A=>({batchId:p,changes:Z_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(a=>{let u=Nl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(e,h).next(p=>F.forEach(p,_=>{const v=function(D,M){return new Kl(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(A=>{A.forEach((D,M)=>{d=d.insert(D,M)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let p=Nl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Pl(A.mutation,v,Nn.empty(),Te.now()),ic(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Jn(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:jA(u.bundledQuery),readTime:Jn(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.overlays=new ee(ut.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ta();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.bt(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const u=ta(),h=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ee((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=ta(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=ta(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>p.set(v,A)),!(p.size()>=u)););return F.resolve(p)}bt(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(a.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new EA(i,a));let h=this.Qr.get(i);h===void 0&&(h=Dt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this.$r=new Ae(Ve.Ur),this.Kr=new Ae(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Ve(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Ve(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ut(new $t([])),a=new Ve(i,e),u=new Ve(i,e+1),h=[];return this.Kr.forEachInRange([a,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ut(new $t([])),a=new Ve(i,e),u=new Ve(i,e+1);let h=Dt();return this.Kr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ve(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ve{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ut.comparator(e.key,i.key)||St(e.Zr,i.Zr)}static Wr(e,i){return St(e.Zr,i.Zr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Ae(Ve.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Xr=this.Xr.add(new Ve(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ti(a),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?td:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ve(i,0),u=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,u],d=>{const p=this.ei(d.Zr);h.push(p)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ae(St);return i.forEach(u=>{const h=new Ve(u,0),d=new Ve(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],p=>{a=a.add(p.Zr)})}),F.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ut.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new ut(h),0);let p=new Ae(St);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(p=p.add(_.Zr)),!0)},d),F.resolve(this.ni(p))}ni(e){const i=[];return e.forEach(a=>{const u=this.ei(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return F.forEach(i.mutations,u=>{const h=new Ve(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Ve(i,0),u=this.Xr.firstAfterOrEqual(a);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.ii=e,this.docs=function(){return new ee(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Vi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Vi();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||x1(M1(A),a)<=0||(u.has(A.key)||ic(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt(9500)}si(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new aS(this)}getSize(e){return F.resolve(this.size)}}class aS extends $A{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.persistence=e,this.oi=new sa(i=>id(i),rd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this._i=0,this.ai=new cd,this.targetCount=0,this.ui=hs.cr()}forEachTarget(e,i){return this.oi.forEach((a,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new hs(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,i){this.ci={},this.overlays={},this.li=new Wo(0),this.hi=!1,this.hi=!0,this.Pi=new nS,this.referenceDelegate=e(this),this.Ti=new sS(this),this.indexManager=new GA,this.remoteDocumentCache=function(u){return new rS(u)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new HA(i),this.Ei=new tS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new eS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new iS(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new lS(this.li.next());return this.referenceDelegate.di(),a(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class lS extends z1{constructor(e){super(),this.currentSequenceNumber=e}}class hd{constructor(e){this.persistence=e,this.Vi=new cd,this.mi=null}static fi(e){return new hd(e)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,a=>{const u=ut.fromPath(a);return this.pi(e,u).next(h=>{h||i.removeEntry(u,yt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Ko{constructor(e,i){this.persistence=e,this.yi=new sa(a=>B1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=ZA(this,i)}static fi(e,i){return new Ko(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}Sr(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(a,u)=>this.Dr(e,a,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(p=>{p||(a++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Io(e.data.value)),i}Dr(e,i,a){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.ds=a,this.As=u}static Rs(e,i){let a=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new fd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return iT()?8:L1(eT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new uS;return this.bs(e,i,d).next(p=>{if(h.result=p,this.fs)return this.Ds(e,i,d,p.size)})}).next(()=>h.result)}Ds(e,i,a,u){return a.documentReadCount<this.gs?(es()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ns(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(es()<=Mt.DEBUG&&it("QueryEngine","Query:",ns(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ps*u?(es()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ns(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):F.resolve())}ws(e,i){if(Cy(i))return F.resolve(null);let a=$n(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Bf(i,null,"F"),a=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Dt(...h);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.vs(i,p);return this.Cs(i,v,d,_.readTime)?this.ws(e,Bf(i,null,"F")):this.Fs(e,v,i,_)}))})))}Ss(e,i,a,u){return Cy(i)||u.isEqual(yt.min())?F.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,u)?F.resolve(null):(es()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ns(i)),this.Fs(e,d,i,O1(u,Hl)).next(p=>p))})}vs(e,i){let a=new Ae(K_(e));return i.forEach((u,h)=>{ic(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(e,i,a){return es()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ns(i)),this.ys.getDocumentsMatchingQuery(e,i,cr.min(),a)}Fs(e,i,a,u){return this.ys.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="LocalStore",cS=3e8;class hS{constructor(e,i,a,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ee(St),this.Os=new sa(h=>id(h),rd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function fS(s,e,i,a){return new hS(s,e,i,a)}async function _v(s,e){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=Dt();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:p}))})})}function dS(s,e){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(p,_,v,A){const D=v.batch,M=D.keys();let G=F.resolve();return M.forEach(Z=>{G=G.next(()=>A.getEntry(_,Z)).next(nt=>{const J=v.docVersions.get(Z);qt(J!==null,48541),nt.version.compareTo(J)<0&&(D.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),G.next(()=>p.mutationQueue.removeMutationBatch(_,D))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=Dt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function vv(s){const e=_t(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function mS(s,e){const i=_t(s),a=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const p=[];e.targetChanges.forEach((A,D)=>{const M=u.get(D);if(!M)return;p.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,D).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,D)));let G=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?G=G.withResumeToken(Pe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),u=u.insert(D,G),function(nt,J,Et){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=cS?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(M,G,A)&&p.push(i.Ti.updateTargetData(h,G))});let _=Vi(),v=Dt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(gS(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!a.isEqual(yt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(D=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(A)}return F.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=u,h))}function gS(s,e,i){let a=Dt(),u=Dt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Vi();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):it(dd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:u}})}function pS(s,e){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=td),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function yS(s,e){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ti.getTargetData(a,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(a).next(d=>(u=new ar(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.xs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function Gf(s,e,i){const a=_t(s),u=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!ys(d))throw d;it(dd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(u.target)}function qy(s,e,i){const a=_t(s);let u=yt.min(),h=Dt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const D=_t(_),M=D.Os.get(A);return M!==void 0?F.resolve(D.xs.get(M)):D.Ti.getTargetData(v,A)}(a,d,$n(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Dt())).next(p=>(_S(a,rA(e),p),{documents:p,$s:h})))}function _S(s,e,i){let a=s.Ns.get(e)||yt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class ky{constructor(){this.activeTargetIds=cA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vS{constructor(){this.xo=new ky,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ky,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="ConnectivityMonitor";class jy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(Hy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(Hy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Qf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="RestConnection",TS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${u}`,this.Go=this.databaseId.database===ko?`project_id=${a}`:`project_id=${a}&database_id=${u}`}zo(e,i,a,u,h){const d=Qf(),p=this.jo(e,i.toUriEncodedString());it(bf,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,u,h);const{host:v}=new URL(p),A=$f(v);return this.Jo(e,p,_,a,A).then(D=>(it(bf,`Received RPC '${e}' ${d}: `,D),D),D=>{throw ls(bf,`RPC '${e}' ${d} failed with error: `,D,"url: ",p,"request:",a),D})}Yo(e,i,a,u,h,d){return this.zo(e,i,a,u,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const a=TS[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class bS extends AS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Qf();return new Promise((p,_)=>{const v=new T_;v.setWithCredentials(!0),v.listenOnce(A_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Vo.NO_ERROR:const D=v.getResponseJson();it(He,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),p(D);break;case Vo.TIMEOUT:it(He,`RPC '${e}' ${d} timed out`),_(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const M=v.getStatus();if(it(He,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G==null?void 0:G.error;if(Z&&Z.status&&Z.message){const nt=function(Et){const gt=Et.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN}(Z.status);_(new at(nt,Z.message))}else _(new at(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new at(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{it(He,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(He,`RPC '${e}' ${d} sending request:`,u),v.send(i,"POST",A,a,15)})}T_(e,i,a){const u=Qf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=R_(),p=b_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${A}`,_);const D=d.createWebChannel(A,_);let M=!1,G=!1;const Z=new SS({Zo:J=>{G?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(M||(it(He,`Opening RPC '${e}' stream ${u} transport.`),D.open(),M=!0),it(He,`RPC '${e}' stream ${u} sending:`,J),D.send(J))},Xo:()=>D.close()}),nt=(J,Et,gt)=>{J.listen(Et,ft=>{try{gt(ft)}catch(xt){setTimeout(()=>{throw xt},0)}})};return nt(D,Il.EventType.OPEN,()=>{G||(it(He,`RPC '${e}' stream ${u} transport opened.`),Z.__())}),nt(D,Il.EventType.CLOSE,()=>{G||(G=!0,it(He,`RPC '${e}' stream ${u} transport closed`),Z.u_())}),nt(D,Il.EventType.ERROR,J=>{G||(G=!0,ls(He,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),Z.u_(new at(K.UNAVAILABLE,"The operation could not be completed")))}),nt(D,Il.EventType.MESSAGE,J=>{var Et;if(!G){const gt=J.data[0];qt(!!gt,16349);const ft=gt,xt=(ft==null?void 0:ft.error)||((Et=ft[0])===null||Et===void 0?void 0:Et.error);if(xt){it(He,`RPC '${e}' stream ${u} received error:`,xt);const vt=xt.status;let zt=function(w){const I=me[w];if(I!==void 0)return sv(I)}(vt),N=xt.message;zt===void 0&&(zt=K.INTERNAL,N="Unknown error status: "+vt+" with message "+xt.message),G=!0,Z.u_(new at(zt,N)),D.close()}else it(He,`RPC '${e}' stream ${u} received:`,gt),Z.c_(gt)}}),nt(p,S_.STAT_EVENT,J=>{J.stat===Of.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Of.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){return new DA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i,a=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=a,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="PersistentStream";class Tv{constructor(e,i,a,u,h,d,p,_){this.xi=e,this.y_=a,this.w_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Ev(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Di(i.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.S_===i&&this.K_(a,u)},a=>{e(()=>{const u=new at(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(u)})})}K_(e,i){const a=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{a(()=>this.W_(u))}),this.stream.onMessage(u=>{a(()=>++this.v_==1?this.z_(u):this.onNext(u))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return it(Gy,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(it(Gy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RS extends Tv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=NA(this.serializer,e),a=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Jn(d.readTime):yt.min()}(e);return this.listener.j_(i,a)}H_(e){const i={};i.database=jf(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=Lf(_)?{documents:xA(h,_)}:{query:UA(h,_).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ov(h,d.resumeToken);const v=qf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Fo(h,d.snapshotVersion.toTimestamp());const v=qf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const a=LA(this.serializer,e);a&&(i.labels=a),this.L_(i)}J_(e){const i={};i.database=jf(this.serializer),i.removeTarget=e,this.L_(i)}}class wS extends Tv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=MA(e.writeResults,e.commitTime),a=Jn(e.commitTime);return this.listener.ea(a,i)}ta(){const e={};e.database=jf(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>OA(this.serializer,a))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{}class DS extends CS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.na=!1}ra(){if(this.na)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,kf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())})}Yo(e,i,a,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,kf(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class VS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Di(i),this.oa=!1):it("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class IS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{a.enqueueAndForget(async()=>{ua(this)&&(it(ra,"Restarting streams for network reachability change."),await async function(_){const v=_t(_);v.Ta.add(4),await $l(v),v.da.set("Unknown"),v.Ta.delete(4),await uc(v)}(this))})}),this.da=new VS(a,u)}}async function uc(s){if(ua(s))for(const e of s.Ia)await e(!0)}async function $l(s){for(const e of s.Ia)await e(!1)}function Av(s,e){const i=_t(s);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),yd(i)?pd(i):_s(i).M_()&&gd(i,e))}function md(s,e){const i=_t(s),a=_s(i);i.Pa.delete(e),a.M_()&&Sv(i,e),i.Pa.size===0&&(a.M_()?a.N_():ua(i)&&i.da.set("Unknown"))}function gd(s,e){if(s.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}_s(s).H_(e)}function Sv(s,e){s.Aa.Ke(e),_s(s).J_(e)}function pd(s){s.Aa=new bA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Pa.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),_s(s).start(),s.da._a()}function yd(s){return ua(s)&&!_s(s).F_()&&s.Pa.size>0}function ua(s){return _t(s).Ta.size===0}function bv(s){s.Aa=void 0}async function NS(s){s.da.set("Online")}async function OS(s){s.Pa.forEach((e,i)=>{gd(s,e)})}async function MS(s,e){bv(s),yd(s)?(s.da.ca(e),pd(s)):s.da.set("Unknown")}async function xS(s,e,i){if(s.da.set("Online"),e instanceof uv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Pa.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Pa.delete(p),u.Aa.removeTarget(p))}(s,e)}catch(a){it(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xo(s,a)}else if(e instanceof Mo?s.Aa.Xe(e):e instanceof lv?s.Aa.ot(e):s.Aa.nt(e),!i.isEqual(yt.min()))try{const a=await vv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.Aa.It(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Pa.get(v);A&&h.Pa.set(v,A.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const A=h.Pa.get(_);if(!A)return;h.Pa.set(_,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),Sv(h,_);const D=new ar(A.target,_,v,A.sequenceNumber);gd(h,D)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){it(ra,"Failed to raise snapshot:",a),await Xo(s,a)}}async function Xo(s,e,i){if(!ys(e))throw e;s.Ta.add(1),await $l(s),s.da.set("Offline"),i||(i=()=>vv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(ra,"Retrying IndexedDB access"),await i(),s.Ta.delete(1),await uc(s)})}function Rv(s,e){return e().catch(i=>Xo(s,i,e))}async function oc(s){const e=_t(s),i=mr(e);let a=e.ha.length>0?e.ha[e.ha.length-1].batchId:td;for(;US(e);)try{const u=await pS(e.localStore,a);if(u===null){e.ha.length===0&&i.N_();break}a=u.batchId,zS(e,u)}catch(u){await Xo(e,u)}wv(e)&&Cv(e)}function US(s){return ua(s)&&s.ha.length<10}function zS(s,e){s.ha.push(e);const i=mr(s);i.M_()&&i.Y_&&i.Z_(e.mutations)}function wv(s){return ua(s)&&!mr(s).F_()&&s.ha.length>0}function Cv(s){mr(s).start()}async function LS(s){mr(s).ta()}async function PS(s){const e=mr(s);for(const i of s.ha)e.Z_(i.mutations)}async function BS(s,e,i){const a=s.ha.shift(),u=ld.from(a,e,i);await Rv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await oc(s)}async function qS(s,e){e&&mr(s).Y_&&await async function(a,u){if(function(d){return AA(d)&&d!==K.ABORTED}(u.code)){const h=a.ha.shift();mr(a).O_(),await Rv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await oc(a)}}(s,e),wv(s)&&Cv(s)}async function Qy(s,e){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),it(ra,"RemoteStore received new credentials");const a=ua(i);i.Ta.add(3),await $l(i),a&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await uc(i)}async function kS(s,e){const i=_t(s);e?(i.Ta.delete(2),await uc(i)):e||(i.Ta.add(2),await $l(i),i.da.set("Unknown"))}function _s(s){return s.Ra||(s.Ra=function(i,a,u){const h=_t(i);return h.ra(),new RS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:NS.bind(null,s),n_:OS.bind(null,s),i_:MS.bind(null,s),j_:xS.bind(null,s)}),s.Ia.push(async e=>{e?(s.Ra.O_(),yd(s)?pd(s):s.da.set("Unknown")):(await s.Ra.stop(),bv(s))})),s.Ra}function mr(s){return s.Va||(s.Va=function(i,a,u){const h=_t(i);return h.ra(),new wS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:LS.bind(null,s),i_:qS.bind(null,s),X_:PS.bind(null,s),ea:BS.bind(null,s)}),s.Ia.push(async e=>{e?(s.Va.O_(),await oc(s)):(await s.Va.stop(),s.ha.length>0&&(it(ra,`Stopping write stream with ${s.ha.length} pending writes`),s.ha=[]))})),s.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new _d(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(s,e){if(Di("AsyncQueue",`${e}: ${s}`),ys(s))return new at(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{static emptySet(e){return new ss(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=Nl(),this.sortedSet=new ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ss)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ss;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.ma=new ee(ut.comparator)}track(e){const i=e.doc.key,a=this.ma.get(i);a?e.type!==0&&a.type===3?this.ma=this.ma.insert(i,e):e.type===3&&a.type!==1?this.ma=this.ma.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ma=this.ma.remove(i):e.type===1&&a.type===2?this.ma=this.ma.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):dt(63341,{Vt:e,fa:a}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,a)=>{e.push(a)}),e}}class fs{constructor(e,i,a,u,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new fs(e,i,ss.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class jS{constructor(){this.queries=Fy(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,a){const u=_t(i),h=u.queries;u.queries=Fy(),h.forEach((d,p)=>{for(const _ of p.ya)_.onError(a)})})(this,new at(K.ABORTED,"Firestore shutting down"))}}function Fy(){return new sa(s=>F_(s),nc)}async function GS(s,e){const i=_t(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.wa()&&e.Sa()&&(a=2):(h=new HS,a=e.Sa()?0:1);try{switch(a){case 0:h.pa=await i.onListen(u,!0);break;case 1:h.pa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=vd(d,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&Ed(i)}async function QS(s,e){const i=_t(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?u=e.Sa()?0:1:!h.wa()&&e.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YS(s,e){const i=_t(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.ya)p.va(u)&&(a=!0);d.pa=u}}a&&Ed(i)}function FS(s,e,i){const a=_t(s),u=a.queries.get(e);if(u)for(const h of u.ya)h.onError(i);a.queries.delete(e)}function Ed(s){s.ba.forEach(e=>{e.next()})}var Yf,Ky;(Ky=Yf||(Yf={})).Ca="default",Ky.Cache="cache";class KS{constructor(e,i,a){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new fs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const a=i!=="Offline";return(!this.options.La||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Yf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.key=e}}class Vv{constructor(e){this.key=e}}class XS{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Dt(),this.mutatedKeys=Dt(),this.Ha=K_(e),this.Ja=new ss(this.Ha)}get Ya(){return this.Ga}Za(e,i){const a=i?i.Xa:new Yy,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,D)=>{const M=u.get(A),G=ic(this.query,D)?D:null,Z=!!M&&this.mutatedKeys.has(M.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;M&&G?M.data.isEqual(G.data)?Z!==nt&&(a.track({type:3,doc:G}),J=!0):this.eu(M,G)||(a.track({type:2,doc:G}),J=!0,(_&&this.Ha(G,_)>0||v&&this.Ha(G,v)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),J=!0):M&&!G&&(a.track({type:1,doc:M}),J=!0,(_||v)&&(p=!0)),J&&(G?(d=d.add(G),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Ja:d,Xa:a,Cs:p,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,D)=>function(G,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:J})}};return nt(G)-nt(Z)}(A.type,D.type)||this.Ha(A.doc,D.doc)),this.tu(a),u=u!=null&&u;const p=i&&!u?this.nu():[],_=this.ja.size===0&&this.current&&!u?1:0,v=_!==this.za;return this.za=_,d.length!==0||v?{snapshot:new fs(this.query,e.Ja,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:p}:{ru:p}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Yy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Dt(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const i=[];return e.forEach(a=>{this.ja.has(a)||i.push(new Vv(a))}),this.ja.forEach(a=>{e.has(a)||i.push(new Dv(a))}),i}su(e){this.Ga=e.$s,this.ja=Dt();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return fs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Td="SyncEngine";class ZS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class $S{constructor(e){this.key=e,this._u=!1}}class JS{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new sa(p=>F_(p),nc),this.cu=new Map,this.lu=new Set,this.hu=new ee(ut.comparator),this.Pu=new Map,this.Tu=new cd,this.Iu={},this.Eu=new Map,this.du=hs.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function WS(s,e,i=!0){const a=Uv(s);let u;const h=a.uu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=await Iv(a,e,i,!0),u}async function tb(s,e){const i=Uv(s);await Iv(i,e,!0,!1)}async function Iv(s,e,i,a){const u=await yS(s.localStore,$n(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await eb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Av(s.remoteStore,u),p}async function eb(s,e,i,a,u){s.Ru=(D,M,G)=>async function(nt,J,Et,gt){let ft=J.view.Za(Et);ft.Cs&&(ft=await qy(nt.localStore,J.query,!1).then(({documents:N})=>J.view.Za(N,ft)));const xt=gt&&gt.targetChanges.get(J.targetId),vt=gt&&gt.targetMismatches.get(J.targetId)!=null,zt=J.view.applyChanges(ft,nt.isPrimaryClient,xt,vt);return Zy(nt,J.targetId,zt.ru),zt.snapshot}(s,D,M,G);const h=await qy(s.localStore,e,!0),d=new XS(e,h.$s),p=d.Za(h.documents),_=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(p,s.isPrimaryClient,_);Zy(s,i,v.ru);const A=new ZS(e,i,d);return s.uu.set(e,A),s.cu.has(i)?s.cu.get(i).push(e):s.cu.set(i,[e]),v.snapshot}async function nb(s,e,i){const a=_t(s),u=a.uu.get(e),h=a.cu.get(u.targetId);if(h.length>1)return a.cu.set(u.targetId,h.filter(d=>!nc(d,e))),void a.uu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Gf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&md(a.remoteStore,u.targetId),Ff(a,u.targetId)}).catch(ps)):(Ff(a,u.targetId),await Gf(a.localStore,u.targetId,!0))}async function ib(s,e){const i=_t(s),a=i.uu.get(e),u=i.cu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),md(i.remoteStore,a.targetId))}async function rb(s,e,i){const a=hb(s);try{const u=await function(d,p){const _=_t(d),v=Te.now(),A=p.reduce((G,Z)=>G.add(Z.key),Dt());let D,M;return _.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=Vi(),nt=Dt();return _.Bs.getEntries(G,A).next(J=>{Z=J,Z.forEach((Et,gt)=>{gt.isValidDocument()||(nt=nt.add(Et))})}).next(()=>_.localDocuments.getOverlayedDocuments(G,Z)).next(J=>{D=J;const Et=[];for(const gt of p){const ft=yA(gt,D.get(gt.key).overlayedDocument);ft!=null&&Et.push(new la(gt.key,ft,B_(ft.value.mapValue),wi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,Et,p)}).next(J=>{M=J;const Et=J.applyToLocalDocumentSet(D,nt);return _.documentOverlayCache.saveOverlays(G,J.batchId,Et)})}).then(()=>({batchId:M.batchId,changes:Z_(D)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,_){let v=d.Iu[d.currentUser.toKey()];v||(v=new ee(St)),v=v.insert(p,_),d.Iu[d.currentUser.toKey()]=v}(a,u.batchId,i),await Jl(a,u.changes),await oc(a.remoteStore)}catch(u){const h=vd(u,"Failed to persist write");i.reject(h)}}async function Nv(s,e){const i=_t(s);try{const a=await mS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Pu.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d._u=!0:u.modifiedDocuments.size>0?qt(d._u,14607):u.removedDocuments.size>0&&(qt(d._u,42227),d._u=!1))}),await Jl(i,a,e)}catch(a){await ps(a)}}function Xy(s,e,i){const a=_t(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.uu.forEach((h,d)=>{const p=d.view.Da(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const _=_t(d);_.onlineState=p;let v=!1;_.queries.forEach((A,D)=>{for(const M of D.ya)M.Da(p)&&(v=!0)}),v&&Ed(_)}(a.eventManager,e),u.length&&a.au.j_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ab(s,e,i){const a=_t(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Pu.get(e),h=u&&u.key;if(h){let d=new ee(ut.comparator);d=d.insert(h,Qe.newNoDocument(h,yt.min()));const p=Dt().add(h),_=new sc(yt.min(),new Map,new ee(St),d,p);await Nv(a,_),a.hu=a.hu.remove(h),a.Pu.delete(e),Ad(a)}else await Gf(a.localStore,e,!1).then(()=>Ff(a,e,i)).catch(ps)}async function sb(s,e){const i=_t(s),a=e.batch.batchId;try{const u=await dS(i.localStore,e);Mv(i,a,null),Ov(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,u)}catch(u){await ps(u)}}async function lb(s,e,i){const a=_t(s);try{const u=await function(d,p){const _=_t(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next(D=>(qt(D!==null,37113),A=D.keys(),_.mutationQueue.removeMutationBatch(v,D))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Mv(a,e,i),Ov(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,u)}catch(u){await ps(u)}}function Ov(s,e){(s.Eu.get(e)||[]).forEach(i=>{i.resolve()}),s.Eu.delete(e)}function Mv(s,e,i){const a=_t(s);let u=a.Iu[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Iu[a.currentUser.toKey()]=u}}function Ff(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.cu.get(e))s.uu.delete(a),i&&s.au.Vu(a,i);s.cu.delete(e),s.isPrimaryClient&&s.Tu.Hr(e).forEach(a=>{s.Tu.containsKey(a)||xv(s,a)})}function xv(s,e){s.lu.delete(e.path.canonicalString());const i=s.hu.get(e);i!==null&&(md(s.remoteStore,i),s.hu=s.hu.remove(e),s.Pu.delete(i),Ad(s))}function Zy(s,e,i){for(const a of i)a instanceof Dv?(s.Tu.addReference(a.key,e),ub(s,a)):a instanceof Vv?(it(Td,"Document no longer in limbo: "+a.key),s.Tu.removeReference(a.key,e),s.Tu.containsKey(a.key)||xv(s,a.key)):dt(19791,{mu:a})}function ub(s,e){const i=e.key,a=i.path.canonicalString();s.hu.get(i)||s.lu.has(a)||(it(Td,"New document in limbo: "+i),s.lu.add(a),Ad(s))}function Ad(s){for(;s.lu.size>0&&s.hu.size<s.maxConcurrentLimboResolutions;){const e=s.lu.values().next().value;s.lu.delete(e);const i=new ut($t.fromString(e)),a=s.du.next();s.Pu.set(a,new $S(i)),s.hu=s.hu.insert(i,a),Av(s.remoteStore,new ar($n(ad(i.path)),a,"TargetPurposeLimboResolution",Wo.le))}}async function Jl(s,e,i){const a=_t(s),u=[],h=[],d=[];a.uu.isEmpty()||(a.uu.forEach((p,_)=>{d.push(a.Ru(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const D=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,D?"current":"not-current")}if(v){u.push(v);const D=fd.Rs(_.targetId,v);h.push(D)}}))}),await Promise.all(d),a.au.j_(u),await async function(_,v){const A=_t(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>F.forEach(v,M=>F.forEach(M.ds,G=>A.persistence.referenceDelegate.addReference(D,M.targetId,G)).next(()=>F.forEach(M.As,G=>A.persistence.referenceDelegate.removeReference(D,M.targetId,G)))))}catch(D){if(!ys(D))throw D;it(dd,"Failed to update sequence numbers: "+D)}for(const D of v){const M=D.targetId;if(!D.fromCache){const G=A.xs.get(M),Z=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(M,nt)}}}(a.localStore,h))}async function ob(s,e){const i=_t(s);if(!i.currentUser.isEqual(e)){it(Td,"User change. New user:",e.toKey());const a=await _v(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(p=>{p.forEach(_=>{_.reject(new at(K.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.ks)}}function cb(s,e){const i=_t(s),a=i.Pu.get(e);if(a&&a._u)return Dt().add(a.key);{let u=Dt();const h=i.cu.get(e);if(!h)return u;for(const d of h){const p=i.uu.get(d);u=u.unionWith(p.view.Ya)}return u}}function Uv(s){const e=_t(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ab.bind(null,e),e.au.j_=YS.bind(null,e.eventManager),e.au.Vu=FS.bind(null,e.eventManager),e}function hb(s){const e=_t(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lb.bind(null,e),e}class Zo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return fS(this.persistence,new oS,e.initialUser,this.serializer)}yu(e){return new yv(hd.fi,this.serializer)}pu(e){return new vS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zo.provider={build:()=>new Zo};class fb extends Zo{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){qt(this.persistence.referenceDelegate instanceof Ko,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new KA(a,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new yv(a=>Ko.fi(a,i),this.serializer)}}class Kf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Xy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ob.bind(null,this.syncEngine),await kS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jS}()}createDatastore(e){const i=lc(e.databaseInfo.databaseId),a=function(h){return new bS(h)}(e.databaseInfo);return function(h,d,p,_){return new DS(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new IS(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Xy(this.syncEngine,i,0),function(){return jy.C()?new jy:new ES}())}createSyncEngine(e,i){return function(u,h,d,p,_,v,A){const D=new JS(u,h,d,p,_,v);return A&&(D.Au=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=_t(u);it(ra,"RemoteStore shutting down."),h.Ta.add(5),await $l(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="FirestoreClient";class mb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=je.UNAUTHENTICATED,this.clientId=V_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=vd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function wf(s,e){s.asyncQueue.verifyOperationInProgress(),it(gr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await _v(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function $y(s,e){s.asyncQueue.verifyOperationInProgress();const i=await gb(s);it(gr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Qy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Qy(e.remoteStore,u)),s._onlineComponents=e}async function gb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(gr,"Using user provided OfflineComponentProvider");try{await wf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ls("Error using user provided cache. Falling back to memory cache: "+i),await wf(s,new Zo)}}else it(gr,"Using default OfflineComponentProvider"),await wf(s,new fb(void 0));return s._offlineComponents}async function zv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(gr,"Using user provided OnlineComponentProvider"),await $y(s,s._uninitializedComponentsProvider._online)):(it(gr,"Using default OnlineComponentProvider"),await $y(s,new Kf))),s._onlineComponents}function pb(s){return zv(s).then(e=>e.syncEngine)}async function Jy(s){const e=await zv(s),i=e.eventManager;return i.onListen=WS.bind(null,e.syncEngine),i.onUnlisten=nb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=tb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ib.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(s,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function yb(s,e,i,a){if(e===!0&&a===!0)throw new at(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function t_(s){if(!ut.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function e_(s){if(ut.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function cc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Bl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cc(s);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="firestore.googleapis.com",n_=!0;class i_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bv,this.ssl=n_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:n_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YA)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new S1;switch(a.type){case"firstParty":return new C1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Wy.get(i);a&&(it("ComponentProvider","Removing Datastore"),Wy.delete(i),a.terminate())}(this),Promise.resolve()}}function _b(s,e,i,a={}){var u;s=Bl(s,hc);const h=$f(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(ZE(`https://${_}`),tT("Firestore",!0)),d.host!==Bv&&d.host!==_&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!Lo(v,p)&&(s._setSettings(v),a.mockUserToken)){let A,D;if(typeof a.mockUserToken=="string")A=a.mockUserToken,D=je.MOCK_USER;else{A=$E(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const M=a.mockUserToken.sub||a.mockUserToken.user_id;if(!M)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new je(M)}s._authCredentials=new b1(new C_(A,D))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class cn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class or extends vs{constructor(e,i,a){super(e,i,ad(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ut(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function qv(s,e,...i){if(s=na(s),Pv("collection","path",e),s instanceof hc){const a=$t.fromString(e,...i);return e_(a),new or(s,null,a)}{if(!(s instanceof cn||s instanceof or))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return e_(a),new or(s.firestore,null,a)}}function vb(s,e,...i){if(s=na(s),arguments.length===1&&(e=V_.newId()),Pv("doc","path",e),s instanceof hc){const a=$t.fromString(e,...i);return t_(a),new cn(s,null,new ut(a))}{if(!(s instanceof cn||s instanceof or))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return t_(a),new cn(s.firestore,s instanceof or?s.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="AsyncQueue";class a_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Ev(this,"async_queue_retry"),this.ec=()=>{const a=Rf();a&&it(r_,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=e;const i=Rf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Rf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new ea;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ys(e))throw e;it(r_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(a=>{throw this.Ju=a,this.Yu=!1,Di("INTERNAL UNHANDLED ERROR: ",s_(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=i,i}enqueueAfterDelay(e,i,a){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const u=_d.createAndSchedule(this,e,i,a,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&dt(47125,{_c:s_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function s_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class $o extends hc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new a_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a_(e),this._firestoreClient=void 0,await e}}}function Eb(s,e){const i=typeof s=="object"?s:c1(),a=typeof s=="string"?s:ko,u=a1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=KE("firestore");h&&_b(u,...h)}return u}function kv(s){if(s._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Tb(s),s._firestoreClient}function Tb(s){var e,i,a;const u=s._freezeSettings(),h=function(p,_,v,A){return new H1(p,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Lv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new mb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(Pe.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ds(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=/^__.*__$/;class Sb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(e,this.data,i,this.fieldTransforms)}}function jv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{hc:s})}}class wd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new wd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:a,Ec:!1});return u.dc(e),u}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:a,Ec:!1});return u.Pc(),u}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Jo(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(jv(this.hc)&&Ab.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class bb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||lc(e)}gc(e,i,a,u=!1){return new wd({hc:e,methodName:i,fc:a,path:Le.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gv(s){const e=s._freezeSettings(),i=lc(s._databaseId);return new bb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Rb(s,e,i,a,u,h={}){const d=s.gc(h.merge||h.mergeFields?2:0,e,i,u);Fv("Data must be an object, but it was:",d,a);const p=Qv(a,d);let _,v;if(h.merge)_=new Nn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const M=Cb(e,D,i);if(!d.contains(M))throw new at(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Vb(A,M)||A.push(M)}_=new Nn(A),v=d.fieldTransforms.filter(D=>_.covers(D.field))}else _=null,v=d.fieldTransforms;return new Sb(new bn(p),_,v)}function wb(s,e,i,a=!1){return Cd(i,s.gc(a?4:3,e))}function Cd(s,e){if(Yv(s=na(s)))return Fv("Unsupported field value:",e,s),Qv(s,e);if(s instanceof Hv)return function(a,u){if(!jv(u.hc))throw u.Vc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let _=Cd(p,u.Rc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=na(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Te.fromDate(a);return{timestampValue:Fo(u.serializer,h)}}if(a instanceof Te){const h=new Te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Fo(u.serializer,h)}}if(a instanceof bd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ds)return{bytesValue:ov(u.serializer,a._byteString)};if(a instanceof cn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:od(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Rd)return function(d,p){return{mapValue:{fields:{[L_]:{stringValue:P_},[Ho]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Vc("VectorValues must only contain numeric values.");return sd(p.serializer,v)})}}}}}}(a,u);throw u.Vc(`Unsupported field value: ${cc(a)}`)}(s,e)}function Qv(s,e){const i={};return N_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(s,(a,u)=>{const h=Cd(u,e.Ic(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Yv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Te||s instanceof bd||s instanceof ds||s instanceof cn||s instanceof Hv||s instanceof Rd)}function Fv(s,e,i){if(!Yv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=cc(i);throw a==="an object"?e.Vc(s+" a custom object"):e.Vc(s+" "+a)}}function Cb(s,e,i){if((e=na(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return Kv(s,e);throw Jo("Field path arguments must be of type string or ",s,!1,void 0,i)}const Db=new RegExp("[~\\*/\\[\\]]");function Kv(s,e,i){if(e.search(Db)>=0)throw Jo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Sd(...e.split("."))._internalPath}catch{throw Jo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Jo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new at(K.INVALID_ARGUMENT,p+s+_)}function Vb(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Zv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ib extends Xv{data(){return super.data()}}function Zv(s,e){return typeof e=="string"?Kv(s,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dd{}class Ob extends Dd{}function Mb(s,e,...i){let a=[];e instanceof Dd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Id).length,p=h.filter(_=>_ instanceof Vd).length;if(d>1||d>0&&p>0)throw new at(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Vd extends Ob{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Vd(e,i,a)}_apply(e){const i=this._parse(e);return $v(e._query,i),new vs(e.firestore,e.converter,Pf(e._query,i))}_parse(e){const i=Gv(e.firestore);return function(h,d,p,_,v,A,D){let M;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){o_(D,A);const Z=[];for(const nt of D)Z.push(u_(_,h,nt));M={arrayValue:{values:Z}}}else M=u_(_,h,D)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||o_(D,A),M=wb(p,d,D,A==="in"||A==="not-in");return ge.create(v,A,M)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Id extends Dd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Id(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:On.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const p=h.getFlattenedFilters();for(const _ of p)$v(d,_),d=Pf(d,_)}(e._query,i),new vs(e.firestore,e.converter,Pf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function u_(s,e,i){if(typeof(i=na(i))=="string"){if(i==="")throw new at(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y_(e)&&i.indexOf("/")!==-1)throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child($t.fromString(i));if(!ut.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ty(s,new ut(a))}if(i instanceof cn)return Ty(s,i._key);throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cc(i)}.`)}function o_(s,e){if(!Array.isArray(s)||s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $v(s,e){const i=function(u,h){for(const d of u)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class xb{convertValue(e,i="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return aa(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Ho].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>oe(d.doubleValue));return new Rd(h)}convertGeoPoint(e){return new bd(oe(e.latitude),oe(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ec(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=hr(e);return new Te(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=$t.fromString(e);qt(gv(a),9688,{name:e});const u=new Gl(a.get(1),a.get(3)),h=new ut(a.popFirst(5));return u.isEqual(i)||Di(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jv extends Xv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Zv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class xo extends Jv{data(e={}){return super.data(e)}}class zb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ml(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new xo(this._firestore,this._userDataWriter,a.key,a,new Ml(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const _=new xo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Ml(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new xo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Ml(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Lb(p.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Lb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}class Wv extends xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function Pb(s,e){const i=Bl(s.firestore,$o),a=vb(s),u=Ub(s.converter,e);return qb(i,[Rb(Gv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,wi.exists(!1))]).then(()=>a)}function Bb(s,...e){var i,a,u;s=na(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||l_(e[d])||(h=e[d],d++);const p={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(l_(e[d])){const D=e[d];e[d]=(i=D.next)===null||i===void 0?void 0:i.bind(D),e[d+1]=(a=D.error)===null||a===void 0?void 0:a.bind(D),e[d+2]=(u=D.complete)===null||u===void 0?void 0:u.bind(D)}let _,v,A;if(s instanceof cn)v=Bl(s.firestore,$o),A=ad(s._key.path),_={next:D=>{e[d]&&e[d](kb(v,s,D))},error:e[d+1],complete:e[d+2]};else{const D=Bl(s,vs);v=Bl(D.firestore,$o),A=D._query;const M=new Wv(v);_={next:G=>{e[d]&&e[d](new zb(v,M,D,G))},error:e[d+1],complete:e[d+2]},Nb(s._query)}return function(M,G,Z,nt){const J=new db(nt),Et=new KS(G,J,Z);return M.asyncQueue.enqueueAndForget(async()=>GS(await Jy(M),Et)),()=>{J.Cu(),M.asyncQueue.enqueueAndForget(async()=>QS(await Jy(M),Et))}}(kv(v),A,p,_)}function qb(s,e){return function(a,u){const h=new ea;return a.asyncQueue.enqueueAndForget(async()=>rb(await pb(a),u,h)),h.promise}(kv(s),e)}function kb(s,e,i){const a=i.docs.get(e._key),u=new Wv(s);return new Jv(s,u,e._key,a,new Ml(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){gs=u})(o1),Bo(new ql("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new $o(new R1(a.getProvider("auth-internal")),new D1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),as(oy,cy,e),as(oy,cy,"esm2017")})();const Hb={apiKey:"AIzaSyDmLbboBTXo9EYB98jC2Wl6XsFguDGP6cE",authDomain:"my-test-react-app-firebase.firebaseapp.com",projectId:"my-test-react-app-firebase",storageBucket:"my-test-react-app-firebase.firebasestorage.app",messagingSenderId:void 0,appId:"1:430191490066:web:08bc1009638998b82b94cb"},jb=y_(Hb),t0=Eb(jb),e0="notes",Gb=async s=>{try{const e=await Pb(qv(t0,e0),s),i={...s,id:e.id};return console.log("Firestore.ID:",e.id),i}catch(e){throw console.error("Firestore:",e),e}},Qb=s=>{const e=qv(t0,e0),i=Mb(e);return Bb(i,u=>{const h=[];u.forEach(d=>{h.push({id:d.id,...d.data()})}),s(h)},u=>{console.error("Error subscribing to notes:",u)})};function Yb(){const[s,e]=Uo.useState([]);Uo.useEffect(()=>{const u=Qb(h=>{e(h)});return()=>{u()}},[]);const i=async u=>{const h={text:u};try{await Gb(h)}catch(d){console.error("Failed to save note:",d)}},a=u=>{console.log(`Attempting to delete note with ID: ${u}`)};return Ge.jsxs("div",{className:"App",children:[" ",Ge.jsx("h1",{children:""}),Ge.jsx(LE,{onAddNote:i})," ",Ge.jsxs("div",{className:"notes-list-container",children:[s.map(u=>Ge.jsx(zE,{note:u,onDelete:a},u.id)),s.length===0&&Ge.jsx("p",{children:""})]})]})}UE.createRoot(document.getElementById("root")).render(Ge.jsx(Uo.StrictMode,{children:Ge.jsx(Yb,{})}));
