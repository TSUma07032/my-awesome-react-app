(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(l){if(l.ep)return;l.ep=!0;const f=r(l);fetch(l.href,f)}})();(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Fg={exports:{}},Do={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var zg;function C1(){if(zg)return Do;zg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,f){var d=null;if(f!==void 0&&(d=""+f),l.key!==void 0&&(d=""+l.key),"key"in l){f={};for(var y in l)y!=="key"&&(f[y]=l[y])}else f=l;return l=f.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:f}}return Do.Fragment=t,Do.jsx=r,Do.jsxs=r,Do}var Ug;function A1(){return Ug||(Ug=1,Fg.exports=C1()),Fg.exports}var Ht=A1(),Vg={exports:{}},ve={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var jg;function I1(){if(jg)return ve;jg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=A&&I[A]||I["@@iterator"],typeof I=="function"?I:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ne={};function ee(I,W,te){this.props=I,this.context=W,this.refs=ne,this.updater=te||Q}ee.prototype.isReactComponent={},ee.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},ee.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function we(){}we.prototype=ee.prototype;function be(I,W,te){this.props=I,this.context=W,this.refs=ne,this.updater=te||Q}var ke=be.prototype=new we;ke.constructor=be,J(ke,ee.prototype),ke.isPureReactComponent=!0;var Fe=Array.isArray,ye={H:null,A:null,T:null,S:null,V:null},ze=Object.prototype.hasOwnProperty;function P(I,W,te,X,ue,_e){return te=_e.ref,{$$typeof:s,type:I,key:W,ref:te!==void 0?te:null,props:_e}}function E(I,W){return P(I.type,W,void 0,void 0,void 0,I.props)}function C(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function N(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(te){return W[te]})}var x=/\/+/g;function M(I,W){return typeof I=="object"&&I!==null&&I.key!=null?N(""+I.key):W.toString(36)}function T(){}function Dt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(T,T):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function nt(I,W,te,X,ue){var _e=typeof I;(_e==="undefined"||_e==="boolean")&&(I=null);var pe=!1;if(I===null)pe=!0;else switch(_e){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(I.$$typeof){case s:case t:pe=!0;break;case S:return pe=I._init,nt(pe(I._payload),W,te,X,ue)}}if(pe)return ue=ue(I),pe=X===""?"."+M(I,0):X,Fe(ue)?(te="",pe!=null&&(te=pe.replace(x,"$&/")+"/"),nt(ue,W,te,"",function(Rn){return Rn})):ue!=null&&(C(ue)&&(ue=E(ue,te+(ue.key==null||I&&I.key===ue.key?"":(""+ue.key).replace(x,"$&/")+"/")+pe)),W.push(ue)),1;pe=0;var St=X===""?".":X+":";if(Fe(I))for(var Qe=0;Qe<I.length;Qe++)X=I[Qe],_e=St+M(X,Qe),pe+=nt(X,W,te,_e,ue);else if(Qe=j(I),typeof Qe=="function")for(I=Qe.call(I),Qe=0;!(X=I.next()).done;)X=X.value,_e=St+M(X,Qe++),pe+=nt(X,W,te,_e,ue);else if(_e==="object"){if(typeof I.then=="function")return nt(Dt(I),W,te,X,ue);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function $(I,W,te){if(I==null)return I;var X=[],ue=0;return nt(I,X,"","",function(_e){return W.call(te,_e,ue++)}),X}function Z(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(te){(I._status===0||I._status===-1)&&(I._status=1,I._result=te)},function(te){(I._status===0||I._status===-1)&&(I._status=2,I._result=te)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var oe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Me(){}return ve.Children={map:$,forEach:function(I,W,te){$(I,function(){W.apply(this,arguments)},te)},count:function(I){var W=0;return $(I,function(){W++}),W},toArray:function(I){return $(I,function(W){return W})||[]},only:function(I){if(!C(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ve.Component=ee,ve.Fragment=r,ve.Profiler=l,ve.PureComponent=be,ve.StrictMode=a,ve.Suspense=v,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye,ve.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ye.H.useMemoCache(I)}},ve.cache=function(I){return function(){return I.apply(null,arguments)}},ve.cloneElement=function(I,W,te){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var X=J({},I.props),ue=I.key,_e=void 0;if(W!=null)for(pe in W.ref!==void 0&&(_e=void 0),W.key!==void 0&&(ue=""+W.key),W)!ze.call(W,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&W.ref===void 0||(X[pe]=W[pe]);var pe=arguments.length-2;if(pe===1)X.children=te;else if(1<pe){for(var St=Array(pe),Qe=0;Qe<pe;Qe++)St[Qe]=arguments[Qe+2];X.children=St}return P(I.type,ue,void 0,void 0,_e,X)},ve.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:f,_context:I},I},ve.createElement=function(I,W,te){var X,ue={},_e=null;if(W!=null)for(X in W.key!==void 0&&(_e=""+W.key),W)ze.call(W,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ue[X]=W[X]);var pe=arguments.length-2;if(pe===1)ue.children=te;else if(1<pe){for(var St=Array(pe),Qe=0;Qe<pe;Qe++)St[Qe]=arguments[Qe+2];ue.children=St}if(I&&I.defaultProps)for(X in pe=I.defaultProps,pe)ue[X]===void 0&&(ue[X]=pe[X]);return P(I,_e,void 0,void 0,null,ue)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(I){return{$$typeof:y,render:I}},ve.isValidElement=C,ve.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:Z}},ve.memo=function(I,W){return{$$typeof:b,type:I,compare:W===void 0?null:W}},ve.startTransition=function(I){var W=ye.T,te={};ye.T=te;try{var X=I(),ue=ye.S;ue!==null&&ue(te,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Me,oe)}catch(_e){oe(_e)}finally{ye.T=W}},ve.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()},ve.use=function(I){return ye.H.use(I)},ve.useActionState=function(I,W,te){return ye.H.useActionState(I,W,te)},ve.useCallback=function(I,W){return ye.H.useCallback(I,W)},ve.useContext=function(I){return ye.H.useContext(I)},ve.useDebugValue=function(){},ve.useDeferredValue=function(I,W){return ye.H.useDeferredValue(I,W)},ve.useEffect=function(I,W,te){var X=ye.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(I,W)},ve.useId=function(){return ye.H.useId()},ve.useImperativeHandle=function(I,W,te){return ye.H.useImperativeHandle(I,W,te)},ve.useInsertionEffect=function(I,W){return ye.H.useInsertionEffect(I,W)},ve.useLayoutEffect=function(I,W){return ye.H.useLayoutEffect(I,W)},ve.useMemo=function(I,W){return ye.H.useMemo(I,W)},ve.useOptimistic=function(I,W){return ye.H.useOptimistic(I,W)},ve.useReducer=function(I,W,te){return ye.H.useReducer(I,W,te)},ve.useRef=function(I){return ye.H.useRef(I)},ve.useState=function(I){return ye.H.useState(I)},ve.useSyncExternalStore=function(I,W,te){return ye.H.useSyncExternalStore(I,W,te)},ve.useTransition=function(){return ye.H.useTransition()},ve.version="19.1.0",ve}var $g;function qf(){return $g||($g=1,Vg.exports=I1()),Vg.exports}var Lu=qf(),df={exports:{}},No={},Bg={exports:{}},Hg={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var qg;function D1(){return qg||(qg=1,function(s){function t($,Z){var oe=$.length;$.push(Z);e:for(;0<oe;){var Me=oe-1>>>1,I=$[Me];if(0<l(I,Z))$[Me]=Z,$[oe]=I,oe=Me;else break e}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var Z=$[0],oe=$.pop();if(oe!==Z){$[0]=oe;e:for(var Me=0,I=$.length,W=I>>>1;Me<W;){var te=2*(Me+1)-1,X=$[te],ue=te+1,_e=$[ue];if(0>l(X,oe))ue<I&&0>l(_e,X)?($[Me]=_e,$[ue]=oe,Me=ue):($[Me]=X,$[te]=oe,Me=te);else if(ue<I&&0>l(_e,oe))$[Me]=_e,$[ue]=oe,Me=ue;else break e}}return Z}function l($,Z){var oe=$.sortIndex-Z.sortIndex;return oe!==0?oe:$.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],b=[],S=1,A=null,j=3,Q=!1,J=!1,ne=!1,ee=!1,we=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,ke=typeof setImmediate<"u"?setImmediate:null;function Fe($){for(var Z=r(b);Z!==null;){if(Z.callback===null)a(b);else if(Z.startTime<=$)a(b),Z.sortIndex=Z.expirationTime,t(v,Z);else break;Z=r(b)}}function ye($){if(ne=!1,Fe($),!J)if(r(v)!==null)J=!0,ze||(ze=!0,M());else{var Z=r(b);Z!==null&&nt(ye,Z.startTime-$)}}var ze=!1,P=-1,E=5,C=-1;function N(){return ee?!0:!(s.unstable_now()-C<E)}function x(){if(ee=!1,ze){var $=s.unstable_now();C=$;var Z=!0;try{e:{J=!1,ne&&(ne=!1,be(P),P=-1),Q=!0;var oe=j;try{t:{for(Fe($),A=r(v);A!==null&&!(A.expirationTime>$&&N());){var Me=A.callback;if(typeof Me=="function"){A.callback=null,j=A.priorityLevel;var I=Me(A.expirationTime<=$);if($=s.unstable_now(),typeof I=="function"){A.callback=I,Fe($),Z=!0;break t}A===r(v)&&a(v),Fe($)}else a(v);A=r(v)}if(A!==null)Z=!0;else{var W=r(b);W!==null&&nt(ye,W.startTime-$),Z=!1}}break e}finally{A=null,j=oe,Q=!1}Z=void 0}}finally{Z?M():ze=!1}}}var M;if(typeof ke=="function")M=function(){ke(x)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,Dt=T.port2;T.port1.onmessage=x,M=function(){Dt.postMessage(null)}}else M=function(){we(x,0)};function nt($,Z){P=we(function(){$(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function($){switch(j){case 1:case 2:case 3:var Z=3;break;default:Z=j}var oe=j;j=Z;try{return $()}finally{j=oe}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=j;j=$;try{return Z()}finally{j=oe}},s.unstable_scheduleCallback=function($,Z,oe){var Me=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Me+oe:Me):oe=Me,$){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=oe+I,$={id:S++,callback:Z,priorityLevel:$,startTime:oe,expirationTime:I,sortIndex:-1},oe>Me?($.sortIndex=oe,t(b,$),r(v)===null&&$===r(b)&&(ne?(be(P),P=-1):ne=!0,nt(ye,oe-Me))):($.sortIndex=I,t(v,$),J||Q||(J=!0,ze||(ze=!0,M()))),$},s.unstable_shouldYield=N,s.unstable_wrapCallback=function($){var Z=j;return function(){var oe=j;j=Z;try{return $.apply(this,arguments)}finally{j=oe}}}}(Hg)),Hg}var Gg;function N1(){return Gg||(Gg=1,Bg.exports=D1()),Bg.exports}var pf={exports:{}},jt={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Kg;function x1(){if(Kg)return jt;Kg=1;var s=qf();function t(v){var b="https://react.dev/errors/"+v;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function f(v,b,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:b,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,b){if(v==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,jt.createPortal=function(v,b){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return f(v,b,null,S)},jt.flushSync=function(v){var b=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=b,a.p=S,a.d.f()}},jt.preconnect=function(v,b){typeof v=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,a.d.C(v,b))},jt.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},jt.preinit=function(v,b){if(typeof v=="string"&&b&&typeof b.as=="string"){var S=b.as,A=y(S,b.crossOrigin),j=typeof b.integrity=="string"?b.integrity:void 0,Q=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;S==="style"?a.d.S(v,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:A,integrity:j,fetchPriority:Q}):S==="script"&&a.d.X(v,{crossOrigin:A,integrity:j,fetchPriority:Q,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},jt.preinitModule=function(v,b){if(typeof v=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var S=y(b.as,b.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&a.d.M(v)},jt.preload=function(v,b){if(typeof v=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var S=b.as,A=y(S,b.crossOrigin);a.d.L(v,S,{crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},jt.preloadModule=function(v,b){if(typeof v=="string")if(b){var S=y(b.as,b.crossOrigin);a.d.m(v,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else a.d.m(v)},jt.requestFormReset=function(v){a.d.r(v)},jt.unstable_batchedUpdates=function(v,b){return v(b)},jt.useFormState=function(v,b,S){return d.H.useFormState(v,b,S)},jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},jt.version="19.1.0",jt}var Wg;function P1(){if(Wg)return pf.exports;Wg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),pf.exports=x1(),pf.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Qg;function R1(){if(Qg)return No;Qg=1;var s=N1(),t=qf(),r=P1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,o=n;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return y(c),e;if(h===o)return y(c),n;h=h.sibling}throw Error(a(188))}if(i.return!==o.return)i=c,o=h;else{for(var g=!1,w=c.child;w;){if(w===i){g=!0,i=c,o=h;break}if(w===o){g=!0,o=c,i=h;break}w=w.sibling}if(!g){for(w=h.child;w;){if(w===i){g=!0,i=h,o=c;break}if(w===o){g=!0,o=h,i=c;break}w=w.sibling}if(!g)throw Error(a(189))}}if(i.alternate!==o)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,A=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),be=Symbol.for("react.consumer"),ke=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var T=Symbol.for("react.client.reference");function Dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===T?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ee:return"Profiler";case ne:return"StrictMode";case ye:return"Suspense";case ze:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case ke:return(e.displayName||"Context")+".Provider";case be:return(e._context.displayName||"Context")+".Consumer";case Fe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return n=e.displayName||null,n!==null?n:Dt(e.type)||"Memo";case E:n=e._payload,e=e._init;try{return Dt(e(n))}catch{}}return null}var nt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Me=[],I=-1;function W(e){return{current:e}}function te(e){0>I||(e.current=Me[I],Me[I]=null,I--)}function X(e,n){I++,Me[I]=e.current,e.current=n}var ue=W(null),_e=W(null),pe=W(null),St=W(null);function Qe(e,n){switch(X(pe,n),X(_e,e),X(ue,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?hg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=hg(n),e=fg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(ue),X(ue,e)}function Rn(){te(ue),te(_e),te(pe)}function Nr(e){e.memoizedState!==null&&X(St,e);var n=ue.current,i=fg(n,e.type);n!==i&&(X(_e,e),X(ue,i))}function Zn(e){_e.current===e&&(te(ue),te(_e)),St.current===e&&(te(St),_o._currentValue=oe)}var gi=Object.prototype.hasOwnProperty,yi=s.unstable_scheduleCallback,vi=s.unstable_cancelCallback,ws=s.unstable_shouldYield,el=s.unstable_requestPaint,hn=s.unstable_now,fc=s.unstable_getCurrentPriorityLevel,ks=s.unstable_ImmediatePriority,ua=s.unstable_UserBlockingPriority,bi=s.unstable_NormalPriority,dc=s.unstable_LowPriority,ca=s.unstable_IdlePriority,Ss=s.log,tl=s.unstable_setDisableYieldValue,rt=null,je=null;function en(e){if(typeof Ss=="function"&&tl(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(rt,e)}catch{}}var Ut=Math.clz32?Math.clz32:wi,nl=Math.log,pc=Math.LN2;function wi(e){return e>>>=0,e===0?32:31-(nl(e)/pc|0)|0}var ki=256,Si=4194304;function Tn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ha(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var c=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~h,o!==0?c=Tn(o):(g&=w,g!==0?c=Tn(g):i||(i=w&~e,i!==0&&(c=Tn(i))))):(w=o&~h,w!==0?c=Tn(w):g!==0?c=Tn(g):i||(i=o&~e,i!==0&&(c=Tn(i)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:c}function Ei(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Es(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(){var e=ki;return ki<<=1,(ki&4194048)===0&&(ki=256),e}function Ts(){var e=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),e}function er(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cs(e,n,i,o,c,h){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,_=e.expirationTimes,F=e.hiddenUpdates;for(i=g&~i;0<i;){var B=31-Ut(i),q=1<<B;w[B]=0,_[B]=-1;var z=F[B];if(z!==null)for(F[B]=null,B=0;B<z.length;B++){var U=z[B];U!==null&&(U.lane&=-536870913)}i&=~q}o!==0&&Mn(e,o,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~n))}function Mn(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ut(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194090}function As(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-Ut(i),c=1<<o;c&n|e[o]&n&&(e[o]|=n),i&=~c}}function xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pr(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:xg(e.type))}function rl(e,n){var i=Z.p;try{return Z.p=e,n()}finally{Z.p=i}}var Ye=Math.random().toString(36).slice(2),mt="__reactFiber$"+Ye,ct="__reactProps$"+Ye,fn="__reactContainer$"+Ye,Is="__reactEvents$"+Ye,mc="__reactListeners$"+Ye,Rr="__reactHandles$"+Ye,il="__reactResources$"+Ye,_i="__reactMarker$"+Ye;function Mr(e){delete e[mt],delete e[ct],delete e[Is],delete e[mc],delete e[Rr]}function nr(e){var n=e[mt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[fn]||i[mt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=gg(e);e!==null;){if(i=e[mt])return i;e=gg(e)}return n}e=i,i=e.parentNode}return null}function Ln(e){if(e=e[mt]||e[fn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function On(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Gt(e){var n=e[il];return n||(n=e[il]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function st(e){e[_i]=!0}var Ds=new Set,da={};function Cn(e,n){rr(e,n),rr(e+"Capture",n)}function rr(e,n){for(da[e]=n,e=0;e<n.length;e++)Ds.add(n[e])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},Ti={};function ol(e){return gi.call(Ti,e)?!0:gi.call(sl,e)?!1:al.test(e)?Ti[e]=!0:(sl[e]=!0,!1)}function Lr(e,n,i){if(ol(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Fn(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Nt(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}var Ci,ll;function ir(e){if(Ci===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ci=n&&n[1]||"",ll=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ci+e+ll}var pa=!1;function ma(e,n){if(!e||pa)return"";pa=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var z=U}Reflect.construct(e,[],q)}else{try{q.call()}catch(U){z=U}e.call(q.prototype)}}else{try{throw Error()}catch(U){z=U}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&z&&typeof U.stack=="string")return[U.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],w=h[1];if(g&&w){var _=g.split(`
`),F=w.split(`
`);for(c=o=0;o<_.length&&!_[o].includes("DetermineComponentFrameRoot");)o++;for(;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;if(o===_.length||c===F.length)for(o=_.length-1,c=F.length-1;1<=o&&0<=c&&_[o]!==F[c];)c--;for(;1<=o&&0<=c;o--,c--)if(_[o]!==F[c]){if(o!==1||c!==1)do if(o--,c--,0>c||_[o]!==F[c]){var B=`
`+_[o].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=o&&0<=c);break}}}finally{pa=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ir(i):""}function Ns(e){switch(e.tag){case 26:case 27:case 5:return ir(e.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 15:return ma(e.type,!1);case 11:return ma(e.type.render,!1);case 1:return ma(e.type,!0);case 31:return ir("Activity");default:return""}}function ga(e){try{var n="";do n+=Ns(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gc(e){var n=xs(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ya(e){e._valueTracker||(e._valueTracker=gc(e))}function Ps(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=xs(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yc=/[\n"\\]/g;function gt(e){return e.replace(yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tn(e,n,i,o,c,h,g,w){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kt(n)):e.value!==""+Kt(n)&&(e.value=""+Kt(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Or(e,g,Kt(n)):i!=null?Or(e,g,Kt(i)):o!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Kt(w):e.removeAttribute("name")}function Ii(e,n,i,o,c,h,g,w){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;i=i!=null?""+Kt(i):"",n=n!=null?""+Kt(n):i,w||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function Or(e,n,i){n==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ar(e,n,i,o){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Kt(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function He(e,n,i){if(n!=null&&(n=""+Kt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Kt(i):""}function Di(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(a(92));if(nt(o)){if(1<o.length)throw Error(a(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Kt(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function dn(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Ni=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Ni.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Rs(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&i[c]!==o&&ul(e,c,o)}else for(var h in n)n.hasOwnProperty(h)&&ul(e,h,n[h])}function Ms(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return bc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var sr=null;function pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,lr=null;function Ls(e){var n=Ln(e);if(n&&(e=n.stateNode)){var i=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(tn(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+gt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var c=o[ct]||null;if(!c)throw Error(a(90));tn(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&Ps(o)}break e;case"textarea":He(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&ar(e,!!i.multiple,n,!1)}}}var zn=!1;function cl(e,n,i){if(zn)return e(n,i);zn=!0;try{var o=e(n);return o}finally{if(zn=!1,(or!==null||lr!==null)&&(ru(),or&&(n=or,e=lr,lr=or=null,Ls(n),e)))for(n=0;n<e.length;n++)Ls(e[n])}}function xi(e,n){var i=e.stateNode;if(i===null)return null;var o=i[ct]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(An)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{mn=!1}var Un=null,Fr=null,ur=null;function Os(){if(ur)return ur;var e,n=Fr,i=n.length,o,c="value"in Un?Un.value:Un.textContent,h=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(o=1;o<=g&&n[i-o]===c[h-o];o++);return ur=c.slice(e,1<o?1-o:void 0)}function Vn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function jn(){return!0}function Fs(){return!1}function Et(e){function n(i,o,c,h,g){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?jn:Fs,this.isPropagationStopped=Fs,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var Ue={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Et(Ue),Ri=S({},Ue,{view:0,detail:0}),hl=Et(Ri),wa,ka,$n,Mi=S({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(wa=e.screenX-$n.screenX,ka=e.screenY-$n.screenY):ka=wa=0,$n=e),wa)},movementY:function(e){return"movementY"in e?e.movementY:ka}}),gn=Et(Mi),fl=S({},Mi,{dataTransfer:0}),wc=Et(fl),Li=S({},Ri,{relatedTarget:0}),Sa=Et(Li),zs=S({},Ue,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Et(zs),dl=S({},Ue,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_a=Et(dl),kc=S({},Ue,{data:0}),Us=Et(kc),Oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vs(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ml[e])?!!n[e]:!1}function Fi(){return Vs}var gl=S({},Ri,{key:function(e){if(e.key){var n=Oi[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Vn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fi,charCode:function(e){return e.type==="keypress"?Vn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ta=Et(gl),yl=S({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=Et(yl),cr=S({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fi}),vl=Et(cr),bl=S({},Ue,{propertyName:0,elapsedTime:0,pseudoElement:0}),wl=Et(bl),kl=S({},Mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=Et(kl),Wt=S({},Ue,{newState:0,oldState:0}),Sl=Et(Wt),El=[9,13,27,32],Bn=An&&"CompositionEvent"in window,u=null;An&&"documentMode"in document&&(u=document.documentMode);var p=An&&"TextEvent"in window&&!u,m=An&&(!Bn||u&&8<u&&11>=u),k=" ",L=!1;function V(e,n){switch(e){case"keyup":return El.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pe=!1;function yt(e,n){switch(e){case"compositionend":return Y(n);case"keypress":return n.which!==32?null:(L=!0,k);case"textInput":return e=n.data,e===k&&L?null:e;default:return null}}function Le(e,n){if(Pe)return e==="compositionend"||!Bn&&V(e,n)?(e=Os(),ur=Fr=Un=null,Pe=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return m&&n.locale!=="ko"?null:n.data;default:return null}}var _t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_t[e.type]:n==="textarea"}function hr(e,n,i,o){or?lr?lr.push(o):lr=[o]:or=o,n=uu(n,"onChange"),0<n.length&&(i=new ba("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var Pt=null,Hn=null;function $s(e){sg(e,0)}function _l(e){var n=On(e);if(Ps(n))return e}function Ad(e,n){if(e==="change")return n}var Id=!1;if(An){var Sc;if(An){var Ec="oninput"in document;if(!Ec){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Ec=typeof Dd.oninput=="function"}Sc=Ec}else Sc=!1;Id=Sc&&(!document.documentMode||9<document.documentMode)}function Nd(){Pt&&(Pt.detachEvent("onpropertychange",xd),Hn=Pt=null)}function xd(e){if(e.propertyName==="value"&&_l(Hn)){var n=[];hr(n,Hn,e,pn(e)),cl($s,n)}}function nb(e,n,i){e==="focusin"?(Nd(),Pt=n,Hn=i,Pt.attachEvent("onpropertychange",xd)):e==="focusout"&&Nd()}function rb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(Hn)}function ib(e,n){if(e==="click")return _l(n)}function ab(e,n){if(e==="input"||e==="change")return _l(n)}function sb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nn=typeof Object.is=="function"?Object.is:sb;function Bs(e,n){if(nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!gi.call(n,c)||!nn(e[c],n[c]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,n){var i=Pd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Pd(i)}}function Md(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Md(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ai(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Ai(e.document)}return n}function _c(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ob=An&&"documentMode"in document&&11>=document.documentMode,Aa=null,Tc=null,Hs=null,Cc=!1;function Od(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Cc||Aa==null||Aa!==Ai(o)||(o=Aa,"selectionStart"in o&&_c(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Hs&&Bs(Hs,o)||(Hs=o,o=uu(Tc,"onSelect"),0<o.length&&(n=new ba("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=Aa)))}function zi(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ia={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},Ac={},Fd={};An&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ui(e){if(Ac[e])return Ac[e];if(!Ia[e])return e;var n=Ia[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Fd)return Ac[e]=n[i];return e}var zd=Ui("animationend"),Ud=Ui("animationiteration"),Vd=Ui("animationstart"),lb=Ui("transitionrun"),ub=Ui("transitionstart"),cb=Ui("transitioncancel"),jd=Ui("transitionend"),$d=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function In(e,n){$d.set(e,n),Cn(n,[e])}var Bd=new WeakMap;function yn(e,n){if(typeof e=="object"&&e!==null){var i=Bd.get(e);return i!==void 0?i:(n={value:e,source:n,stack:ga(n)},Bd.set(e,n),n)}return{value:e,source:n,stack:ga(n)}}var vn=[],Da=0,Dc=0;function Tl(){for(var e=Da,n=Dc=Da=0;n<e;){var i=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var h=vn[n];if(vn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}h!==0&&Hd(i,c,h)}}function Cl(e,n,i,o){vn[Da++]=e,vn[Da++]=n,vn[Da++]=i,vn[Da++]=o,Dc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nc(e,n,i,o){return Cl(e,n,i,o),Al(e)}function Na(e,n){return Cl(e,null,null,n),Al(e)}function Hd(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var c=!1,h=e.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-Ut(i),e=h.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=i|536870912),h):null}function Al(e){if(50<go)throw go=0,Oh=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var xa={};function hb(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,n,i,o){return new hb(e,n,i,o)}function xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fr(e,n){var i=e.alternate;return i===null?(i=rn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function qd(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Il(e,n,i,o,c,h){var g=0;if(o=e,typeof e=="function")xc(e)&&(g=1);else if(typeof e=="string")g=d1(e,i,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case C:return e=rn(31,i,n,c),e.elementType=C,e.lanes=h,e;case J:return Vi(i.children,c,h,n);case ne:g=8,c|=24;break;case ee:return e=rn(12,i,n,c|2),e.elementType=ee,e.lanes=h,e;case ye:return e=rn(13,i,n,c),e.elementType=ye,e.lanes=h,e;case ze:return e=rn(19,i,n,c),e.elementType=ze,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:case ke:g=10;break e;case be:g=9;break e;case Fe:g=11;break e;case P:g=14;break e;case E:g=16,o=null;break e}g=29,i=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=rn(g,i,n,c),n.elementType=e,n.type=o,n.lanes=h,n}function Vi(e,n,i,o){return e=rn(7,e,o,n),e.lanes=i,e}function Pc(e,n,i){return e=rn(6,e,null,n),e.lanes=i,e}function Rc(e,n,i){return n=rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pa=[],Ra=0,Dl=null,Nl=0,bn=[],wn=0,ji=null,dr=1,pr="";function $i(e,n){Pa[Ra++]=Nl,Pa[Ra++]=Dl,Dl=e,Nl=n}function Gd(e,n,i){bn[wn++]=dr,bn[wn++]=pr,bn[wn++]=ji,ji=e;var o=dr;e=pr;var c=32-Ut(o)-1;o&=~(1<<c),i+=1;var h=32-Ut(n)+c;if(30<h){var g=c-c%5;h=(o&(1<<g)-1).toString(32),o>>=g,c-=g,dr=1<<32-Ut(n)+c|i<<c|o,pr=h+e}else dr=1<<h|i<<c|o,pr=e}function Mc(e){e.return!==null&&($i(e,1),Gd(e,1,0))}function Lc(e){for(;e===Dl;)Dl=Pa[--Ra],Pa[Ra]=null,Nl=Pa[--Ra],Pa[Ra]=null;for(;e===ji;)ji=bn[--wn],bn[wn]=null,pr=bn[--wn],bn[wn]=null,dr=bn[--wn],bn[wn]=null}var Qt=null,it=null,Oe=!1,Bi=null,qn=!1,Oc=Error(a(519));function Hi(e){var n=Error(a(418,""));throw Ks(yn(n,e)),Oc}function Kd(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[mt]=e,n[ct]=o,i){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(i=0;i<vo.length;i++)Ae(vo[i],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ae("invalid",n),Ii(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ya(n);break;case"select":Ae("invalid",n);break;case"textarea":Ae("invalid",n),Di(n,o.value,o.defaultValue,o.children),ya(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||cg(n.textContent,i)?(o.popover!=null&&(Ae("beforetoggle",n),Ae("toggle",n)),o.onScroll!=null&&Ae("scroll",n),o.onScrollEnd!=null&&Ae("scrollend",n),o.onClick!=null&&(n.onclick=cu),n=!0):n=!1,n||Hi(e)}function Wd(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qt=Qt.return}}function qs(e){if(e!==Qt)return!1;if(!Oe)return Wd(e),Oe=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Yh(e.type,e.memoizedProps)),i=!i),i&&it&&Hi(e),Wd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){it=Nn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}it=null}}else n===27?(n=it,Zr(e.type)?(e=nf,nf=null,it=e):it=n):it=Qt?Nn(e.stateNode.nextSibling):null;return!0}function Gs(){it=Qt=null,Oe=!1}function Qd(){var e=Bi;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),Bi=null),e}function Ks(e){Bi===null?Bi=[e]:Bi.push(e)}var Fc=W(null),qi=null,mr=null;function zr(e,n,i){X(Fc,n._currentValue),n._currentValue=i}function gr(e){e._currentValue=Fc.current,te(Fc)}function zc(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Uc(e,n,i,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var w=h;h=c;for(var _=0;_<n.length;_++)if(w.context===n[_]){h.lanes|=i,w=h.alternate,w!==null&&(w.lanes|=i),zc(h.return,i,e),o||(g=null);break e}h=w.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=i,h=g.alternate,h!==null&&(h.lanes|=i),zc(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ws(e,n,i,o){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var w=c.type;nn(c.pendingProps.value,g.value)||(e!==null?e.push(w):e=[w])}}else if(c===St.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(_o):e=[_o])}c=c.return}e!==null&&Uc(n,e,i,o),n.flags|=262144}function xl(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gi(e){qi=e,mr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Vt(e){return Xd(qi,e)}function Pl(e,n){return qi===null&&Gi(e),Xd(e,n)}function Xd(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},mr===null){if(e===null)throw Error(a(308));mr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else mr=mr.next=n;return i}var fb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},db=s.unstable_scheduleCallback,pb=s.unstable_NormalPriority,vt={$$typeof:ke,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vc(){return{controller:new fb,data:new Map,refCount:0}}function Qs(e){e.refCount--,e.refCount===0&&db(pb,function(){e.controller.abort()})}var Xs=null,jc=0,Ma=0,La=null;function mb(e,n){if(Xs===null){var i=Xs=[];jc=0,Ma=Bh(),La={status:"pending",value:void 0,then:function(o){i.push(o)}}}return jc++,n.then(Jd,Jd),n}function Jd(){if(--jc===0&&Xs!==null){La!==null&&(La.status="fulfilled");var e=Xs;Xs=null,Ma=0,La=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function gb(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),o}var Yd=$.S;$.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&mb(e,n),Yd!==null&&Yd(e,n)};var Ki=W(null);function $c(){var e=Ki.current;return e!==null?e:Xe.pooledCache}function Rl(e,n){n===null?X(Ki,Ki.current):X(Ki,n.pool)}function Zd(){var e=$c();return e===null?null:{parent:vt._currentValue,pool:e}}var Js=Error(a(460)),ep=Error(a(474)),Ml=Error(a(542)),Bc={then:function(){}};function tp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ll(){}function np(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Ll,Ll),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ip(e),e;default:if(typeof n.status=="string")n.then(Ll,Ll);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ip(e),e}throw Ys=n,Js}}var Ys=null;function rp(){if(Ys===null)throw Error(a(459));var e=Ys;return Ys=null,e}function ip(e){if(e===Js||e===Ml)throw Error(a(483))}var Ur=!1;function Hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jr(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($e&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Al(e),Hd(e,null,i),n}return Cl(e,o,n,i),Al(e)}function Zs(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,As(e,i)}}function Gc(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,i=i.next}while(i!==null);h===null?c=h=n:h=h.next=n}else c=h=n;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Kc=!1;function eo(){if(Kc){var e=La;if(e!==null)throw e}}function to(e,n,i,o){Kc=!1;var c=e.updateQueue;Ur=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var _=w,F=_.next;_.next=null,g===null?h=F:g.next=F,g=_;var B=e.alternate;B!==null&&(B=B.updateQueue,w=B.lastBaseUpdate,w!==g&&(w===null?B.firstBaseUpdate=F:w.next=F,B.lastBaseUpdate=_))}if(h!==null){var q=c.baseState;g=0,B=F=_=null,w=h;do{var z=w.lane&-536870913,U=z!==w.lane;if(U?(De&z)===z:(o&z)===z){z!==0&&z===Ma&&(Kc=!0),B!==null&&(B=B.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=e,ce=w;z=n;var Ke=i;switch(ce.tag){case 1:if(de=ce.payload,typeof de=="function"){q=de.call(Ke,q,z);break e}q=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ce.payload,z=typeof de=="function"?de.call(Ke,q,z):de,z==null)break e;q=S({},q,z);break e;case 2:Ur=!0}}z=w.callback,z!==null&&(e.flags|=64,U&&(e.flags|=8192),U=c.callbacks,U===null?c.callbacks=[z]:U.push(z))}else U={lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},B===null?(F=B=U,_=q):B=B.next=U,g|=z;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;U=w,w=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);B===null&&(_=q),c.baseState=_,c.firstBaseUpdate=F,c.lastBaseUpdate=B,h===null&&(c.shared.lanes=0),Qr|=g,e.lanes=g,e.memoizedState=q}}function ap(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function sp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ap(i[e],n)}var Oa=W(null),Ol=W(0);function op(e,n){e=_r,X(Ol,e),X(Oa,n),_r=e|n.baseLanes}function Wc(){X(Ol,_r),X(Oa,Oa.current)}function Qc(){_r=Ol.current,te(Oa),te(Ol)}var $r=0,Se=null,qe=null,ht=null,Fl=!1,Fa=!1,Wi=!1,zl=0,no=0,za=null,yb=0;function ot(){throw Error(a(321))}function Xc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!nn(e[i],n[i]))return!1;return!0}function Jc(e,n,i,o,c,h){return $r=h,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?Hp:qp,Wi=!1,h=i(o,c),Wi=!1,Fa&&(h=up(n,i,o,c)),lp(e),h}function lp(e){$.H=Hl;var n=qe!==null&&qe.next!==null;if($r=0,ht=qe=Se=null,Fl=!1,no=0,za=null,n)throw Error(a(300));e===null||Tt||(e=e.dependencies,e!==null&&xl(e)&&(Tt=!0))}function up(e,n,i,o){Se=e;var c=0;do{if(Fa&&(za=null),no=0,Fa=!1,25<=c)throw Error(a(301));if(c+=1,ht=qe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}$.H=_b,h=n(i,o)}while(Fa);return h}function vb(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?ro(n):n,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Se.flags|=1024),n}function Yc(){var e=zl!==0;return zl=0,e}function Zc(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function eh(e){if(Fl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fl=!1}$r=0,ht=qe=Se=null,Fa=!1,no=zl=0,za=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Se.memoizedState=ht=e:ht=ht.next=e,ht}function ft(){if(qe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var n=ht===null?Se.memoizedState:ht.next;if(n!==null)ht=n,qe=e;else{if(e===null)throw Se.alternate===null?Error(a(467)):Error(a(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ht===null?Se.memoizedState=ht=e:ht=ht.next=e}return ht}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(e){var n=no;return no+=1,za===null&&(za=[]),e=np(za,e,n),n=Se,(ht===null?n.memoizedState:ht.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Hp:qp),e}function Ul(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ro(e);if(e.$$typeof===ke)return Vt(e)}throw Error(a(438,String(e)))}function nh(e){var n=null,i=Se.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=th(),Se.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=N;return n.index++,i}function yr(e,n){return typeof n=="function"?n(e):n}function Vl(e){var n=ft();return rh(n,qe,e)}function rh(e,n,i){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=i;var c=e.baseQueue,h=o.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,o.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var w=g=null,_=null,F=n,B=!1;do{var q=F.lane&-536870913;if(q!==F.lane?(De&q)===q:($r&q)===q){var z=F.revertLane;if(z===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),q===Ma&&(B=!0);else if(($r&z)===z){F=F.next,z===Ma&&(B=!0);continue}else q={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(w=_=q,g=h):_=_.next=q,Se.lanes|=z,Qr|=z;q=F.action,Wi&&i(h,q),h=F.hasEagerState?F.eagerState:i(h,q)}else z={lane:q,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(w=_=z,g=h):_=_.next=z,Se.lanes|=q,Qr|=q;F=F.next}while(F!==null&&F!==n);if(_===null?g=h:_.next=w,!nn(h,e.memoizedState)&&(Tt=!0,B&&(i=La,i!==null)))throw i;e.memoizedState=h,e.baseState=g,e.baseQueue=_,o.lastRenderedState=h}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ih(e){var n=ft(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,h=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);nn(h,n.memoizedState)||(Tt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,o]}function cp(e,n,i){var o=Se,c=ft(),h=Oe;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=n();var g=!nn((qe||c).memoizedState,i);g&&(c.memoizedState=i,Tt=!0),c=c.queue;var w=dp.bind(null,o,c,e);if(io(2048,8,w,[e]),c.getSnapshot!==n||g||ht!==null&&ht.memoizedState.tag&1){if(o.flags|=2048,Ua(9,jl(),fp.bind(null,o,c,i,n),null),Xe===null)throw Error(a(349));h||($r&124)!==0||hp(o,n,i)}return i}function hp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Se.updateQueue,n===null?(n=th(),Se.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function fp(e,n,i,o){n.value=i,n.getSnapshot=o,pp(n)&&mp(e)}function dp(e,n,i){return i(function(){pp(n)&&mp(e)})}function pp(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!nn(e,i)}catch{return!0}}function mp(e){var n=Na(e,2);n!==null&&un(n,e,2)}function ah(e){var n=Xt();if(typeof e=="function"){var i=e;if(e=i(),Wi){en(!0);try{i()}finally{en(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:e},n}function gp(e,n,i,o){return e.baseState=i,rh(e,qe,typeof o=="function"?o:yr)}function bb(e,n,i,o,c){if(Bl(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};$.T!==null?i(!0):h.isTransition=!1,o(h),i=n.pending,i===null?(h.next=n.pending=h,yp(n,h)):(h.next=i.next,n.pending=i.next=h)}}function yp(e,n){var i=n.action,o=n.payload,c=e.state;if(n.isTransition){var h=$.T,g={};$.T=g;try{var w=i(c,o),_=$.S;_!==null&&_(g,w),vp(e,n,w)}catch(F){sh(e,n,F)}finally{$.T=h}}else try{h=i(c,o),vp(e,n,h)}catch(F){sh(e,n,F)}}function vp(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){bp(e,n,o)},function(o){return sh(e,n,o)}):bp(e,n,i)}function bp(e,n,i){n.status="fulfilled",n.value=i,wp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,yp(e,i)))}function sh(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,wp(n),n=n.next;while(n!==o)}e.action=null}function wp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kp(e,n){return n}function Sp(e,n){if(Oe){var i=Xe.formState;if(i!==null){e:{var o=Se;if(Oe){if(it){t:{for(var c=it,h=qn;c.nodeType!==8;){if(!h){c=null;break t}if(c=Nn(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){it=Nn(c.nextSibling),o=c.data==="F!";break e}}Hi(o)}o=!1}o&&(n=i[0])}}return i=Xt(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:n},i.queue=o,i=jp.bind(null,Se,o),o.dispatch=i,o=ah(!1),h=hh.bind(null,Se,!1,o.queue),o=Xt(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,i=bb.bind(null,Se,c,h,i),c.dispatch=i,o.memoizedState=e,[n,i,!1]}function Ep(e){var n=ft();return _p(n,qe,e)}function _p(e,n,i){if(n=rh(e,n,kp)[0],e=Vl(yr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ro(n)}catch(g){throw g===Js?Ml:g}else o=n;n=ft();var c=n.queue,h=c.dispatch;return i!==n.memoizedState&&(Se.flags|=2048,Ua(9,jl(),wb.bind(null,c,i),null)),[o,h,e]}function wb(e,n){e.action=n}function Tp(e){var n=ft(),i=qe;if(i!==null)return _p(n,i,e);ft(),n=n.memoizedState,i=ft();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function Ua(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=Se.updateQueue,n===null&&(n=th(),Se.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function jl(){return{destroy:void 0,resource:void 0}}function Cp(){return ft().memoizedState}function $l(e,n,i,o){var c=Xt();o=o===void 0?null:o,Se.flags|=e,c.memoizedState=Ua(1|n,jl(),i,o)}function io(e,n,i,o){var c=ft();o=o===void 0?null:o;var h=c.memoizedState.inst;qe!==null&&o!==null&&Xc(o,qe.memoizedState.deps)?c.memoizedState=Ua(n,h,i,o):(Se.flags|=e,c.memoizedState=Ua(1|n,h,i,o))}function Ap(e,n){$l(8390656,8,e,n)}function Ip(e,n){io(2048,8,e,n)}function Dp(e,n){return io(4,2,e,n)}function Np(e,n){return io(4,4,e,n)}function xp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pp(e,n,i){i=i!=null?i.concat([e]):null,io(4,4,xp.bind(null,n,e),i)}function oh(){}function Rp(e,n){var i=ft();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Xc(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Mp(e,n){var i=ft();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Xc(n,o[1]))return o[0];if(o=e(),Wi){en(!0);try{e()}finally{en(!1)}}return i.memoizedState=[o,n],o}function lh(e,n,i){return i===void 0||($r&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=Fm(),Se.lanes|=e,Qr|=e,i)}function Lp(e,n,i,o){return nn(i,n)?i:Oa.current!==null?(e=lh(e,i,o),nn(e,n)||(Tt=!0),e):($r&42)===0?(Tt=!0,e.memoizedState=i):(e=Fm(),Se.lanes|=e,Qr|=e,n)}function Op(e,n,i,o,c){var h=Z.p;Z.p=h!==0&&8>h?h:8;var g=$.T,w={};$.T=w,hh(e,!1,n,i);try{var _=c(),F=$.S;if(F!==null&&F(w,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var B=gb(_,o);ao(e,n,B,ln(e))}else ao(e,n,o,ln(e))}catch(q){ao(e,n,{then:function(){},status:"rejected",reason:q},ln())}finally{Z.p=h,$.T=g}}function kb(){}function uh(e,n,i,o){if(e.tag!==5)throw Error(a(476));var c=Fp(e).queue;Op(e,c,n,oe,i===null?kb:function(){return zp(e),i(o)})}function Fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:oe},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zp(e){var n=Fp(e).next.queue;ao(e,n,{},ln())}function ch(){return Vt(_o)}function Up(){return ft().memoizedState}function Vp(){return ft().memoizedState}function Sb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=ln();e=Vr(i);var o=jr(n,e,i);o!==null&&(un(o,n,i),Zs(o,n,i)),n={cache:Vc()},e.payload=n;return}n=n.return}}function Eb(e,n,i){var o=ln();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Bl(e)?$p(n,i):(i=Nc(e,n,i,o),i!==null&&(un(i,e,o),Bp(i,n,o)))}function jp(e,n,i){var o=ln();ao(e,n,i,o)}function ao(e,n,i,o){var c={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Bl(e))$p(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,w=h(g,i);if(c.hasEagerState=!0,c.eagerState=w,nn(w,g))return Cl(e,n,c,0),Xe===null&&Tl(),!1}catch{}finally{}if(i=Nc(e,n,c,o),i!==null)return un(i,e,o),Bp(i,n,o),!0}return!1}function hh(e,n,i,o){if(o={lane:2,revertLane:Bh(),action:o,hasEagerState:!1,eagerState:null,next:null},Bl(e)){if(n)throw Error(a(479))}else n=Nc(e,i,o,2),n!==null&&un(n,e,2)}function Bl(e){var n=e.alternate;return e===Se||n!==null&&n===Se}function $p(e,n){Fa=Fl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Bp(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,As(e,i)}}var Hl={readContext:Vt,use:Ul,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot},Hp={readContext:Vt,use:Ul,useCallback:function(e,n){return Xt().memoizedState=[e,n===void 0?null:n],e},useContext:Vt,useEffect:Ap,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,$l(4194308,4,xp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return $l(4194308,4,e,n)},useInsertionEffect:function(e,n){$l(4,2,e,n)},useMemo:function(e,n){var i=Xt();n=n===void 0?null:n;var o=e();if(Wi){en(!0);try{e()}finally{en(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=Xt();if(i!==void 0){var c=i(n);if(Wi){en(!0);try{i(n)}finally{en(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=Eb.bind(null,Se,e),[o.memoizedState,e]},useRef:function(e){var n=Xt();return e={current:e},n.memoizedState=e},useState:function(e){e=ah(e);var n=e.queue,i=jp.bind(null,Se,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:oh,useDeferredValue:function(e,n){var i=Xt();return lh(i,e,n)},useTransition:function(){var e=ah(!1);return e=Op.bind(null,Se,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=Se,c=Xt();if(Oe){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),Xe===null)throw Error(a(349));(De&124)!==0||hp(o,n,i)}c.memoizedState=i;var h={value:i,getSnapshot:n};return c.queue=h,Ap(dp.bind(null,o,h,e),[e]),o.flags|=2048,Ua(9,jl(),fp.bind(null,o,h,i,n),null),i},useId:function(){var e=Xt(),n=Xe.identifierPrefix;if(Oe){var i=pr,o=dr;i=(o&~(1<<32-Ut(o)-1)).toString(32)+i,n=""+n+"R"+i,i=zl++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=yb++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:ch,useFormState:Sp,useActionState:Sp,useOptimistic:function(e){var n=Xt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=hh.bind(null,Se,!0,i),i.dispatch=n,[e,n]},useMemoCache:nh,useCacheRefresh:function(){return Xt().memoizedState=Sb.bind(null,Se)}},qp={readContext:Vt,use:Ul,useCallback:Rp,useContext:Vt,useEffect:Ip,useImperativeHandle:Pp,useInsertionEffect:Dp,useLayoutEffect:Np,useMemo:Mp,useReducer:Vl,useRef:Cp,useState:function(){return Vl(yr)},useDebugValue:oh,useDeferredValue:function(e,n){var i=ft();return Lp(i,qe.memoizedState,e,n)},useTransition:function(){var e=Vl(yr)[0],n=ft().memoizedState;return[typeof e=="boolean"?e:ro(e),n]},useSyncExternalStore:cp,useId:Up,useHostTransitionStatus:ch,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var i=ft();return gp(i,qe,e,n)},useMemoCache:nh,useCacheRefresh:Vp},_b={readContext:Vt,use:Ul,useCallback:Rp,useContext:Vt,useEffect:Ip,useImperativeHandle:Pp,useInsertionEffect:Dp,useLayoutEffect:Np,useMemo:Mp,useReducer:ih,useRef:Cp,useState:function(){return ih(yr)},useDebugValue:oh,useDeferredValue:function(e,n){var i=ft();return qe===null?lh(i,e,n):Lp(i,qe.memoizedState,e,n)},useTransition:function(){var e=ih(yr)[0],n=ft().memoizedState;return[typeof e=="boolean"?e:ro(e),n]},useSyncExternalStore:cp,useId:Up,useHostTransitionStatus:ch,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var i=ft();return qe!==null?gp(i,qe,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:nh,useCacheRefresh:Vp},Va=null,so=0;function ql(e){var n=so;return so+=1,Va===null&&(Va=[]),np(Va,e,n)}function oo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gl(e,n){throw n.$$typeof===A?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gp(e){var n=e._init;return n(e._payload)}function Kp(e){function n(R,D){if(e){var O=R.deletions;O===null?(R.deletions=[D],R.flags|=16):O.push(D)}}function i(R,D){if(!e)return null;for(;D!==null;)n(R,D),D=D.sibling;return null}function o(R){for(var D=new Map;R!==null;)R.key!==null?D.set(R.key,R):D.set(R.index,R),R=R.sibling;return D}function c(R,D){return R=fr(R,D),R.index=0,R.sibling=null,R}function h(R,D,O){return R.index=O,e?(O=R.alternate,O!==null?(O=O.index,O<D?(R.flags|=67108866,D):O):(R.flags|=67108866,D)):(R.flags|=1048576,D)}function g(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function w(R,D,O,H){return D===null||D.tag!==6?(D=Pc(O,R.mode,H),D.return=R,D):(D=c(D,O),D.return=R,D)}function _(R,D,O,H){var ie=O.type;return ie===J?B(R,D,O.props.children,H,O.key):D!==null&&(D.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===E&&Gp(ie)===D.type)?(D=c(D,O.props),oo(D,O),D.return=R,D):(D=Il(O.type,O.key,O.props,null,R.mode,H),oo(D,O),D.return=R,D)}function F(R,D,O,H){return D===null||D.tag!==4||D.stateNode.containerInfo!==O.containerInfo||D.stateNode.implementation!==O.implementation?(D=Rc(O,R.mode,H),D.return=R,D):(D=c(D,O.children||[]),D.return=R,D)}function B(R,D,O,H,ie){return D===null||D.tag!==7?(D=Vi(O,R.mode,H,ie),D.return=R,D):(D=c(D,O),D.return=R,D)}function q(R,D,O){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Pc(""+D,R.mode,O),D.return=R,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case j:return O=Il(D.type,D.key,D.props,null,R.mode,O),oo(O,D),O.return=R,O;case Q:return D=Rc(D,R.mode,O),D.return=R,D;case E:var H=D._init;return D=H(D._payload),q(R,D,O)}if(nt(D)||M(D))return D=Vi(D,R.mode,O,null),D.return=R,D;if(typeof D.then=="function")return q(R,ql(D),O);if(D.$$typeof===ke)return q(R,Pl(R,D),O);Gl(R,D)}return null}function z(R,D,O,H){var ie=D!==null?D.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ie!==null?null:w(R,D,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return O.key===ie?_(R,D,O,H):null;case Q:return O.key===ie?F(R,D,O,H):null;case E:return ie=O._init,O=ie(O._payload),z(R,D,O,H)}if(nt(O)||M(O))return ie!==null?null:B(R,D,O,H,null);if(typeof O.then=="function")return z(R,D,ql(O),H);if(O.$$typeof===ke)return z(R,D,Pl(R,O),H);Gl(R,O)}return null}function U(R,D,O,H,ie){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return R=R.get(O)||null,w(D,R,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return R=R.get(H.key===null?O:H.key)||null,_(D,R,H,ie);case Q:return R=R.get(H.key===null?O:H.key)||null,F(D,R,H,ie);case E:var Te=H._init;return H=Te(H._payload),U(R,D,O,H,ie)}if(nt(H)||M(H))return R=R.get(O)||null,B(D,R,H,ie,null);if(typeof H.then=="function")return U(R,D,O,ql(H),ie);if(H.$$typeof===ke)return U(R,D,O,Pl(D,H),ie);Gl(D,H)}return null}function de(R,D,O,H){for(var ie=null,Te=null,se=D,he=D=0,At=null;se!==null&&he<O.length;he++){se.index>he?(At=se,se=null):At=se.sibling;var Re=z(R,se,O[he],H);if(Re===null){se===null&&(se=At);break}e&&se&&Re.alternate===null&&n(R,se),D=h(Re,D,he),Te===null?ie=Re:Te.sibling=Re,Te=Re,se=At}if(he===O.length)return i(R,se),Oe&&$i(R,he),ie;if(se===null){for(;he<O.length;he++)se=q(R,O[he],H),se!==null&&(D=h(se,D,he),Te===null?ie=se:Te.sibling=se,Te=se);return Oe&&$i(R,he),ie}for(se=o(se);he<O.length;he++)At=U(se,R,he,O[he],H),At!==null&&(e&&At.alternate!==null&&se.delete(At.key===null?he:At.key),D=h(At,D,he),Te===null?ie=At:Te.sibling=At,Te=At);return e&&se.forEach(function(ii){return n(R,ii)}),Oe&&$i(R,he),ie}function ce(R,D,O,H){if(O==null)throw Error(a(151));for(var ie=null,Te=null,se=D,he=D=0,At=null,Re=O.next();se!==null&&!Re.done;he++,Re=O.next()){se.index>he?(At=se,se=null):At=se.sibling;var ii=z(R,se,Re.value,H);if(ii===null){se===null&&(se=At);break}e&&se&&ii.alternate===null&&n(R,se),D=h(ii,D,he),Te===null?ie=ii:Te.sibling=ii,Te=ii,se=At}if(Re.done)return i(R,se),Oe&&$i(R,he),ie;if(se===null){for(;!Re.done;he++,Re=O.next())Re=q(R,Re.value,H),Re!==null&&(D=h(Re,D,he),Te===null?ie=Re:Te.sibling=Re,Te=Re);return Oe&&$i(R,he),ie}for(se=o(se);!Re.done;he++,Re=O.next())Re=U(se,R,he,Re.value,H),Re!==null&&(e&&Re.alternate!==null&&se.delete(Re.key===null?he:Re.key),D=h(Re,D,he),Te===null?ie=Re:Te.sibling=Re,Te=Re);return e&&se.forEach(function(T1){return n(R,T1)}),Oe&&$i(R,he),ie}function Ke(R,D,O,H){if(typeof O=="object"&&O!==null&&O.type===J&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case j:e:{for(var ie=O.key;D!==null;){if(D.key===ie){if(ie=O.type,ie===J){if(D.tag===7){i(R,D.sibling),H=c(D,O.props.children),H.return=R,R=H;break e}}else if(D.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===E&&Gp(ie)===D.type){i(R,D.sibling),H=c(D,O.props),oo(H,O),H.return=R,R=H;break e}i(R,D);break}else n(R,D);D=D.sibling}O.type===J?(H=Vi(O.props.children,R.mode,H,O.key),H.return=R,R=H):(H=Il(O.type,O.key,O.props,null,R.mode,H),oo(H,O),H.return=R,R=H)}return g(R);case Q:e:{for(ie=O.key;D!==null;){if(D.key===ie)if(D.tag===4&&D.stateNode.containerInfo===O.containerInfo&&D.stateNode.implementation===O.implementation){i(R,D.sibling),H=c(D,O.children||[]),H.return=R,R=H;break e}else{i(R,D);break}else n(R,D);D=D.sibling}H=Rc(O,R.mode,H),H.return=R,R=H}return g(R);case E:return ie=O._init,O=ie(O._payload),Ke(R,D,O,H)}if(nt(O))return de(R,D,O,H);if(M(O)){if(ie=M(O),typeof ie!="function")throw Error(a(150));return O=ie.call(O),ce(R,D,O,H)}if(typeof O.then=="function")return Ke(R,D,ql(O),H);if(O.$$typeof===ke)return Ke(R,D,Pl(R,O),H);Gl(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,D!==null&&D.tag===6?(i(R,D.sibling),H=c(D,O),H.return=R,R=H):(i(R,D),H=Pc(O,R.mode,H),H.return=R,R=H),g(R)):i(R,D)}return function(R,D,O,H){try{so=0;var ie=Ke(R,D,O,H);return Va=null,ie}catch(se){if(se===Js||se===Ml)throw se;var Te=rn(29,se,null,R.mode);return Te.lanes=H,Te.return=R,Te}finally{}}}var ja=Kp(!0),Wp=Kp(!1),kn=W(null),vr=null;function Br(e){var n=e.alternate;X(bt,bt.current&1),X(kn,e),vr===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(vr=e)}function Qp(e){if(e.tag===22){if(X(bt,bt.current),X(kn,e),vr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(vr=e)}}else Hr()}function Hr(){X(bt,bt.current),X(kn,kn.current)}function br(e){te(kn),vr===e&&(vr=null),te(bt)}var bt=W(0);function Kl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||tf(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fh(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:S({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var dh={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=ln(),c=Vr(o);c.payload=n,i!=null&&(c.callback=i),n=jr(e,c,o),n!==null&&(un(n,e,o),Zs(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=ln(),c=Vr(o);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=jr(e,c,o),n!==null&&(un(n,e,o),Zs(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=ln(),o=Vr(i);o.tag=2,n!=null&&(o.callback=n),n=jr(e,o,i),n!==null&&(un(n,e,i),Zs(n,e,i))}};function Xp(e,n,i,o,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,g):n.prototype&&n.prototype.isPureReactComponent?!Bs(i,o)||!Bs(c,h):!0}function Jp(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&dh.enqueueReplaceState(n,n.state,null)}function Qi(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=S({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var Wl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yp(e){Wl(e)}function Zp(e){console.error(e)}function em(e){Wl(e)}function Ql(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function tm(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ph(e,n,i){return i=Vr(i),i.tag=3,i.payload={element:null},i.callback=function(){Ql(e,n)},i}function nm(e){return e=Vr(e),e.tag=3,e}function rm(e,n,i,o){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=o.value;e.payload=function(){return c(h)},e.callback=function(){tm(n,i,o)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){tm(n,i,o),typeof c!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function Tb(e,n,i,o,c){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Ws(n,i,c,!0),i=kn.current,i!==null){switch(i.tag){case 13:return vr===null?zh():i.alternate===null&&at===0&&(at=3),i.flags&=-257,i.flags|=65536,i.lanes=c,o===Bc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Vh(e,o,c)),!1;case 22:return i.flags|=65536,o===Bc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Vh(e,o,c)),!1}throw Error(a(435,i.tag))}return Vh(e,o,c),zh(),!1}if(Oe)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Oc&&(e=Error(a(422),{cause:o}),Ks(yn(e,i)))):(o!==Oc&&(n=Error(a(423),{cause:o}),Ks(yn(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=yn(o,i),c=ph(e.stateNode,o,c),Gc(e,c),at!==4&&(at=2)),!1;var h=Error(a(520),{cause:o});if(h=yn(h,i),mo===null?mo=[h]:mo.push(h),at!==4&&(at=2),n===null)return!0;o=yn(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=ph(i.stateNode,o,e),Gc(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Xr===null||!Xr.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=nm(c),rm(c,e,i,o),Gc(i,c),!1}i=i.return}while(i!==null);return!1}var im=Error(a(461)),Tt=!1;function Rt(e,n,i,o){n.child=e===null?Wp(n,null,i,o):ja(n,e.child,i,o)}function am(e,n,i,o,c){i=i.render;var h=n.ref;if("ref"in o){var g={};for(var w in o)w!=="ref"&&(g[w]=o[w])}else g=o;return Gi(n),o=Jc(e,n,i,g,h,c),w=Yc(),e!==null&&!Tt?(Zc(e,n,c),wr(e,n,c)):(Oe&&w&&Mc(n),n.flags|=1,Rt(e,n,o,c),n.child)}function sm(e,n,i,o,c){if(e===null){var h=i.type;return typeof h=="function"&&!xc(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,om(e,n,h,o,c)):(e=Il(i.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Sh(e,c)){var g=h.memoizedProps;if(i=i.compare,i=i!==null?i:Bs,i(g,o)&&e.ref===n.ref)return wr(e,n,c)}return n.flags|=1,e=fr(h,o),e.ref=n.ref,e.return=n,n.child=e}function om(e,n,i,o,c){if(e!==null){var h=e.memoizedProps;if(Bs(h,o)&&e.ref===n.ref)if(Tt=!1,n.pendingProps=o=h,Sh(e,c))(e.flags&131072)!==0&&(Tt=!0);else return n.lanes=e.lanes,wr(e,n,c)}return mh(e,n,i,o,c)}function lm(e,n,i){var o=n.pendingProps,c=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~o}else n.childLanes=0,n.child=null;return um(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rl(n,h!==null?h.cachePool:null),h!==null?op(n,h):Wc(),Qp(n);else return n.lanes=n.childLanes=536870912,um(e,n,h!==null?h.baseLanes|i:i,i)}else h!==null?(Rl(n,h.cachePool),op(n,h),Hr(),n.memoizedState=null):(e!==null&&Rl(n,null),Wc(),Hr());return Rt(e,n,c,i),n.child}function um(e,n,i,o){var c=$c();return c=c===null?null:{parent:vt._currentValue,pool:c},n.memoizedState={baseLanes:i,cachePool:c},e!==null&&Rl(n,null),Wc(),Qp(n),e!==null&&Ws(e,n,o,!0),null}function Xl(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function mh(e,n,i,o,c){return Gi(n),i=Jc(e,n,i,o,void 0,c),o=Yc(),e!==null&&!Tt?(Zc(e,n,c),wr(e,n,c)):(Oe&&o&&Mc(n),n.flags|=1,Rt(e,n,i,c),n.child)}function cm(e,n,i,o,c,h){return Gi(n),n.updateQueue=null,i=up(n,o,i,c),lp(e),o=Yc(),e!==null&&!Tt?(Zc(e,n,h),wr(e,n,h)):(Oe&&o&&Mc(n),n.flags|=1,Rt(e,n,i,h),n.child)}function hm(e,n,i,o,c){if(Gi(n),n.stateNode===null){var h=xa,g=i.contextType;typeof g=="object"&&g!==null&&(h=Vt(g)),h=new i(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=dh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},Hc(n),g=i.contextType,h.context=typeof g=="object"&&g!==null?Vt(g):xa,h.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(fh(n,i,g,o),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&dh.enqueueReplaceState(h,h.state,null),to(n,o,h,c),eo(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){h=n.stateNode;var w=n.memoizedProps,_=Qi(i,w);h.props=_;var F=h.context,B=i.contextType;g=xa,typeof B=="object"&&B!==null&&(g=Vt(B));var q=i.getDerivedStateFromProps;B=typeof q=="function"||typeof h.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,B||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w||F!==g)&&Jp(n,h,o,g),Ur=!1;var z=n.memoizedState;h.state=z,to(n,o,h,c),eo(),F=n.memoizedState,w||z!==F||Ur?(typeof q=="function"&&(fh(n,i,q,o),F=n.memoizedState),(_=Ur||Xp(n,i,_,o,z,F,g))?(B||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=F),h.props=o,h.state=F,h.context=g,o=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,qc(e,n),g=n.memoizedProps,B=Qi(i,g),h.props=B,q=n.pendingProps,z=h.context,F=i.contextType,_=xa,typeof F=="object"&&F!==null&&(_=Vt(F)),w=i.getDerivedStateFromProps,(F=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==q||z!==_)&&Jp(n,h,o,_),Ur=!1,z=n.memoizedState,h.state=z,to(n,o,h,c),eo();var U=n.memoizedState;g!==q||z!==U||Ur||e!==null&&e.dependencies!==null&&xl(e.dependencies)?(typeof w=="function"&&(fh(n,i,w,o),U=n.memoizedState),(B=Ur||Xp(n,i,B,o,z,U,_)||e!==null&&e.dependencies!==null&&xl(e.dependencies))?(F||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,U,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,U,_)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=U),h.props=o,h.state=U,h.context=_,o=B):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return h=o,Xl(e,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&o?(n.child=ja(n,e.child,null,c),n.child=ja(n,null,i,c)):Rt(e,n,i,c),n.memoizedState=h.state,e=n.child):e=wr(e,n,c),e}function fm(e,n,i,o){return Gs(),n.flags|=256,Rt(e,n,i,o),n.child}var gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(e){return{baseLanes:e,cachePool:Zd()}}function vh(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Sn),e}function dm(e,n,i){var o=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Oe){if(c?Br(n):Hr(),Oe){var w=it,_;if(_=w){e:{for(_=w,w=qn;_.nodeType!==8;){if(!w){w=null;break e}if(_=Nn(_.nextSibling),_===null){w=null;break e}}w=_}w!==null?(n.memoizedState={dehydrated:w,treeContext:ji!==null?{id:dr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},_=rn(18,null,null,0),_.stateNode=w,_.return=n,n.child=_,Qt=n,it=null,_=!0):_=!1}_||Hi(n)}if(w=n.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return tf(w)?n.lanes=32:n.lanes=536870912,null;br(n)}return w=o.children,o=o.fallback,c?(Hr(),c=n.mode,w=Jl({mode:"hidden",children:w},c),o=Vi(o,c,i,null),w.return=n,o.return=n,w.sibling=o,n.child=w,c=n.child,c.memoizedState=yh(i),c.childLanes=vh(e,g,i),n.memoizedState=gh,o):(Br(n),bh(n,w))}if(_=e.memoizedState,_!==null&&(w=_.dehydrated,w!==null)){if(h)n.flags&256?(Br(n),n.flags&=-257,n=wh(e,n,i)):n.memoizedState!==null?(Hr(),n.child=e.child,n.flags|=128,n=null):(Hr(),c=o.fallback,w=n.mode,o=Jl({mode:"visible",children:o.children},w),c=Vi(c,w,i,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,ja(n,e.child,null,i),o=n.child,o.memoizedState=yh(i),o.childLanes=vh(e,g,i),n.memoizedState=gh,n=c);else if(Br(n),tf(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var F=g.dgst;g=F,o=Error(a(419)),o.stack="",o.digest=g,Ks({value:o,source:null,stack:null}),n=wh(e,n,i)}else if(Tt||Ws(e,n,i,!1),g=(i&e.childLanes)!==0,Tt||g){if(g=Xe,g!==null&&(o=i&-i,o=(o&42)!==0?1:xr(o),o=(o&(g.suspendedLanes|i))!==0?0:o,o!==0&&o!==_.retryLane))throw _.retryLane=o,Na(e,o),un(g,e,o),im;w.data==="$?"||zh(),n=wh(e,n,i)}else w.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=_.treeContext,it=Nn(w.nextSibling),Qt=n,Oe=!0,Bi=null,qn=!1,e!==null&&(bn[wn++]=dr,bn[wn++]=pr,bn[wn++]=ji,dr=e.id,pr=e.overflow,ji=n),n=bh(n,o.children),n.flags|=4096);return n}return c?(Hr(),c=o.fallback,w=n.mode,_=e.child,F=_.sibling,o=fr(_,{mode:"hidden",children:o.children}),o.subtreeFlags=_.subtreeFlags&65011712,F!==null?c=fr(F,c):(c=Vi(c,w,i,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,w=e.child.memoizedState,w===null?w=yh(i):(_=w.cachePool,_!==null?(F=vt._currentValue,_=_.parent!==F?{parent:F,pool:F}:_):_=Zd(),w={baseLanes:w.baseLanes|i,cachePool:_}),c.memoizedState=w,c.childLanes=vh(e,g,i),n.memoizedState=gh,o):(Br(n),i=e.child,e=i.sibling,i=fr(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=i,n.memoizedState=null,i)}function bh(e,n){return n=Jl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Jl(e,n){return e=rn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wh(e,n,i){return ja(n,e.child,null,i),e=bh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function pm(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),zc(e.return,n,i)}function kh(e,n,i,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=i,h.tailMode=c)}function mm(e,n,i){var o=n.pendingProps,c=o.revealOrder,h=o.tail;if(Rt(e,n,o.children,i),o=bt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pm(e,i,n);else if(e.tag===19)pm(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(X(bt,o),c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&Kl(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),kh(n,!1,c,i,h);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Kl(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}kh(n,!0,i,null,h);break;case"together":kh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Qr|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Ws(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=fr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=fr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Sh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xl(e)))}function Cb(e,n,i){switch(n.tag){case 3:Qe(n,n.stateNode.containerInfo),zr(n,vt,e.memoizedState.cache),Gs();break;case 27:case 5:Nr(n);break;case 4:Qe(n,n.stateNode.containerInfo);break;case 10:zr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Br(n),n.flags|=128,null):(i&n.child.childLanes)!==0?dm(e,n,i):(Br(n),e=wr(e,n,i),e!==null?e.sibling:null);Br(n);break;case 19:var c=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Ws(e,n,i,!1),o=(i&n.childLanes)!==0),c){if(o)return mm(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(bt,bt.current),o)break;return null;case 22:case 23:return n.lanes=0,lm(e,n,i);case 24:zr(n,vt,e.memoizedState.cache)}return wr(e,n,i)}function gm(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Tt=!0;else{if(!Sh(e,i)&&(n.flags&128)===0)return Tt=!1,Cb(e,n,i);Tt=(e.flags&131072)!==0}else Tt=!1,Oe&&(n.flags&1048576)!==0&&Gd(n,Nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")xc(o)?(e=Qi(o,e),n.tag=1,n=hm(null,n,o,e,i)):(n.tag=0,n=mh(null,n,o,e,i));else{if(o!=null){if(c=o.$$typeof,c===Fe){n.tag=11,n=am(null,n,o,e,i);break e}else if(c===P){n.tag=14,n=sm(null,n,o,e,i);break e}}throw n=Dt(o)||o,Error(a(306,n,""))}}return n;case 0:return mh(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,c=Qi(o,n.pendingProps),hm(e,n,o,c,i);case 3:e:{if(Qe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var h=n.memoizedState;c=h.element,qc(e,n),to(n,o,null,i);var g=n.memoizedState;if(o=g.cache,zr(n,vt,o),o!==h.cache&&Uc(n,[vt],i,!0),eo(),o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=fm(e,n,o,i);break e}else if(o!==c){c=yn(Error(a(424)),n),Ks(c),n=fm(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=Nn(e.firstChild),Qt=n,Oe=!0,Bi=null,qn=!0,i=Wp(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Gs(),o===c){n=wr(e,n,i);break e}Rt(e,n,o,i)}n=n.child}return n;case 26:return Xl(e,n),e===null?(i=wg(n.type,null,n.pendingProps,null))?n.memoizedState=i:Oe||(i=n.type,e=n.pendingProps,o=hu(pe.current).createElement(i),o[mt]=n,o[ct]=e,Lt(o,i,e),st(o),n.stateNode=o):n.memoizedState=wg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Nr(n),e===null&&Oe&&(o=n.stateNode=yg(n.type,n.pendingProps,pe.current),Qt=n,qn=!0,c=it,Zr(n.type)?(nf=c,it=Nn(o.firstChild)):it=c),Rt(e,n,n.pendingProps.children,i),Xl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Oe&&((c=o=it)&&(o=e1(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,Qt=n,it=Nn(o.firstChild),qn=!1,c=!0):c=!1),c||Hi(n)),Nr(n),c=n.type,h=n.pendingProps,g=e!==null?e.memoizedProps:null,o=h.children,Yh(c,h)?o=null:g!==null&&Yh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Jc(e,n,vb,null,null,i),_o._currentValue=c),Xl(e,n),Rt(e,n,o,i),n.child;case 6:return e===null&&Oe&&((e=i=it)&&(i=t1(i,n.pendingProps,qn),i!==null?(n.stateNode=i,Qt=n,it=null,e=!0):e=!1),e||Hi(n)),null;case 13:return dm(e,n,i);case 4:return Qe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ja(n,null,o,i):Rt(e,n,o,i),n.child;case 11:return am(e,n,n.type,n.pendingProps,i);case 7:return Rt(e,n,n.pendingProps,i),n.child;case 8:return Rt(e,n,n.pendingProps.children,i),n.child;case 12:return Rt(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,zr(n,n.type,o.value),Rt(e,n,o.children,i),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Gi(n),c=Vt(c),o=o(c),n.flags|=1,Rt(e,n,o,i),n.child;case 14:return sm(e,n,n.type,n.pendingProps,i);case 15:return om(e,n,n.type,n.pendingProps,i);case 19:return mm(e,n,i);case 31:return o=n.pendingProps,i=n.mode,o={mode:o.mode,children:o.children},e===null?(i=Jl(o,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=fr(e.child,o),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return lm(e,n,i);case 24:return Gi(n),o=Vt(vt),e===null?(c=$c(),c===null&&(c=Xe,h=Vc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),n.memoizedState={parent:o,cache:c},Hc(n),zr(n,vt,c)):((e.lanes&i)!==0&&(qc(e,n),to(n,null,null,i),eo()),c=e.memoizedState,h=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),zr(n,vt,o)):(o=h.cache,zr(n,vt,o),o!==c.cache&&Uc(n,[vt],i,!0))),Rt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function kr(e){e.flags|=4}function ym(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tg(n)){if(n=kn.current,n!==null&&((De&4194048)===De?vr!==null:(De&62914560)!==De&&(De&536870912)===0||n!==vr))throw Ys=Bc,ep;e.flags|=8192}}function Yl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ts():536870912,e.lanes|=n,qa|=n)}function lo(e,n){if(!Oe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function et(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Ab(e,n,i){var o=n.pendingProps;switch(Lc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(n),null;case 1:return et(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),gr(vt),Rn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(qs(n)?kr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qd())),et(n),null;case 26:return i=n.memoizedState,e===null?(kr(n),i!==null?(et(n),ym(n,i)):(et(n),n.flags&=-16777217)):i?i!==e.memoizedState?(kr(n),et(n),ym(n,i)):(et(n),n.flags&=-16777217):(e.memoizedProps!==o&&kr(n),et(n),n.flags&=-16777217),null;case 27:Zn(n),i=pe.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&kr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return et(n),null}e=ue.current,qs(n)?Kd(n):(e=yg(c,o,i),n.stateNode=e,kr(n))}return et(n),null;case 5:if(Zn(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&kr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return et(n),null}if(e=ue.current,qs(n))Kd(n);else{switch(c=hu(pe.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(i,{is:o.is}):c.createElement(i)}}e[mt]=n,e[ct]=o;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(Lt(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&kr(n)}}return et(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&kr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=pe.current,qs(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,c=Qt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[mt]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||cg(e.nodeValue,i)),e||Hi(n)}else e=hu(e).createTextNode(o),e[mt]=n,n.stateNode=e}return et(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=qs(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[mt]=n}else Gs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;et(n),c=!1}else c=Qd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(br(n),n):(br(n),null)}if(br(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),Yl(n,n.updateQueue),et(n),null;case 4:return Rn(),e===null&&Kh(n.stateNode.containerInfo),et(n),null;case 10:return gr(n.type),et(n),null;case 19:if(te(bt),c=n.memoizedState,c===null)return et(n),null;if(o=(n.flags&128)!==0,h=c.rendering,h===null)if(o)lo(c,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Kl(e),h!==null){for(n.flags|=128,lo(c,!1),e=h.updateQueue,n.updateQueue=e,Yl(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)qd(i,e),i=i.sibling;return X(bt,bt.current&1|2),n.child}e=e.sibling}c.tail!==null&&hn()>tu&&(n.flags|=128,o=!0,lo(c,!1),n.lanes=4194304)}else{if(!o)if(e=Kl(h),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Yl(n,e),lo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Oe)return et(n),null}else 2*hn()-c.renderingStartTime>tu&&i!==536870912&&(n.flags|=128,o=!0,lo(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=hn(),n.sibling=null,e=bt.current,X(bt,o?e&1|2:e&1),n):(et(n),null);case 22:case 23:return br(n),Qc(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(et(n),n.subtreeFlags&6&&(n.flags|=8192)):et(n),i=n.updateQueue,i!==null&&Yl(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&te(Ki),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),gr(vt),et(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Ib(e,n){switch(Lc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return gr(vt),Rn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zn(n),null;case 13:if(br(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Gs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return te(bt),null;case 4:return Rn(),null;case 10:return gr(n.type),null;case 22:case 23:return br(n),Qc(),e!==null&&te(Ki),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return gr(vt),null;case 25:return null;default:return null}}function vm(e,n){switch(Lc(n),n.tag){case 3:gr(vt),Rn();break;case 26:case 27:case 5:Zn(n);break;case 4:Rn();break;case 13:br(n);break;case 19:te(bt);break;case 10:gr(n.type);break;case 22:case 23:br(n),Qc(),e!==null&&te(Ki);break;case 24:gr(vt)}}function uo(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){o=void 0;var h=i.create,g=i.inst;o=h(),g.destroy=o}i=i.next}while(i!==c)}}catch(w){We(n,n.return,w)}}function qr(e,n,i){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&e)===e){var g=o.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,c=n;var _=i,F=w;try{F()}catch(B){We(c,_,B)}}}o=o.next}while(o!==h)}}catch(B){We(n,n.return,B)}}function bm(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{sp(n,i)}catch(o){We(e,e.return,o)}}}function wm(e,n,i){i.props=Qi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){We(e,n,o)}}function co(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(c){We(e,n,c)}}function Gn(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(c){We(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){We(e,n,c)}else i.current=null}function km(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(c){We(e,e.return,c)}}function Eh(e,n,i){try{var o=e.stateNode;Qb(o,e.type,i,n),o[ct]=n}catch(c){We(e,e.return,c)}}function Sm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zr(e.type)||e.tag===4}function _h(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Th(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=cu));else if(o!==4&&(o===27&&Zr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Th(e,n,i),e=e.sibling;e!==null;)Th(e,n,i),e=e.sibling}function Zl(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Zr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Zl(e,n,i),e=e.sibling;e!==null;)Zl(e,n,i),e=e.sibling}function Em(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Lt(n,o,i),n[mt]=e,n[ct]=i}catch(h){We(e,e.return,h)}}var Sr=!1,lt=!1,Ch=!1,_m=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Db(e,n){if(e=e.containerInfo,Xh=yu,e=Ld(e),_c(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var g=0,w=-1,_=-1,F=0,B=0,q=e,z=null;t:for(;;){for(var U;q!==i||c!==0&&q.nodeType!==3||(w=g+c),q!==h||o!==0&&q.nodeType!==3||(_=g+o),q.nodeType===3&&(g+=q.nodeValue.length),(U=q.firstChild)!==null;)z=q,q=U;for(;;){if(q===e)break t;if(z===i&&++F===c&&(w=g),z===h&&++B===o&&(_=g),(U=q.nextSibling)!==null)break;q=z,z=q.parentNode}q=U}i=w===-1||_===-1?null:{start:w,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(Jh={focusedElem:e,selectionRange:i},yu=!1,Ct=n;Ct!==null;)if(n=Ct,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ct=e;else for(;Ct!==null;){switch(n=Ct,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,c=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var de=Qi(i.type,c,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(de,h),o.__reactInternalSnapshotBeforeUpdate=e}catch(ce){We(i,i.return,ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)ef(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ef(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ct=e;break}Ct=n.return}}function Tm(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Gr(e,i),o&4&&uo(5,i);break;case 1:if(Gr(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(g){We(i,i.return,g)}else{var c=Qi(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){We(i,i.return,g)}}o&64&&bm(i),o&512&&co(i,i.return);break;case 3:if(Gr(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{sp(e,n)}catch(g){We(i,i.return,g)}}break;case 27:n===null&&o&4&&Em(i);case 26:case 5:Gr(e,i),n===null&&o&4&&km(i),o&512&&co(i,i.return);break;case 12:Gr(e,i);break;case 13:Gr(e,i),o&4&&Im(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=zb.bind(null,i),n1(e,i))));break;case 22:if(o=i.memoizedState!==null||Sr,!o){n=n!==null&&n.memoizedState!==null||lt,c=Sr;var h=lt;Sr=o,(lt=n)&&!h?Kr(e,i,(i.subtreeFlags&8772)!==0):Gr(e,i),Sr=c,lt=h}break;case 30:break;default:Gr(e,i)}}function Cm(e){var n=e.alternate;n!==null&&(e.alternate=null,Cm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Mr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,Jt=!1;function Er(e,n,i){for(i=i.child;i!==null;)Am(e,n,i),i=i.sibling}function Am(e,n,i){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(rt,i)}catch{}switch(i.tag){case 26:lt||Gn(i,n),Er(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:lt||Gn(i,n);var o=Ze,c=Jt;Zr(i.type)&&(Ze=i.stateNode,Jt=!1),Er(e,n,i),wo(i.stateNode),Ze=o,Jt=c;break;case 5:lt||Gn(i,n);case 6:if(o=Ze,c=Jt,Ze=null,Er(e,n,i),Ze=o,Jt=c,Ze!==null)if(Jt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(i.stateNode)}catch(h){We(i,n,h)}else try{Ze.removeChild(i.stateNode)}catch(h){We(i,n,h)}break;case 18:Ze!==null&&(Jt?(e=Ze,mg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Io(e)):mg(Ze,i.stateNode));break;case 4:o=Ze,c=Jt,Ze=i.stateNode.containerInfo,Jt=!0,Er(e,n,i),Ze=o,Jt=c;break;case 0:case 11:case 14:case 15:lt||qr(2,i,n),lt||qr(4,i,n),Er(e,n,i);break;case 1:lt||(Gn(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&wm(i,n,o)),Er(e,n,i);break;case 21:Er(e,n,i);break;case 22:lt=(o=lt)||i.memoizedState!==null,Er(e,n,i),lt=o;break;default:Er(e,n,i)}}function Im(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Io(e)}catch(i){We(n,n.return,i)}}function Nb(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _m),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _m),n;default:throw Error(a(435,e.tag))}}function Ah(e,n){var i=Nb(e);n.forEach(function(o){var c=Ub.bind(null,e,o);i.has(o)||(i.add(o),o.then(c,c))})}function an(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o],h=e,g=n,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(Zr(w.type)){Ze=w.stateNode,Jt=!1;break e}break;case 5:Ze=w.stateNode,Jt=!1;break e;case 3:case 4:Ze=w.stateNode.containerInfo,Jt=!0;break e}w=w.return}if(Ze===null)throw Error(a(160));Am(h,g,c),Ze=null,Jt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dm(n,e),n=n.sibling}var Dn=null;function Dm(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),sn(e),o&4&&(qr(3,e,e.return),uo(3,e),qr(5,e,e.return));break;case 1:an(n,e),sn(e),o&512&&(lt||i===null||Gn(i,i.return)),o&64&&Sr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var c=Dn;if(an(n,e),sn(e),o&512&&(lt||i===null||Gn(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":h=c.getElementsByTagName("title")[0],(!h||h[_i]||h[mt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(o),c.head.insertBefore(h,c.querySelector("head > title"))),Lt(h,o,i),h[mt]=e,st(h),o=h;break e;case"link":var g=Eg("link","href",c).get(o+(i.href||""));if(g){for(var w=0;w<g.length;w++)if(h=g[w],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(w,1);break t}}h=c.createElement(o),Lt(h,o,i),c.head.appendChild(h);break;case"meta":if(g=Eg("meta","content",c).get(o+(i.content||""))){for(w=0;w<g.length;w++)if(h=g[w],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(w,1);break t}}h=c.createElement(o),Lt(h,o,i),c.head.appendChild(h);break;default:throw Error(a(468,o))}h[mt]=e,st(h),o=h}e.stateNode=o}else _g(c,e.type,e.stateNode);else e.stateNode=Sg(c,o,e.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?_g(c,e.type,e.stateNode):Sg(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Eh(e,e.memoizedProps,i.memoizedProps)}break;case 27:an(n,e),sn(e),o&512&&(lt||i===null||Gn(i,i.return)),i!==null&&o&4&&Eh(e,e.memoizedProps,i.memoizedProps);break;case 5:if(an(n,e),sn(e),o&512&&(lt||i===null||Gn(i,i.return)),e.flags&32){c=e.stateNode;try{dn(c,"")}catch(U){We(e,e.return,U)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Eh(e,c,i!==null?i.memoizedProps:c)),o&1024&&(Ch=!0);break;case 6:if(an(n,e),sn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(U){We(e,e.return,U)}}break;case 3:if(pu=null,c=Dn,Dn=fu(n.containerInfo),an(n,e),Dn=c,sn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Io(n.containerInfo)}catch(U){We(e,e.return,U)}Ch&&(Ch=!1,Nm(e));break;case 4:o=Dn,Dn=fu(e.stateNode.containerInfo),an(n,e),sn(e),Dn=o;break;case 12:an(n,e),sn(e);break;case 13:an(n,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Rh=hn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ah(e,o)));break;case 22:c=e.memoizedState!==null;var _=i!==null&&i.memoizedState!==null,F=Sr,B=lt;if(Sr=F||c,lt=B||_,an(n,e),lt=B,Sr=F,sn(e),o&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||_||Sr||lt||Xi(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){_=i=n;try{if(h=_.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=_.stateNode;var q=_.memoizedProps.style,z=q!=null&&q.hasOwnProperty("display")?q.display:null;w.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(U){We(_,_.return,U)}}}else if(n.tag===6){if(i===null){_=n;try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(U){We(_,_.return,U)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Ah(e,i))));break;case 19:an(n,e),sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ah(e,o)));break;case 30:break;case 21:break;default:an(n,e),sn(e)}}function sn(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(Sm(o)){i=o;break}o=o.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var c=i.stateNode,h=_h(e);Zl(e,h,c);break;case 5:var g=i.stateNode;i.flags&32&&(dn(g,""),i.flags&=-33);var w=_h(e);Zl(e,w,g);break;case 3:case 4:var _=i.stateNode.containerInfo,F=_h(e);Th(e,F,_);break;default:throw Error(a(161))}}catch(B){We(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Nm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Nm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tm(e,n.alternate,n),n=n.sibling}function Xi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qr(4,n,n.return),Xi(n);break;case 1:Gn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&wm(n,n.return,i),Xi(n);break;case 27:wo(n.stateNode);case 26:case 5:Gn(n,n.return),Xi(n);break;case 22:n.memoizedState===null&&Xi(n);break;case 30:Xi(n);break;default:Xi(n)}e=e.sibling}}function Kr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Kr(c,h,i),uo(4,h);break;case 1:if(Kr(c,h,i),o=h,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(F){We(o,o.return,F)}if(o=h,c=o.updateQueue,c!==null){var w=o.stateNode;try{var _=c.shared.hiddenCallbacks;if(_!==null)for(c.shared.hiddenCallbacks=null,c=0;c<_.length;c++)ap(_[c],w)}catch(F){We(o,o.return,F)}}i&&g&64&&bm(h),co(h,h.return);break;case 27:Em(h);case 26:case 5:Kr(c,h,i),i&&o===null&&g&4&&km(h),co(h,h.return);break;case 12:Kr(c,h,i);break;case 13:Kr(c,h,i),i&&g&4&&Im(c,h);break;case 22:h.memoizedState===null&&Kr(c,h,i),co(h,h.return);break;case 30:break;default:Kr(c,h,i)}n=n.sibling}}function Ih(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Qs(i))}function Dh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qs(e))}function Kn(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xm(e,n,i,o),n=n.sibling}function xm(e,n,i,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,i,o),c&2048&&uo(9,n);break;case 1:Kn(e,n,i,o);break;case 3:Kn(e,n,i,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qs(e)));break;case 12:if(c&2048){Kn(e,n,i,o),e=n.stateNode;try{var h=n.memoizedProps,g=h.id,w=h.onPostCommit;typeof w=="function"&&w(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){We(n,n.return,_)}}else Kn(e,n,i,o);break;case 13:Kn(e,n,i,o);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Kn(e,n,i,o):ho(e,n):h._visibility&2?Kn(e,n,i,o):(h._visibility|=2,$a(e,n,i,o,(n.subtreeFlags&10256)!==0)),c&2048&&Ih(g,n);break;case 24:Kn(e,n,i,o),c&2048&&Dh(n.alternate,n);break;default:Kn(e,n,i,o)}}function $a(e,n,i,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,g=n,w=i,_=o,F=g.flags;switch(g.tag){case 0:case 11:case 15:$a(h,g,w,_,c),uo(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?$a(h,g,w,_,c):ho(h,g):(B._visibility|=2,$a(h,g,w,_,c)),c&&F&2048&&Ih(g.alternate,g);break;case 24:$a(h,g,w,_,c),c&&F&2048&&Dh(g.alternate,g);break;default:$a(h,g,w,_,c)}n=n.sibling}}function ho(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,c=o.flags;switch(o.tag){case 22:ho(i,o),c&2048&&Ih(o.alternate,o);break;case 24:ho(i,o),c&2048&&Dh(o.alternate,o);break;default:ho(i,o)}n=n.sibling}}var fo=8192;function Ba(e){if(e.subtreeFlags&fo)for(e=e.child;e!==null;)Pm(e),e=e.sibling}function Pm(e){switch(e.tag){case 26:Ba(e),e.flags&fo&&e.memoizedState!==null&&m1(Dn,e.memoizedState,e.memoizedProps);break;case 5:Ba(e);break;case 3:case 4:var n=Dn;Dn=fu(e.stateNode.containerInfo),Ba(e),Dn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=fo,fo=16777216,Ba(e),fo=n):Ba(e));break;default:Ba(e)}}function Rm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function po(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Ct=o,Lm(o,e)}Rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mm(e),e=e.sibling}function Mm(e){switch(e.tag){case 0:case 11:case 15:po(e),e.flags&2048&&qr(9,e,e.return);break;case 3:po(e);break;case 12:po(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,eu(e)):po(e);break;default:po(e)}}function eu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Ct=o,Lm(o,e)}Rm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qr(8,n,n.return),eu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,eu(n));break;default:eu(n)}e=e.sibling}}function Lm(e,n){for(;Ct!==null;){var i=Ct;switch(i.tag){case 0:case 11:case 15:qr(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qs(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Ct=o;else e:for(i=e;Ct!==null;){o=Ct;var c=o.sibling,h=o.return;if(Cm(o),o===i){Ct=null;break e}if(c!==null){c.return=h,Ct=c;break e}Ct=h}}}var xb={getCacheForType:function(e){var n=Vt(vt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},Pb=typeof WeakMap=="function"?WeakMap:Map,$e=0,Xe=null,Ce=null,De=0,Be=0,on=null,Wr=!1,Ha=!1,Nh=!1,_r=0,at=0,Qr=0,Ji=0,xh=0,Sn=0,qa=0,mo=null,Yt=null,Ph=!1,Rh=0,tu=1/0,nu=null,Xr=null,Mt=0,Jr=null,Ga=null,Ka=0,Mh=0,Lh=null,Om=null,go=0,Oh=null;function ln(){if(($e&2)!==0&&De!==0)return De&-De;if($.T!==null){var e=Ma;return e!==0?e:Bh()}return Pr()}function Fm(){Sn===0&&(Sn=(De&536870912)===0||Oe?_s():536870912);var e=kn.current;return e!==null&&(e.flags|=32),Sn}function un(e,n,i){(e===Xe&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),Yr(e,De,Sn,!1)),tr(e,i),(($e&2)===0||e!==Xe)&&(e===Xe&&(($e&2)===0&&(Ji|=i),at===4&&Yr(e,De,Sn,!1)),Wn(e))}function zm(e,n,i){if(($e&6)!==0)throw Error(a(327));var o=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Ei(e,n),c=o?Lb(e,n):Uh(e,n,!0),h=o;do{if(c===0){Ha&&!o&&Yr(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!Rb(i)){c=Uh(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var w=e;c=mo;var _=w.current.memoizedState.isDehydrated;if(_&&(Wa(w,g).flags|=256),g=Uh(w,g,!1),g!==2){if(Nh&&!_){w.errorRecoveryDisabledLanes|=h,Ji|=h,c=4;break e}h=Yt,Yt=c,h!==null&&(Yt===null?Yt=h:Yt.push.apply(Yt,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Wa(e,0),Yr(e,n,0,!0);break}e:{switch(o=e,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Yr(o,n,Sn,!Wr);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Rh+300-hn(),10<c)){if(Yr(o,n,Sn,!Wr),ha(o,0,!0)!==0)break e;o.timeoutHandle=dg(Um.bind(null,o,i,Yt,nu,Ph,n,Sn,Ji,qa,Wr,h,2,-0,0),c);break e}Um(o,i,Yt,nu,Ph,n,Sn,Ji,qa,Wr,h,0,-0,0)}}break}while(!0);Wn(e)}function Um(e,n,i,o,c,h,g,w,_,F,B,q,z,U){if(e.timeoutHandle=-1,q=n.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(Eo={stylesheets:null,count:0,unsuspend:p1},Pm(n),q=g1(),q!==null)){e.cancelPendingCommit=q(Gm.bind(null,e,n,h,i,o,c,g,w,_,B,1,z,U)),Yr(e,h,g,!F);return}Gm(e,n,h,i,o,c,g,w,_)}function Rb(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var c=i[o],h=c.getSnapshot;c=c.value;try{if(!nn(h(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yr(e,n,i,o){n&=~xh,n&=~Ji,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var h=31-Ut(c),g=1<<h;o[h]=-1,c&=~g}i!==0&&Mn(e,i,n)}function ru(){return($e&6)===0?(yo(0),!1):!0}function Fh(){if(Ce!==null){if(Be===0)var e=Ce.return;else e=Ce,mr=qi=null,eh(e),Va=null,so=0,e=Ce;for(;e!==null;)vm(e.alternate,e),e=e.return;Ce=null}}function Wa(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Jb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Fh(),Xe=e,Ce=i=fr(e.current,null),De=n,Be=0,on=null,Wr=!1,Ha=Ei(e,n),Nh=!1,qa=Sn=xh=Ji=Qr=at=0,Yt=mo=null,Ph=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-Ut(o),h=1<<c;n|=e[c],o&=~h}return _r=n,Tl(),i}function Vm(e,n){Se=null,$.H=Hl,n===Js||n===Ml?(n=rp(),Be=3):n===ep?(n=rp(),Be=4):Be=n===im?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Ce===null&&(at=1,Ql(e,yn(n,e.current)))}function jm(){var e=$.H;return $.H=Hl,e===null?Hl:e}function $m(){var e=$.A;return $.A=xb,e}function zh(){at=4,Wr||(De&4194048)!==De&&kn.current!==null||(Ha=!0),(Qr&134217727)===0&&(Ji&134217727)===0||Xe===null||Yr(Xe,De,Sn,!1)}function Uh(e,n,i){var o=$e;$e|=2;var c=jm(),h=$m();(Xe!==e||De!==n)&&(nu=null,Wa(e,n)),n=!1;var g=at;e:do try{if(Be!==0&&Ce!==null){var w=Ce,_=on;switch(Be){case 8:Fh(),g=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var F=Be;if(Be=0,on=null,Qa(e,w,_,F),i&&Ha){g=0;break e}break;default:F=Be,Be=0,on=null,Qa(e,w,_,F)}}Mb(),g=at;break}catch(B){Vm(e,B)}while(!0);return n&&e.shellSuspendCounter++,mr=qi=null,$e=o,$.H=c,$.A=h,Ce===null&&(Xe=null,De=0,Tl()),g}function Mb(){for(;Ce!==null;)Bm(Ce)}function Lb(e,n){var i=$e;$e|=2;var o=jm(),c=$m();Xe!==e||De!==n?(nu=null,tu=hn()+500,Wa(e,n)):Ha=Ei(e,n);e:do try{if(Be!==0&&Ce!==null){n=Ce;var h=on;t:switch(Be){case 1:Be=0,on=null,Qa(e,n,h,1);break;case 2:case 9:if(tp(h)){Be=0,on=null,Hm(n);break}n=function(){Be!==2&&Be!==9||Xe!==e||(Be=7),Wn(e)},h.then(n,n);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:tp(h)?(Be=0,on=null,Hm(n)):(Be=0,on=null,Qa(e,n,h,7));break;case 5:var g=null;switch(Ce.tag){case 26:g=Ce.memoizedState;case 5:case 27:var w=Ce;if(!g||Tg(g)){Be=0,on=null;var _=w.sibling;if(_!==null)Ce=_;else{var F=w.return;F!==null?(Ce=F,iu(F)):Ce=null}break t}}Be=0,on=null,Qa(e,n,h,5);break;case 6:Be=0,on=null,Qa(e,n,h,6);break;case 8:Fh(),at=6;break e;default:throw Error(a(462))}}Ob();break}catch(B){Vm(e,B)}while(!0);return mr=qi=null,$.H=o,$.A=c,$e=i,Ce!==null?0:(Xe=null,De=0,Tl(),at)}function Ob(){for(;Ce!==null&&!ws();)Bm(Ce)}function Bm(e){var n=gm(e.alternate,e,_r);e.memoizedProps=e.pendingProps,n===null?iu(e):Ce=n}function Hm(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=cm(i,n,n.pendingProps,n.type,void 0,De);break;case 11:n=cm(i,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:eh(n);default:vm(i,n),n=Ce=qd(n,_r),n=gm(i,n,_r)}e.memoizedProps=e.pendingProps,n===null?iu(e):Ce=n}function Qa(e,n,i,o){mr=qi=null,eh(n),Va=null,so=0;var c=n.return;try{if(Tb(e,c,n,i,De)){at=1,Ql(e,yn(i,e.current)),Ce=null;return}}catch(h){if(c!==null)throw Ce=c,h;at=1,Ql(e,yn(i,e.current)),Ce=null;return}n.flags&32768?(Oe||o===1?e=!0:Ha||(De&536870912)!==0?e=!1:(Wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qm(n,e)):iu(n)}function iu(e){var n=e;do{if((n.flags&32768)!==0){qm(n,Wr);return}e=n.return;var i=Ab(n.alternate,n,_r);if(i!==null){Ce=i;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=e}while(n!==null);at===0&&(at=5)}function qm(e,n){do{var i=Ib(e.alternate,e);if(i!==null){i.flags&=32767,Ce=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=i}while(e!==null);at=6,Ce=null}function Gm(e,n,i,o,c,h,g,w,_){e.cancelPendingCommit=null;do au();while(Mt!==0);if(($e&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Dc,Cs(e,i,h,g,w,_),e===Xe&&(Ce=Xe=null,De=0),Ga=n,Jr=e,Ka=i,Mh=h,Lh=c,Om=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vb(bi,function(){return Jm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,c=Z.p,Z.p=2,g=$e,$e|=4;try{Db(e,n,i)}finally{$e=g,Z.p=c,$.T=o}}Mt=1,Km(),Wm(),Qm()}}function Km(){if(Mt===1){Mt=0;var e=Jr,n=Ga,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=$.T,$.T=null;var o=Z.p;Z.p=2;var c=$e;$e|=4;try{Dm(n,e);var h=Jh,g=Ld(e.containerInfo),w=h.focusedElem,_=h.selectionRange;if(g!==w&&w&&w.ownerDocument&&Md(w.ownerDocument.documentElement,w)){if(_!==null&&_c(w)){var F=_.start,B=_.end;if(B===void 0&&(B=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(B,w.value.length);else{var q=w.ownerDocument||document,z=q&&q.defaultView||window;if(z.getSelection){var U=z.getSelection(),de=w.textContent.length,ce=Math.min(_.start,de),Ke=_.end===void 0?ce:Math.min(_.end,de);!U.extend&&ce>Ke&&(g=Ke,Ke=ce,ce=g);var R=Rd(w,ce),D=Rd(w,Ke);if(R&&D&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==D.node||U.focusOffset!==D.offset)){var O=q.createRange();O.setStart(R.node,R.offset),U.removeAllRanges(),ce>Ke?(U.addRange(O),U.extend(D.node,D.offset)):(O.setEnd(D.node,D.offset),U.addRange(O))}}}}for(q=[],U=w;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<q.length;w++){var H=q[w];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}yu=!!Xh,Jh=Xh=null}finally{$e=c,Z.p=o,$.T=i}}e.current=n,Mt=2}}function Wm(){if(Mt===2){Mt=0;var e=Jr,n=Ga,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=$.T,$.T=null;var o=Z.p;Z.p=2;var c=$e;$e|=4;try{Tm(e,n.alternate,n)}finally{$e=c,Z.p=o,$.T=i}}Mt=3}}function Qm(){if(Mt===4||Mt===3){Mt=0,el();var e=Jr,n=Ga,i=Ka,o=Om;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Ga=Jr=null,Xm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Xr=null),fa(i),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(rt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,c=Z.p,Z.p=2,$.T=null;try{for(var h=e.onRecoverableError,g=0;g<o.length;g++){var w=o[g];h(w.value,{componentStack:w.stack})}}finally{$.T=n,Z.p=c}}(Ka&3)!==0&&au(),Wn(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===Oh?go++:(go=0,Oh=e):go=0,yo(0)}}function Xm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qs(n)))}function au(e){return Km(),Wm(),Qm(),Jm()}function Jm(){if(Mt!==5)return!1;var e=Jr,n=Mh;Mh=0;var i=fa(Ka),o=$.T,c=Z.p;try{Z.p=32>i?32:i,$.T=null,i=Lh,Lh=null;var h=Jr,g=Ka;if(Mt=0,Ga=Jr=null,Ka=0,($e&6)!==0)throw Error(a(331));var w=$e;if($e|=4,Mm(h.current),xm(h,h.current,g,i),$e=w,yo(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(rt,h)}catch{}return!0}finally{Z.p=c,$.T=o,Xm(e,n)}}function Ym(e,n,i){n=yn(i,n),n=ph(e.stateNode,n,2),e=jr(e,n,2),e!==null&&(tr(e,2),Wn(e))}function We(e,n,i){if(e.tag===3)Ym(e,e,i);else for(;n!==null;){if(n.tag===3){Ym(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xr===null||!Xr.has(o))){e=yn(i,e),i=nm(2),o=jr(n,i,2),o!==null&&(rm(i,o,n,e),tr(o,2),Wn(o));break}}n=n.return}}function Vh(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Pb;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(i)||(Nh=!0,c.add(i),e=Fb.bind(null,e,n,i),n.then(e,e))}function Fb(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Xe===e&&(De&i)===i&&(at===4||at===3&&(De&62914560)===De&&300>hn()-Rh?($e&2)===0&&Wa(e,0):xh|=i,qa===De&&(qa=0)),Wn(e)}function Zm(e,n){n===0&&(n=Ts()),e=Na(e,n),e!==null&&(tr(e,n),Wn(e))}function zb(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Zm(e,i)}function Ub(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Zm(e,i)}function Vb(e,n){return yi(e,n)}var su=null,Xa=null,jh=!1,ou=!1,$h=!1,Yi=0;function Wn(e){e!==Xa&&e.next===null&&(Xa===null?su=Xa=e:Xa=Xa.next=e),ou=!0,jh||(jh=!0,$b())}function yo(e,n){if(!$h&&ou){$h=!0;do for(var i=!1,o=su;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var h=0;else{var g=o.suspendedLanes,w=o.pingedLanes;h=(1<<31-Ut(42|e)+1)-1,h&=c&~(g&~w),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,rg(o,h))}else h=De,h=ha(o,o===Xe?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Ei(o,h)||(i=!0,rg(o,h));o=o.next}while(i);$h=!1}}function jb(){eg()}function eg(){ou=jh=!1;var e=0;Yi!==0&&(Xb()&&(e=Yi),Yi=0);for(var n=hn(),i=null,o=su;o!==null;){var c=o.next,h=tg(o,n);h===0?(o.next=null,i===null?su=c:i.next=c,c===null&&(Xa=i)):(i=o,(e!==0||(h&3)!==0)&&(ou=!0)),o=c}yo(e)}function tg(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-Ut(h),w=1<<g,_=c[g];_===-1?((w&i)===0||(w&o)!==0)&&(c[g]=Es(w,n)):_<=n&&(e.expiredLanes|=w),h&=~w}if(n=Xe,i=De,i=ha(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&vi(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ei(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&vi(o),fa(i)){case 2:case 8:i=ua;break;case 32:i=bi;break;case 268435456:i=ca;break;default:i=bi}return o=ng.bind(null,e),i=yi(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&vi(o),e.callbackPriority=2,e.callbackNode=null,2}function ng(e,n){if(Mt!==0&&Mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(au()&&e.callbackNode!==i)return null;var o=De;return o=ha(e,e===Xe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(zm(e,o,n),tg(e,hn()),e.callbackNode!=null&&e.callbackNode===i?ng.bind(null,e):null)}function rg(e,n){if(au())return null;zm(e,n,!0)}function $b(){Yb(function(){($e&6)!==0?yi(ks,jb):eg()})}function Bh(){return Yi===0&&(Yi=_s()),Yi}function ig(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function ag(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Bb(e,n,i,o,c){if(n==="submit"&&i&&i.stateNode===c){var h=ig((c[ct]||null).action),g=o.submitter;g&&(n=(n=g[ct]||null)?ig(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var w=new ba("action","action",null,o,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Yi!==0){var _=g?ag(c,g):new FormData(c);uh(i,{pending:!0,data:_,method:c.method,action:h},null,_)}}else typeof h=="function"&&(w.preventDefault(),_=g?ag(c,g):new FormData(c),uh(i,{pending:!0,data:_,method:c.method,action:h},h,_))},currentTarget:c}]})}}for(var Hh=0;Hh<Ic.length;Hh++){var qh=Ic[Hh],Hb=qh.toLowerCase(),qb=qh[0].toUpperCase()+qh.slice(1);In(Hb,"on"+qb)}In(zd,"onAnimationEnd"),In(Ud,"onAnimationIteration"),In(Vd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(lb,"onTransitionRun"),In(ub,"onTransitionStart"),In(cb,"onTransitionCancel"),In(jd,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function sg(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var g=o.length-1;0<=g;g--){var w=o[g],_=w.instance,F=w.currentTarget;if(w=w.listener,_!==h&&c.isPropagationStopped())break e;h=w,c.currentTarget=F;try{h(c)}catch(B){Wl(B)}c.currentTarget=null,h=_}else for(g=0;g<o.length;g++){if(w=o[g],_=w.instance,F=w.currentTarget,w=w.listener,_!==h&&c.isPropagationStopped())break e;h=w,c.currentTarget=F;try{h(c)}catch(B){Wl(B)}c.currentTarget=null,h=_}}}}function Ae(e,n){var i=n[Is];i===void 0&&(i=n[Is]=new Set);var o=e+"__bubble";i.has(o)||(og(n,e,2,!1),i.add(o))}function Gh(e,n,i){var o=0;n&&(o|=4),og(i,e,o,n)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Kh(e){if(!e[lu]){e[lu]=!0,Ds.forEach(function(i){i!=="selectionchange"&&(Gb.has(i)||Gh(i,!1,e),Gh(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lu]||(n[lu]=!0,Gh("selectionchange",!1,n))}}function og(e,n,i,o){switch(xg(n)){case 2:var c=b1;break;case 8:c=w1;break;default:c=lf}i=c.bind(null,n,i,e),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Wh(e,n,i,o,c){var h=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var w=o.stateNode.containerInfo;if(w===c)break;if(g===4)for(g=o.return;g!==null;){var _=g.tag;if((_===3||_===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;w!==null;){if(g=nr(w),g===null)return;if(_=g.tag,_===5||_===6||_===26||_===27){o=h=g;continue e}w=w.parentNode}}o=o.return}cl(function(){var F=h,B=pn(i),q=[];e:{var z=$d.get(e);if(z!==void 0){var U=ba,de=e;switch(e){case"keypress":if(Vn(i)===0)break e;case"keydown":case"keyup":U=Ta;break;case"focusin":de="focus",U=Sa;break;case"focusout":de="blur",U=Sa;break;case"beforeblur":case"afterblur":U=Sa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=vl;break;case zd:case Ud:case Vd:U=Ea;break;case jd:U=wl;break;case"scroll":case"scrollend":U=hl;break;case"wheel":U=Ca;break;case"copy":case"cut":case"paste":U=_a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=js;break;case"toggle":case"beforetoggle":U=Sl}var ce=(n&4)!==0,Ke=!ce&&(e==="scroll"||e==="scrollend"),R=ce?z!==null?z+"Capture":null:z;ce=[];for(var D=F,O;D!==null;){var H=D;if(O=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||O===null||R===null||(H=xi(D,R),H!=null&&ce.push(bo(D,H,O))),Ke)break;D=D.return}0<ce.length&&(z=new U(z,de,null,i,B),q.push({event:z,listeners:ce}))}}if((n&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",z&&i!==sr&&(de=i.relatedTarget||i.fromElement)&&(nr(de)||de[fn]))break e;if((U||z)&&(z=B.window===B?B:(z=B.ownerDocument)?z.defaultView||z.parentWindow:window,U?(de=i.relatedTarget||i.toElement,U=F,de=de?nr(de):null,de!==null&&(Ke=f(de),ce=de.tag,de!==Ke||ce!==5&&ce!==27&&ce!==6)&&(de=null)):(U=null,de=F),U!==de)){if(ce=gn,H="onMouseLeave",R="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ce=js,H="onPointerLeave",R="onPointerEnter",D="pointer"),Ke=U==null?z:On(U),O=de==null?z:On(de),z=new ce(H,D+"leave",U,i,B),z.target=Ke,z.relatedTarget=O,H=null,nr(B)===F&&(ce=new ce(R,D+"enter",de,i,B),ce.target=O,ce.relatedTarget=Ke,H=ce),Ke=H,U&&de)t:{for(ce=U,R=de,D=0,O=ce;O;O=Ja(O))D++;for(O=0,H=R;H;H=Ja(H))O++;for(;0<D-O;)ce=Ja(ce),D--;for(;0<O-D;)R=Ja(R),O--;for(;D--;){if(ce===R||R!==null&&ce===R.alternate)break t;ce=Ja(ce),R=Ja(R)}ce=null}else ce=null;U!==null&&lg(q,z,U,ce,!1),de!==null&&Ke!==null&&lg(q,Ke,de,ce,!0)}}e:{if(z=F?On(F):window,U=z.nodeName&&z.nodeName.toLowerCase(),U==="select"||U==="input"&&z.type==="file")var ie=Ad;else if(xt(z))if(Id)ie=ab;else{ie=rb;var Te=nb}else U=z.nodeName,!U||U.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?F&&Ms(F.elementType)&&(ie=Ad):ie=ib;if(ie&&(ie=ie(e,F))){hr(q,ie,i,B);break e}Te&&Te(e,z,F),e==="focusout"&&F&&z.type==="number"&&F.memoizedProps.value!=null&&Or(z,"number",z.value)}switch(Te=F?On(F):window,e){case"focusin":(xt(Te)||Te.contentEditable==="true")&&(Aa=Te,Tc=F,Hs=null);break;case"focusout":Hs=Tc=Aa=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,Od(q,i,B);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Od(q,i,B)}var se;if(Bn)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Pe?V(e,i)&&(he="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(he="onCompositionStart");he&&(m&&i.locale!=="ko"&&(Pe||he!=="onCompositionStart"?he==="onCompositionEnd"&&Pe&&(se=Os()):(Un=B,Fr="value"in Un?Un.value:Un.textContent,Pe=!0)),Te=uu(F,he),0<Te.length&&(he=new Us(he,e,null,i,B),q.push({event:he,listeners:Te}),se?he.data=se:(se=Y(i),se!==null&&(he.data=se)))),(se=p?yt(e,i):Le(e,i))&&(he=uu(F,"onBeforeInput"),0<he.length&&(Te=new Us("onBeforeInput","beforeinput",null,i,B),q.push({event:Te,listeners:he}),Te.data=se)),Bb(q,e,F,i,B)}sg(q,n)})}function bo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function uu(e,n){for(var i=n+"Capture",o=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=xi(e,i),c!=null&&o.unshift(bo(e,c,h)),c=xi(e,n),c!=null&&o.push(bo(e,c,h))),e.tag===3)return o;e=e.return}return[]}function Ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lg(e,n,i,o,c){for(var h=n._reactName,g=[];i!==null&&i!==o;){var w=i,_=w.alternate,F=w.stateNode;if(w=w.tag,_!==null&&_===o)break;w!==5&&w!==26&&w!==27||F===null||(_=F,c?(F=xi(i,h),F!=null&&g.unshift(bo(i,F,_))):c||(F=xi(i,h),F!=null&&g.push(bo(i,F,_)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var Kb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function ug(e){return(typeof e=="string"?e:""+e).replace(Kb,`
`).replace(Wb,"")}function cg(e,n){return n=ug(n),ug(e)===n}function cu(){}function Ge(e,n,i,o,c,h){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,i,o);break;case"style":Rs(e,o,h);break;case"data":if(n!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=va(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&Ge(e,n,"name",c.name,c,null),Ge(e,n,"formEncType",c.formEncType,c,null),Ge(e,n,"formMethod",c.formMethod,c,null),Ge(e,n,"formTarget",c.formTarget,c,null)):(Ge(e,n,"encType",c.encType,c,null),Ge(e,n,"method",c.method,c,null),Ge(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=va(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=cu);break;case"onScroll":o!=null&&Ae("scroll",e);break;case"onScrollEnd":o!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=va(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),Lr(e,"popover",o);break;case"xlinkActuate":Nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Lr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=vc.get(i)||i,Lr(e,i,o))}}function Qh(e,n,i,o,c,h){switch(i){case"style":Rs(e,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Ae("scroll",e);break;case"onScrollEnd":o!=null&&Ae("scrollend",e);break;case"onClick":o!=null&&(e.onclick=cu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),h=e[ct]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof o=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,c);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Lr(e,i,o)}}}function Lt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var o=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var g=i[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,h,g,i,null)}}c&&Ge(e,n,"srcSet",i.srcSet,i,null),o&&Ge(e,n,"src",i.src,i,null);return;case"input":Ae("invalid",e);var w=h=g=c=null,_=null,F=null;for(o in i)if(i.hasOwnProperty(o)){var B=i[o];if(B!=null)switch(o){case"name":c=B;break;case"type":g=B;break;case"checked":_=B;break;case"defaultChecked":F=B;break;case"value":h=B;break;case"defaultValue":w=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ge(e,n,o,B,i,null)}}Ii(e,h,w,_,F,g,c,!1),ya(e);return;case"select":Ae("invalid",e),o=g=h=null;for(c in i)if(i.hasOwnProperty(c)&&(w=i[c],w!=null))switch(c){case"value":h=w;break;case"defaultValue":g=w;break;case"multiple":o=w;default:Ge(e,n,c,w,i,null)}n=h,i=g,e.multiple=!!o,n!=null?ar(e,!!o,n,!1):i!=null&&ar(e,!!o,i,!0);return;case"textarea":Ae("invalid",e),h=c=o=null;for(g in i)if(i.hasOwnProperty(g)&&(w=i[g],w!=null))switch(g){case"value":o=w;break;case"defaultValue":c=w;break;case"children":h=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Ge(e,n,g,w,i,null)}Di(e,o,c,h),ya(e);return;case"option":for(_ in i)if(i.hasOwnProperty(_)&&(o=i[_],o!=null))switch(_){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ge(e,n,_,o,i,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(o=0;o<vo.length;o++)Ae(vo[o],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in i)if(i.hasOwnProperty(F)&&(o=i[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,F,o,i,null)}return;default:if(Ms(n)){for(B in i)i.hasOwnProperty(B)&&(o=i[B],o!==void 0&&Qh(e,n,B,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&Ge(e,n,w,o,i,null))}function Qb(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,w=null,_=null,F=null,B=null;for(U in i){var q=i[U];if(i.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":_=q;default:o.hasOwnProperty(U)||Ge(e,n,U,null,o,q)}}for(var z in o){var U=o[z];if(q=i[z],o.hasOwnProperty(z)&&(U!=null||q!=null))switch(z){case"type":h=U;break;case"name":c=U;break;case"checked":F=U;break;case"defaultChecked":B=U;break;case"value":g=U;break;case"defaultValue":w=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:U!==q&&Ge(e,n,z,U,o,q)}}tn(e,g,w,_,F,B,h,c);return;case"select":U=g=w=z=null;for(h in i)if(_=i[h],i.hasOwnProperty(h)&&_!=null)switch(h){case"value":break;case"multiple":U=_;default:o.hasOwnProperty(h)||Ge(e,n,h,null,o,_)}for(c in o)if(h=o[c],_=i[c],o.hasOwnProperty(c)&&(h!=null||_!=null))switch(c){case"value":z=h;break;case"defaultValue":w=h;break;case"multiple":g=h;default:h!==_&&Ge(e,n,c,h,o,_)}n=w,i=g,o=U,z!=null?ar(e,!!i,z,!1):!!o!=!!i&&(n!=null?ar(e,!!i,n,!0):ar(e,!!i,i?[]:"",!1));return;case"textarea":U=z=null;for(w in i)if(c=i[w],i.hasOwnProperty(w)&&c!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ge(e,n,w,null,o,c)}for(g in o)if(c=o[g],h=i[g],o.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":z=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Ge(e,n,g,c,o,h)}He(e,z,U);return;case"option":for(var de in i)if(z=i[de],i.hasOwnProperty(de)&&z!=null&&!o.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Ge(e,n,de,null,o,z)}for(_ in o)if(z=o[_],U=i[_],o.hasOwnProperty(_)&&z!==U&&(z!=null||U!=null))switch(_){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ge(e,n,_,z,o,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in i)z=i[ce],i.hasOwnProperty(ce)&&z!=null&&!o.hasOwnProperty(ce)&&Ge(e,n,ce,null,o,z);for(F in o)if(z=o[F],U=i[F],o.hasOwnProperty(F)&&z!==U&&(z!=null||U!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Ge(e,n,F,z,o,U)}return;default:if(Ms(n)){for(var Ke in i)z=i[Ke],i.hasOwnProperty(Ke)&&z!==void 0&&!o.hasOwnProperty(Ke)&&Qh(e,n,Ke,void 0,o,z);for(B in o)z=o[B],U=i[B],!o.hasOwnProperty(B)||z===U||z===void 0&&U===void 0||Qh(e,n,B,z,o,U);return}}for(var R in i)z=i[R],i.hasOwnProperty(R)&&z!=null&&!o.hasOwnProperty(R)&&Ge(e,n,R,null,o,z);for(q in o)z=o[q],U=i[q],!o.hasOwnProperty(q)||z===U||z==null&&U==null||Ge(e,n,q,z,o,U)}var Xh=null,Jh=null;function hu(e){return e.nodeType===9?e:e.ownerDocument}function hg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Yh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zh=null;function Xb(){var e=window.event;return e&&e.type==="popstate"?e===Zh?!1:(Zh=e,!0):(Zh=null,!1)}var dg=typeof setTimeout=="function"?setTimeout:void 0,Jb=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(e){return pg.resolve(null).then(e).catch(Zb)}:dg;function Zb(e){setTimeout(function(){throw e})}function Zr(e){return e==="head"}function mg(e,n){var i=n,o=0,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<o&&8>o){i=o;var g=e.ownerDocument;if(i&1&&wo(g.documentElement),i&2&&wo(g.body),i&4)for(i=g.head,wo(i),g=i.firstChild;g;){var w=g.nextSibling,_=g.nodeName;g[_i]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=w}}if(c===0){e.removeChild(h),Io(n);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:o=i.charCodeAt(0)-48;else o=0;i=h}while(i);Io(n)}function ef(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ef(i),Mr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function e1(e,n,i,o){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence")||h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function t1(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Nn(e.nextSibling),e===null))return null;return e}function tf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function n1(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var nf=null;function gg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function yg(e,n,i){switch(n=hu(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function wo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Mr(e)}var En=new Map,vg=new Set;function fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tr=Z.d;Z.d={f:r1,r:i1,D:a1,C:s1,L:o1,m:l1,X:c1,S:u1,M:h1};function r1(){var e=Tr.f(),n=ru();return e||n}function i1(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?zp(n):Tr.r(e)}var Ya=typeof document>"u"?null:document;function bg(e,n,i){var o=Ya;if(o&&typeof n=="string"&&n){var c=gt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),vg.has(c)||(vg.add(c),e={rel:e,crossOrigin:i,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Lt(n,"link",e),st(n),o.head.appendChild(n)))}}function a1(e){Tr.D(e),bg("dns-prefetch",e,null)}function s1(e,n){Tr.C(e,n),bg("preconnect",e,n)}function o1(e,n,i){Tr.L(e,n,i);var o=Ya;if(o&&e&&n){var c='link[rel="preload"][as="'+gt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+gt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+gt(i.imageSizes)+'"]')):c+='[href="'+gt(e)+'"]';var h=c;switch(n){case"style":h=Za(e);break;case"script":h=es(e)}En.has(h)||(e=S({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),En.set(h,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(ko(h))||n==="script"&&o.querySelector(So(h))||(n=o.createElement("link"),Lt(n,"link",e),st(n),o.head.appendChild(n)))}}function l1(e,n){Tr.m(e,n);var i=Ya;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+gt(o)+'"][href="'+gt(e)+'"]',h=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=es(e)}if(!En.has(h)&&(e=S({rel:"modulepreload",href:e},n),En.set(h,e),i.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(So(h)))return}o=i.createElement("link"),Lt(o,"link",e),st(o),i.head.appendChild(o)}}}function u1(e,n,i){Tr.S(e,n,i);var o=Ya;if(o&&e){var c=Gt(o).hoistableStyles,h=Za(e);n=n||"default";var g=c.get(h);if(!g){var w={loading:0,preload:null};if(g=o.querySelector(ko(h)))w.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},i),(i=En.get(h))&&rf(e,i);var _=g=o.createElement("link");st(_),Lt(_,"link",e),_._p=new Promise(function(F,B){_.onload=F,_.onerror=B}),_.addEventListener("load",function(){w.loading|=1}),_.addEventListener("error",function(){w.loading|=2}),w.loading|=4,du(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:w},c.set(h,g)}}}function c1(e,n){Tr.X(e,n);var i=Ya;if(i&&e){var o=Gt(i).hoistableScripts,c=es(e),h=o.get(c);h||(h=i.querySelector(So(c)),h||(e=S({src:e,async:!0},n),(n=En.get(c))&&af(e,n),h=i.createElement("script"),st(h),Lt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function h1(e,n){Tr.M(e,n);var i=Ya;if(i&&e){var o=Gt(i).hoistableScripts,c=es(e),h=o.get(c);h||(h=i.querySelector(So(c)),h||(e=S({src:e,async:!0,type:"module"},n),(n=En.get(c))&&af(e,n),h=i.createElement("script"),st(h),Lt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function wg(e,n,i,o){var c=(c=pe.current)?fu(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Za(i.href),i=Gt(c).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Za(i.href);var h=Gt(c).hoistableStyles,g=h.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=c.querySelector(ko(e)))&&!h._p&&(g.instance=h,g.state.loading=5),En.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},En.set(e,i),h||f1(c,e,i,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=es(i),i=Gt(c).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Za(e){return'href="'+gt(e)+'"'}function ko(e){return'link[rel="stylesheet"]['+e+"]"}function kg(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function f1(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Lt(n,"link",i),st(n),e.head.appendChild(n))}function es(e){return'[src="'+gt(e)+'"]'}function So(e){return"script[async]"+e}function Sg(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+gt(i.href)+'"]');if(o)return n.instance=o,st(o),o;var c=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),st(o),Lt(o,"style",c),du(o,i.precedence,e),n.instance=o;case"stylesheet":c=Za(i.href);var h=e.querySelector(ko(c));if(h)return n.state.loading|=4,n.instance=h,st(h),h;o=kg(i),(c=En.get(c))&&rf(o,c),h=(e.ownerDocument||e).createElement("link"),st(h);var g=h;return g._p=new Promise(function(w,_){g.onload=w,g.onerror=_}),Lt(h,"link",o),n.state.loading|=4,du(h,i.precedence,e),n.instance=h;case"script":return h=es(i.src),(c=e.querySelector(So(h)))?(n.instance=c,st(c),c):(o=i,(c=En.get(h))&&(o=S({},i),af(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),st(c),Lt(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,du(o,i.precedence,e));return n.instance}function du(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,h=c,g=0;g<o.length;g++){var w=o[g];if(w.dataset.precedence===n)h=w;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function af(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pu=null;function Eg(e,n,i){if(pu===null){var o=new Map,c=pu=new Map;c.set(i,o)}else c=pu,o=c.get(i),o||(o=new Map,c.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var h=i[c];if(!(h[_i]||h[mt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=e+g;var w=o.get(g);w?w.push(h):o.set(g,[h])}}return o}function _g(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function d1(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Eo=null;function p1(){}function m1(e,n,i){if(Eo===null)throw Error(a(475));var o=Eo;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Za(i.href),h=e.querySelector(ko(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=mu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=h,st(h);return}h=e.ownerDocument||e,i=kg(i),(c=En.get(c))&&rf(i,c),h=h.createElement("link"),st(h);var g=h;g._p=new Promise(function(w,_){g.onload=w,g.onerror=_}),Lt(h,"link",i),n.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=mu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function g1(){if(Eo===null)throw Error(a(475));var e=Eo;return e.stylesheets&&e.count===0&&sf(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&sf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function mu(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gu=null;function sf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gu=new Map,n.forEach(y1,e),gu=null,mu.call(e))}function y1(e,n){if(!(n.state.loading&4)){var i=gu.get(e);if(i)var o=i.get(null);else{i=new Map,gu.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),o=g)}o&&i.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),h=i.get(g)||o,h===o&&i.set(null,c),i.set(g,c),this.count++,o=mu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var _o={$$typeof:ke,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function v1(e,n,i,o,c,h,g,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Cg(e,n,i,o,c,h,g,w,_,F,B,q){return e=new v1(e,n,i,g,w,_,F,q),n=1,h===!0&&(n|=24),h=rn(3,null,null,n),e.current=h,h.stateNode=e,n=Vc(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:n},Hc(h),e}function Ag(e){return e?(e=xa,e):xa}function Ig(e,n,i,o,c,h){c=Ag(c),o.context===null?o.context=c:o.pendingContext=c,o=Vr(n),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=jr(e,o,n),i!==null&&(un(i,e,n),Zs(i,e,n))}function Dg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function of(e,n){Dg(e,n),(e=e.alternate)&&Dg(e,n)}function Ng(e){if(e.tag===13){var n=Na(e,67108864);n!==null&&un(n,e,67108864),of(e,67108864)}}var yu=!0;function b1(e,n,i,o){var c=$.T;$.T=null;var h=Z.p;try{Z.p=2,lf(e,n,i,o)}finally{Z.p=h,$.T=c}}function w1(e,n,i,o){var c=$.T;$.T=null;var h=Z.p;try{Z.p=8,lf(e,n,i,o)}finally{Z.p=h,$.T=c}}function lf(e,n,i,o){if(yu){var c=uf(o);if(c===null)Wh(e,n,o,vu,i),Pg(e,o);else if(S1(c,e,n,i,o))o.stopPropagation();else if(Pg(e,o),n&4&&-1<k1.indexOf(e)){for(;c!==null;){var h=Ln(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Tn(h.pendingLanes);if(g!==0){var w=h;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var _=1<<31-Ut(g);w.entanglements[1]|=_,g&=~_}Wn(h),($e&6)===0&&(tu=hn()+500,yo(0))}}break;case 13:w=Na(h,2),w!==null&&un(w,h,2),ru(),of(h,2)}if(h=uf(o),h===null&&Wh(e,n,o,vu,i),h===c)break;c=h}c!==null&&o.stopPropagation()}else Wh(e,n,o,null,i)}}function uf(e){return e=pn(e),cf(e)}var vu=null;function cf(e){if(vu=null,e=nr(e),e!==null){var n=f(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vu=e,null}function xg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fc()){case ks:return 2;case ua:return 8;case bi:case dc:return 32;case ca:return 268435456;default:return 32}default:return 32}}var hf=!1,ei=null,ti=null,ni=null,To=new Map,Co=new Map,ri=[],k1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pg(e,n){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":To.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(n.pointerId)}}function Ao(e,n,i,o,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Ng(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function S1(e,n,i,o,c){switch(n){case"focusin":return ei=Ao(ei,e,n,i,o,c),!0;case"dragenter":return ti=Ao(ti,e,n,i,o,c),!0;case"mouseover":return ni=Ao(ni,e,n,i,o,c),!0;case"pointerover":var h=c.pointerId;return To.set(h,Ao(To.get(h)||null,e,n,i,o,c)),!0;case"gotpointercapture":return h=c.pointerId,Co.set(h,Ao(Co.get(h)||null,e,n,i,o,c)),!0}return!1}function Rg(e){var n=nr(e.target);if(n!==null){var i=f(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,rl(e.priority,function(){if(i.tag===13){var o=ln();o=xr(o);var c=Na(i,o);c!==null&&un(c,i,o),of(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=uf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);sr=o,i.target.dispatchEvent(o),sr=null}else return n=Ln(i),n!==null&&Ng(n),e.blockedOn=i,!1;n.shift()}return!0}function Mg(e,n,i){bu(e)&&i.delete(n)}function E1(){hf=!1,ei!==null&&bu(ei)&&(ei=null),ti!==null&&bu(ti)&&(ti=null),ni!==null&&bu(ni)&&(ni=null),To.forEach(Mg),Co.forEach(Mg)}function wu(e,n){e.blockedOn===n&&(e.blockedOn=null,hf||(hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,E1)))}var ku=null;function Lg(e){ku!==e&&(ku=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ku===e&&(ku=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(cf(o||i)===null)continue;break}var h=Ln(i);h!==null&&(e.splice(n,3),n-=3,uh(h,{pending:!0,data:c,method:i.method,action:o},o,c))}}))}function Io(e){function n(_){return wu(_,e)}ei!==null&&wu(ei,e),ti!==null&&wu(ti,e),ni!==null&&wu(ni,e),To.forEach(n),Co.forEach(n);for(var i=0;i<ri.length;i++){var o=ri[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ri.length&&(i=ri[0],i.blockedOn===null);)Rg(i),i.blockedOn===null&&ri.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var c=i[o],h=i[o+1],g=c[ct]||null;if(typeof h=="function")g||Lg(i);else if(g){var w=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[ct]||null)w=g.formAction;else if(cf(c)!==null)continue}else w=g.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),Lg(i)}}}function ff(e){this._internalRoot=e}Su.prototype.render=ff.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,o=ln();Ig(i,o,e,n,null,null)},Su.prototype.unmount=ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ig(e.current,2,null,e,null,null),ru(),n[fn]=null}};function Su(e){this._internalRoot=e}Su.prototype.unstable_scheduleHydration=function(e){if(e){var n=Pr();e={blockedOn:null,target:e,priority:n};for(var i=0;i<ri.length&&n!==0&&n<ri[i].priority;i++);ri.splice(i,0,e),i===0&&Rg(e)}};var Og=t.version;if(Og!=="19.1.0")throw Error(a(527,Og,"19.1.0"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var _1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{rt=Eu.inject(_1),je=Eu}catch{}}return No.createRoot=function(e,n){if(!l(e))throw Error(a(299));var i=!1,o="",c=Yp,h=Zp,g=em,w=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks)),n=Cg(e,1,!1,null,null,i,o,c,h,g,w,null),e[fn]=n.current,Kh(e),new ff(n)},No.hydrateRoot=function(e,n,i){if(!l(e))throw Error(a(299));var o=!1,c="",h=Yp,g=Zp,w=em,_=null,F=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(_=i.unstable_transitionCallbacks),i.formState!==void 0&&(F=i.formState)),n=Cg(e,1,!0,n,i??null,o,c,h,g,w,_,F),n.context=Ag(null),i=n.current,o=ln(),o=xr(o),c=Vr(o),c.callback=null,jr(i,c,o),i=o,n.current.lanes=i,tr(n,i),Wn(n),e[fn]=n.current,Kh(e),new Su(n)},No.version="19.1.0",No}var Xg;function M1(){if(Xg)return df.exports;Xg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),df.exports=R1(),df.exports}var L1=M1();function O1({note:s,onDelete:t}){const r=()=>{t(s.id)};return Ht.jsxs("div",{className:"note-container",children:[Ht.jsxs("div",{className:"note",children:[Ht.jsx("h2",{className:"note-id",children:s.text}),Ht.jsxs("p",{className:"note-text",children:["ID: ",s.id]})]}),Ht.jsx("button",{className:"delete-button",onClick:r,children:""})]})}function F1({onAddNote:s}){const[t,r]=Lu.useState(""),a=f=>{r(f.target.value)},l=()=>{t.trim()!==""&&(s(t),r(""))};return Ht.jsxs("div",{className:"note-input-container",children:[Ht.jsx("input",{type:"text",className:"note-input",value:t,onChange:a,placeholder:"...",autoFocus:!0}),Ht.jsx("button",{className:"add-note-button",onClick:l,children:""})]})}const z1=()=>{};var Jg={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cv=function(s){const t=[];let r=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},U1=function(s){const t=[];let r=0,a=0;for(;r<s.length;){const l=s[r++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const f=s[r++];t[a++]=String.fromCharCode((l&31)<<6|f&63)}else if(l>239&&l<365){const f=s[r++],d=s[r++],y=s[r++],v=((l&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const f=s[r++],d=s[r++];t[a++]=String.fromCharCode((l&15)<<12|(f&63)<<6|d&63)}}return t.join("")},hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const f=s[l],d=l+1<s.length,y=d?s[l+1]:0,v=l+2<s.length,b=v?s[l+2]:0,S=f>>2,A=(f&3)<<4|y>>4;let j=(y&15)<<2|b>>6,Q=b&63;v||(Q=64,d||(j=64)),a.push(r[S],r[A],r[j],r[Q])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(cv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):U1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const f=r[s.charAt(l++)],d=l<s.length?r[s.charAt(l)]:0;++l;const y=l<s.length?r[s.charAt(l)]:64;++l;const v=l<s.length?r[s.charAt(l)]:64;if(++l,f==null||d==null||y==null||v==null)throw new V1;const b=f<<2|d>>4;if(a.push(b),y!==64){const S=d<<4&240|y>>2;if(a.push(S),v!==64){const A=y<<6&192|v;a.push(A)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class V1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j1=function(s){const t=cv(s);return hv.encodeByteArray(t,!0)},Ou=function(s){return j1(s).replace(/\./g,"")},$1=function(s){try{return hv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function B1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H1=()=>B1().__FIREBASE_DEFAULTS__,q1=()=>{if(typeof process>"u"||typeof Jg>"u")return;const s=Jg.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},G1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&$1(s[1]);return t&&JSON.parse(t)},Gf=()=>{try{return z1()||H1()||q1()||G1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},K1=s=>{var t,r;return(r=(t=Gf())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},W1=s=>{const t=K1(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},fv=()=>{var s;return(s=Gf())===null||s===void 0?void 0:s.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Kf(s){return s.endsWith(".cloudworkstations.dev")}async function X1(s){return(await fetch(s,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function J1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Ou(JSON.stringify(r)),Ou(JSON.stringify(d)),""].join(".")}const Lo={};function Y1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Lo))Lo[t]?s.emulator.push(t):s.prod.push(t);return s}function Z1(s){let t=document.getElementById(s),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),r=!0),{created:r,element:t}}let Yg=!1;function ew(s,t){if(typeof window>"u"||typeof document>"u"||!Kf(window.location.host)||Lo[s]===t||Lo[s]||Yg)return;Lo[s]=t;function r(A){return`__firebase__banner__${A}`}const a="__firebase__banner",l=Y1().prod.length>0;function f(){const A=document.getElementById(a);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Yg=!0,f()},A}function b(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=Z1(a),j=r("text"),Q=document.getElementById(j)||document.createElement("span"),J=r("learnmore"),ne=document.getElementById(J)||document.createElement("a"),ee=r("preprendIcon"),we=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const be=A.element;d(be),b(ne,J);const ke=v();y(we,ee),be.append(we,Q,ne,ke),document.body.appendChild(be)}l?(Q.innerText="Preview backend disconnected.",we.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(we.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nw(){var s;const t=(s=Gf())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rw(){return!nw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iw(){try{return typeof indexedDB=="object"}catch{return!1}}function aw(){return new Promise((s,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var f;t(((f=l.error)===null||f===void 0?void 0:f.message)||"")}}catch(r){t(r)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sw="FirebaseError";class ps extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=sw,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dv.prototype.create)}}class dv{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},l=`${this.service}/${t}`,f=this.errors[t],d=f?ow(f,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new ps(l,y,a)}}function ow(s,t){return s.replace(lw,(r,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const lw=/\{\$([^}]+)}/g;function Fu(s,t){if(s===t)return!0;const r=Object.keys(s),a=Object.keys(t);for(const l of r){if(!a.includes(l))return!1;const f=s[l],d=t[l];if(Zg(f)&&Zg(d)){if(!Fu(f,d))return!1}else if(f!==d)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function Zg(s){return s!==null&&typeof s=="object"}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function na(s){return s&&s._delegate?s._delegate:s}class jo{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zi="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uw{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new Q1;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(f){if(l)return null;throw f}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hw(t))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const f=this.getOrInitializeService({instanceIdentifier:l});a.resolve(f)}catch{}}}}clearInstance(t=Zi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zi){return this.instances.has(t)}getOptions(t=Zi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);a===y&&d.resolve(l)}return l}onInit(t,r){var a;const l=this.normalizeInstanceIdentifier(r),f=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;f.add(t),this.onInitCallbacks.set(l,f);const d=this.instances.get(l);return d&&t(d,l),()=>{f.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cw(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Zi){return this.component?this.component.multipleInstances?t:Zi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cw(s){return s===Zi?void 0:s}function hw(s){return s.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new uw(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xe||(xe={}));const dw={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},pw=xe.INFO,mw={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},gw=(s,t,...r)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=mw[t];if(l)console[l](`[${a}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pv{constructor(t){this.name=t,this._logLevel=pw,this._logHandler=gw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...t),this._logHandler(this,xe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...t),this._logHandler(this,xe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...t),this._logHandler(this,xe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...t),this._logHandler(this,xe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...t),this._logHandler(this,xe.ERROR,...t)}}const yw=(s,t)=>t.some(r=>s instanceof r);let ey,ty;function vw(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bw(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mv=new WeakMap,Ef=new WeakMap,gv=new WeakMap,mf=new WeakMap,Wf=new WeakMap;function ww(s){const t=new Promise((r,a)=>{const l=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{r(si(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",f),s.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&mv.set(r,s)}).catch(()=>{}),Wf.set(t,s),t}function kw(s){if(Ef.has(s))return;const t=new Promise((r,a)=>{const l=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{r(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});Ef.set(s,t)}let _f={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return Ef.get(s);if(t==="objectStoreNames")return s.objectStoreNames||gv.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return si(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Sw(s){_f=s(_f)}function Ew(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=s.call(gf(this),t,...r);return gv.set(a,t.sort?t.sort():[t]),si(a)}:bw().includes(s)?function(...t){return s.apply(gf(this),t),si(mv.get(this))}:function(...t){return si(s.apply(gf(this),t))}}function _w(s){return typeof s=="function"?Ew(s):(s instanceof IDBTransaction&&kw(s),yw(s,vw())?new Proxy(s,_f):s)}function si(s){if(s instanceof IDBRequest)return ww(s);if(mf.has(s))return mf.get(s);const t=_w(s);return t!==s&&(mf.set(s,t),Wf.set(t,s)),t}const gf=s=>Wf.get(s);function Tw(s,t,{blocked:r,upgrade:a,blocking:l,terminated:f}={}){const d=indexedDB.open(s,t),y=si(d);return a&&d.addEventListener("upgradeneeded",v=>{a(si(d.result),v.oldVersion,v.newVersion,si(d.transaction),v)}),r&&d.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),l&&v.addEventListener("versionchange",b=>l(b.oldVersion,b.newVersion,b))}).catch(()=>{}),y}const Cw=["get","getKey","getAll","getAllKeys","count"],Aw=["put","add","delete","clear"],yf=new Map;function ny(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(yf.get(t))return yf.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,l=Aw.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Cw.includes(r)))return;const f=async function(d,...y){const v=this.transaction(d,l?"readwrite":"readonly");let b=v.store;return a&&(b=b.index(y.shift())),(await Promise.all([b[r](...y),l&&v.done]))[0]};return yf.set(t,f),f}Sw(s=>({...s,get:(t,r,a)=>ny(t,r)||s.get(t,r,a),has:(t,r)=>!!ny(t,r)||s.has(t,r)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Iw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Dw(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Dw(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Tf="@firebase/app",ry="0.13.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ar=new pv("@firebase/app"),Nw="@firebase/app-compat",xw="@firebase/analytics-compat",Pw="@firebase/analytics",Rw="@firebase/app-check-compat",Mw="@firebase/app-check",Lw="@firebase/auth",Ow="@firebase/auth-compat",Fw="@firebase/database",zw="@firebase/data-connect",Uw="@firebase/database-compat",Vw="@firebase/functions",jw="@firebase/functions-compat",$w="@firebase/installations",Bw="@firebase/installations-compat",Hw="@firebase/messaging",qw="@firebase/messaging-compat",Gw="@firebase/performance",Kw="@firebase/performance-compat",Ww="@firebase/remote-config",Qw="@firebase/remote-config-compat",Xw="@firebase/storage",Jw="@firebase/storage-compat",Yw="@firebase/firestore",Zw="@firebase/ai",ek="@firebase/firestore-compat",tk="firebase",nk="11.8.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cf="[DEFAULT]",rk={[Tf]:"fire-core",[Nw]:"fire-core-compat",[Pw]:"fire-analytics",[xw]:"fire-analytics-compat",[Mw]:"fire-app-check",[Rw]:"fire-app-check-compat",[Lw]:"fire-auth",[Ow]:"fire-auth-compat",[Fw]:"fire-rtdb",[zw]:"fire-data-connect",[Uw]:"fire-rtdb-compat",[Vw]:"fire-fn",[jw]:"fire-fn-compat",[$w]:"fire-iid",[Bw]:"fire-iid-compat",[Hw]:"fire-fcm",[qw]:"fire-fcm-compat",[Gw]:"fire-perf",[Kw]:"fire-perf-compat",[Ww]:"fire-rc",[Qw]:"fire-rc-compat",[Xw]:"fire-gcs",[Jw]:"fire-gcs-compat",[Yw]:"fire-fst",[ek]:"fire-fst-compat",[Zw]:"fire-vertex","fire-js":"fire-js",[tk]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zu=new Map,ik=new Map,Af=new Map;function iy(s,t){try{s.container.addComponent(t)}catch(r){Ar.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Uu(s){const t=s.name;if(Af.has(t))return Ar.debug(`There were multiple attempts to register component ${t}.`),!1;Af.set(t,s);for(const r of zu.values())iy(r,s);for(const r of ik.values())iy(r,s);return!0}function ak(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}function sk(s){return s==null?!1:s.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ok={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new dv("app","Firebase",ok);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lk{constructor(t,r,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uk=nk;function yv(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Cf,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw oi.create("bad-app-name",{appName:String(l)});if(r||(r=fv()),!r)throw oi.create("no-options");const f=zu.get(l);if(f){if(Fu(r,f.options)&&Fu(a,f.config))return f;throw oi.create("duplicate-app",{appName:l})}const d=new fw(l);for(const v of Af.values())d.addComponent(v);const y=new lk(r,a,d);return zu.set(l,y),y}function ck(s=Cf){const t=zu.get(s);if(!t&&s===Cf&&fv())return yv();if(!t)throw oi.create("no-app",{appName:s});return t}function as(s,t,r){var a;let l=(a=rk[s])!==null&&a!==void 0?a:s;r&&(l+=`-${r}`);const f=l.match(/\s|\//),d=t.match(/\s|\//);if(f||d){const y=[`Unable to register library "${l}" with version "${t}":`];f&&y.push(`library name "${l}" contains illegal characters (whitespace or "/")`),f&&d&&y.push("and"),d&&y.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ar.warn(y.join(" "));return}Uu(new jo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hk="firebase-heartbeat-database",fk=1,$o="firebase-heartbeat-store";let vf=null;function vv(){return vf||(vf=Tw(hk,fk,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore($o)}catch(r){console.warn(r)}}}}).catch(s=>{throw oi.create("idb-open",{originalErrorMessage:s.message})})),vf}async function dk(s){try{const t=(await vv()).transaction($o),r=await t.objectStore($o).get(bv(s));return await t.done,r}catch(t){if(t instanceof ps)Ar.warn(t.message);else{const r=oi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ar.warn(r.message)}}}async function ay(s,t){try{const r=(await vv()).transaction($o,"readwrite");await r.objectStore($o).put(t,bv(s)),await r.done}catch(r){if(r instanceof ps)Ar.warn(r.message);else{const a=oi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ar.warn(a.message)}}}function bv(s){return`${s.name}!${s.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pk=1024,mk=30;class gk{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vk(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>mk){const f=bk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ar.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=sy(),{heartbeatsToSend:a,unsentEntries:l}=yk(this._heartbeatsCache.heartbeats),f=Ou(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(r){return Ar.warn(r),""}}}function sy(){return new Date().toISOString().substring(0,10)}function yk(s,t=pk){const r=[];let a=s.slice();for(const l of s){const f=r.find(d=>d.agent===l.agent);if(f){if(f.dates.push(l.date),oy(r)>t){f.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),oy(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class vk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iw()?aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return ay(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return ay(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function oy(s){return Ou(JSON.stringify({version:2,heartbeats:s})).length}function bk(s){if(s.length===0)return-1;let t=0,r=s[0].date;for(let a=1;a<s.length;a++)s[a].date<r&&(r=s[a].date,t=a);return t}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wk(s){Uu(new jo("platform-logger",t=>new Iw(t),"PRIVATE")),Uu(new jo("heartbeat",t=>new gk(t),"PRIVATE")),as(Tf,ry,s),as(Tf,ry,"esm2017"),as("fire-js","")}wk("");var kk="firebase",Sk="11.8.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/as(kk,Sk,"app");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,wv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,E){function C(){}C.prototype=E.prototype,P.D=E.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(N,x,M){for(var T=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)T[Dt-2]=arguments[Dt];return E.prototype[x].apply(N,T)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(P,E,C){C||(C=0);var N=Array(16);if(typeof E=="string")for(var x=0;16>x;++x)N[x]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(x=0;16>x;++x)N[x]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=P.g[0],C=P.g[1],x=P.g[2];var M=P.g[3],T=E+(M^C&(x^M))+N[0]+3614090360&4294967295;E=C+(T<<7&4294967295|T>>>25),T=M+(x^E&(C^x))+N[1]+3905402710&4294967295,M=E+(T<<12&4294967295|T>>>20),T=x+(C^M&(E^C))+N[2]+606105819&4294967295,x=M+(T<<17&4294967295|T>>>15),T=C+(E^x&(M^E))+N[3]+3250441966&4294967295,C=x+(T<<22&4294967295|T>>>10),T=E+(M^C&(x^M))+N[4]+4118548399&4294967295,E=C+(T<<7&4294967295|T>>>25),T=M+(x^E&(C^x))+N[5]+1200080426&4294967295,M=E+(T<<12&4294967295|T>>>20),T=x+(C^M&(E^C))+N[6]+2821735955&4294967295,x=M+(T<<17&4294967295|T>>>15),T=C+(E^x&(M^E))+N[7]+4249261313&4294967295,C=x+(T<<22&4294967295|T>>>10),T=E+(M^C&(x^M))+N[8]+1770035416&4294967295,E=C+(T<<7&4294967295|T>>>25),T=M+(x^E&(C^x))+N[9]+2336552879&4294967295,M=E+(T<<12&4294967295|T>>>20),T=x+(C^M&(E^C))+N[10]+4294925233&4294967295,x=M+(T<<17&4294967295|T>>>15),T=C+(E^x&(M^E))+N[11]+2304563134&4294967295,C=x+(T<<22&4294967295|T>>>10),T=E+(M^C&(x^M))+N[12]+1804603682&4294967295,E=C+(T<<7&4294967295|T>>>25),T=M+(x^E&(C^x))+N[13]+4254626195&4294967295,M=E+(T<<12&4294967295|T>>>20),T=x+(C^M&(E^C))+N[14]+2792965006&4294967295,x=M+(T<<17&4294967295|T>>>15),T=C+(E^x&(M^E))+N[15]+1236535329&4294967295,C=x+(T<<22&4294967295|T>>>10),T=E+(x^M&(C^x))+N[1]+4129170786&4294967295,E=C+(T<<5&4294967295|T>>>27),T=M+(C^x&(E^C))+N[6]+3225465664&4294967295,M=E+(T<<9&4294967295|T>>>23),T=x+(E^C&(M^E))+N[11]+643717713&4294967295,x=M+(T<<14&4294967295|T>>>18),T=C+(M^E&(x^M))+N[0]+3921069994&4294967295,C=x+(T<<20&4294967295|T>>>12),T=E+(x^M&(C^x))+N[5]+3593408605&4294967295,E=C+(T<<5&4294967295|T>>>27),T=M+(C^x&(E^C))+N[10]+38016083&4294967295,M=E+(T<<9&4294967295|T>>>23),T=x+(E^C&(M^E))+N[15]+3634488961&4294967295,x=M+(T<<14&4294967295|T>>>18),T=C+(M^E&(x^M))+N[4]+3889429448&4294967295,C=x+(T<<20&4294967295|T>>>12),T=E+(x^M&(C^x))+N[9]+568446438&4294967295,E=C+(T<<5&4294967295|T>>>27),T=M+(C^x&(E^C))+N[14]+3275163606&4294967295,M=E+(T<<9&4294967295|T>>>23),T=x+(E^C&(M^E))+N[3]+4107603335&4294967295,x=M+(T<<14&4294967295|T>>>18),T=C+(M^E&(x^M))+N[8]+1163531501&4294967295,C=x+(T<<20&4294967295|T>>>12),T=E+(x^M&(C^x))+N[13]+2850285829&4294967295,E=C+(T<<5&4294967295|T>>>27),T=M+(C^x&(E^C))+N[2]+4243563512&4294967295,M=E+(T<<9&4294967295|T>>>23),T=x+(E^C&(M^E))+N[7]+1735328473&4294967295,x=M+(T<<14&4294967295|T>>>18),T=C+(M^E&(x^M))+N[12]+2368359562&4294967295,C=x+(T<<20&4294967295|T>>>12),T=E+(C^x^M)+N[5]+4294588738&4294967295,E=C+(T<<4&4294967295|T>>>28),T=M+(E^C^x)+N[8]+2272392833&4294967295,M=E+(T<<11&4294967295|T>>>21),T=x+(M^E^C)+N[11]+1839030562&4294967295,x=M+(T<<16&4294967295|T>>>16),T=C+(x^M^E)+N[14]+4259657740&4294967295,C=x+(T<<23&4294967295|T>>>9),T=E+(C^x^M)+N[1]+2763975236&4294967295,E=C+(T<<4&4294967295|T>>>28),T=M+(E^C^x)+N[4]+1272893353&4294967295,M=E+(T<<11&4294967295|T>>>21),T=x+(M^E^C)+N[7]+4139469664&4294967295,x=M+(T<<16&4294967295|T>>>16),T=C+(x^M^E)+N[10]+3200236656&4294967295,C=x+(T<<23&4294967295|T>>>9),T=E+(C^x^M)+N[13]+681279174&4294967295,E=C+(T<<4&4294967295|T>>>28),T=M+(E^C^x)+N[0]+3936430074&4294967295,M=E+(T<<11&4294967295|T>>>21),T=x+(M^E^C)+N[3]+3572445317&4294967295,x=M+(T<<16&4294967295|T>>>16),T=C+(x^M^E)+N[6]+76029189&4294967295,C=x+(T<<23&4294967295|T>>>9),T=E+(C^x^M)+N[9]+3654602809&4294967295,E=C+(T<<4&4294967295|T>>>28),T=M+(E^C^x)+N[12]+3873151461&4294967295,M=E+(T<<11&4294967295|T>>>21),T=x+(M^E^C)+N[15]+530742520&4294967295,x=M+(T<<16&4294967295|T>>>16),T=C+(x^M^E)+N[2]+3299628645&4294967295,C=x+(T<<23&4294967295|T>>>9),T=E+(x^(C|~M))+N[0]+4096336452&4294967295,E=C+(T<<6&4294967295|T>>>26),T=M+(C^(E|~x))+N[7]+1126891415&4294967295,M=E+(T<<10&4294967295|T>>>22),T=x+(E^(M|~C))+N[14]+2878612391&4294967295,x=M+(T<<15&4294967295|T>>>17),T=C+(M^(x|~E))+N[5]+4237533241&4294967295,C=x+(T<<21&4294967295|T>>>11),T=E+(x^(C|~M))+N[12]+1700485571&4294967295,E=C+(T<<6&4294967295|T>>>26),T=M+(C^(E|~x))+N[3]+2399980690&4294967295,M=E+(T<<10&4294967295|T>>>22),T=x+(E^(M|~C))+N[10]+4293915773&4294967295,x=M+(T<<15&4294967295|T>>>17),T=C+(M^(x|~E))+N[1]+2240044497&4294967295,C=x+(T<<21&4294967295|T>>>11),T=E+(x^(C|~M))+N[8]+1873313359&4294967295,E=C+(T<<6&4294967295|T>>>26),T=M+(C^(E|~x))+N[15]+4264355552&4294967295,M=E+(T<<10&4294967295|T>>>22),T=x+(E^(M|~C))+N[6]+2734768916&4294967295,x=M+(T<<15&4294967295|T>>>17),T=C+(M^(x|~E))+N[13]+1309151649&4294967295,C=x+(T<<21&4294967295|T>>>11),T=E+(x^(C|~M))+N[4]+4149444226&4294967295,E=C+(T<<6&4294967295|T>>>26),T=M+(C^(E|~x))+N[11]+3174756917&4294967295,M=E+(T<<10&4294967295|T>>>22),T=x+(E^(M|~C))+N[2]+718787259&4294967295,x=M+(T<<15&4294967295|T>>>17),T=C+(M^(x|~E))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+E&4294967295,P.g[1]=P.g[1]+(x+(T<<21&4294967295|T>>>11))&4294967295,P.g[2]=P.g[2]+x&4294967295,P.g[3]=P.g[3]+M&4294967295}a.prototype.u=function(P,E){E===void 0&&(E=P.length);for(var C=E-this.blockSize,N=this.B,x=this.h,M=0;M<E;){if(x==0)for(;M<=C;)l(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<E;)if(N[x++]=P.charCodeAt(M++),x==this.blockSize){l(this,N),x=0;break}}else for(;M<E;)if(N[x++]=P[M++],x==this.blockSize){l(this,N),x=0;break}}this.h=x,this.o+=E},a.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var E=1;E<P.length-8;++E)P[E]=0;var C=8*this.o;for(E=P.length-8;E<P.length;++E)P[E]=C&255,C/=256;for(this.u(P),P=Array(16),E=C=0;4>E;++E)for(var N=0;32>N;N+=8)P[C++]=this.g[E]>>>N&255;return P};function f(P,E){var C=y;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=E(P)}function d(P,E){this.h=E;for(var C=[],N=!0,x=P.length-1;0<=x;x--){var M=P[x]|0;N&&M==E||(C[x]=M,N=!1)}this.g=C}var y={};function v(P){return-128<=P&&128>P?f(P,function(E){return new d([E|0],0>E?-1:0)}):new d([P|0],0>P?-1:0)}function b(P){if(isNaN(P)||!isFinite(P))return A;if(0>P)return ee(b(-P));for(var E=[],C=1,N=0;P>=C;N++)E[N]=P/C|0,C*=4294967296;return new d(E,0)}function S(P,E){if(P.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P.charAt(0)=="-")return ee(S(P.substring(1),E));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=b(Math.pow(E,8)),N=A,x=0;x<P.length;x+=8){var M=Math.min(8,P.length-x),T=parseInt(P.substring(x,x+M),E);8>M?(M=b(Math.pow(E,M)),N=N.j(M).add(b(T))):(N=N.j(C),N=N.add(b(T)))}return N}var A=v(0),j=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(ne(this))return-ee(this).m();for(var P=0,E=1,C=0;C<this.g.length;C++){var N=this.i(C);P+=(0<=N?N:4294967296+N)*E,E*=4294967296}return P},s.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(J(this))return"0";if(ne(this))return"-"+ee(this).toString(P);for(var E=b(Math.pow(P,6)),C=this,N="";;){var x=Fe(C,E).g;C=we(C,x.j(E));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=x,J(C))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},s.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function J(P){if(P.h!=0)return!1;for(var E=0;E<P.g.length;E++)if(P.g[E]!=0)return!1;return!0}function ne(P){return P.h==-1}s.l=function(P){return P=we(this,P),ne(P)?-1:J(P)?0:1};function ee(P){for(var E=P.g.length,C=[],N=0;N<E;N++)C[N]=~P.g[N];return new d(C,~P.h).add(j)}s.abs=function(){return ne(this)?ee(this):this},s.add=function(P){for(var E=Math.max(this.g.length,P.g.length),C=[],N=0,x=0;x<=E;x++){var M=N+(this.i(x)&65535)+(P.i(x)&65535),T=(M>>>16)+(this.i(x)>>>16)+(P.i(x)>>>16);N=T>>>16,M&=65535,T&=65535,C[x]=T<<16|M}return new d(C,C[C.length-1]&-2147483648?-1:0)};function we(P,E){return P.add(ee(E))}s.j=function(P){if(J(this)||J(P))return A;if(ne(this))return ne(P)?ee(this).j(ee(P)):ee(ee(this).j(P));if(ne(P))return ee(this.j(ee(P)));if(0>this.l(Q)&&0>P.l(Q))return b(this.m()*P.m());for(var E=this.g.length+P.g.length,C=[],N=0;N<2*E;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<P.g.length;x++){var M=this.i(N)>>>16,T=this.i(N)&65535,Dt=P.i(x)>>>16,nt=P.i(x)&65535;C[2*N+2*x]+=T*nt,be(C,2*N+2*x),C[2*N+2*x+1]+=M*nt,be(C,2*N+2*x+1),C[2*N+2*x+1]+=T*Dt,be(C,2*N+2*x+1),C[2*N+2*x+2]+=M*Dt,be(C,2*N+2*x+2)}for(N=0;N<E;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=E;N<2*E;N++)C[N]=0;return new d(C,0)};function be(P,E){for(;(P[E]&65535)!=P[E];)P[E+1]+=P[E]>>>16,P[E]&=65535,E++}function ke(P,E){this.g=P,this.h=E}function Fe(P,E){if(J(E))throw Error("division by zero");if(J(P))return new ke(A,A);if(ne(P))return E=Fe(ee(P),E),new ke(ee(E.g),ee(E.h));if(ne(E))return E=Fe(P,ee(E)),new ke(ee(E.g),E.h);if(30<P.g.length){if(ne(P)||ne(E))throw Error("slowDivide_ only works with positive integers.");for(var C=j,N=E;0>=N.l(P);)C=ye(C),N=ye(N);var x=ze(C,1),M=ze(N,1);for(N=ze(N,2),C=ze(C,2);!J(N);){var T=M.add(N);0>=T.l(P)&&(x=x.add(C),M=T),N=ze(N,1),C=ze(C,1)}return E=we(P,x.j(E)),new ke(x,E)}for(x=A;0<=P.l(E);){for(C=Math.max(1,Math.floor(P.m()/E.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=b(C),T=M.j(E);ne(T)||0<T.l(P);)C-=N,M=b(C),T=M.j(E);J(M)&&(M=j),x=x.add(M),P=we(P,T)}return new ke(x,P)}s.A=function(P){return Fe(this,P).h},s.and=function(P){for(var E=Math.max(this.g.length,P.g.length),C=[],N=0;N<E;N++)C[N]=this.i(N)&P.i(N);return new d(C,this.h&P.h)},s.or=function(P){for(var E=Math.max(this.g.length,P.g.length),C=[],N=0;N<E;N++)C[N]=this.i(N)|P.i(N);return new d(C,this.h|P.h)},s.xor=function(P){for(var E=Math.max(this.g.length,P.g.length),C=[],N=0;N<E;N++)C[N]=this.i(N)^P.i(N);return new d(C,this.h^P.h)};function ye(P){for(var E=P.g.length+1,C=[],N=0;N<E;N++)C[N]=P.i(N)<<1|P.i(N-1)>>>31;return new d(C,P.h)}function ze(P,E){var C=E>>5;E%=32;for(var N=P.g.length-C,x=[],M=0;M<N;M++)x[M]=0<E?P.i(M+C)>>>E|P.i(M+C+1)<<32-E:P.i(M+C);return new d(x,P.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,wv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=b,d.fromString=S,li=d}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kv,xo,Sv,Du,If,Ev,_v,Tv;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _u=="object"&&_u];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var a=r(this);function l(u,p){if(p)e:{var m=a;u=u.split(".");for(var k=0;k<u.length-1;k++){var L=u[k];if(!(L in m))break e;m=m[L]}u=u[u.length-1],k=m[u],p=p(k),p!=k&&p!=null&&t(m,u,{configurable:!0,writable:!0,value:p})}}function f(u,p){u instanceof String&&(u+="");var m=0,k=!1,L={next:function(){if(!k&&m<u.length){var V=m++;return{value:p(V,u[V]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return f(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},y=this||self;function v(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function b(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function S(u,p,m){return u.call.apply(u.bind,arguments)}function A(u,p,m){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function j(u,p,m){return j=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:A,j.apply(null,arguments)}function Q(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var k=m.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function J(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(k,L,V){for(var Y=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)Y[Pe-2]=arguments[Pe];return p.prototype[L].apply(k,Y)}}function ne(u){const p=u.length;if(0<p){const m=Array(p);for(let k=0;k<p;k++)m[k]=u[k];return m}return[]}function ee(u,p){for(let m=1;m<arguments.length;m++){const k=arguments[m];if(v(k)){const L=u.length||0,V=k.length||0;u.length=L+V;for(let Y=0;Y<V;Y++)u[L+Y]=k[Y]}else u.push(k)}}class we{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function be(u){return/^[\s\xa0]*$/.test(u)}function ke(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function Fe(u){return Fe[" "](u),u}Fe[" "]=function(){};var ye=ke().indexOf("Gecko")!=-1&&!(ke().toLowerCase().indexOf("webkit")!=-1&&ke().indexOf("Edge")==-1)&&!(ke().indexOf("Trident")!=-1||ke().indexOf("MSIE")!=-1)&&ke().indexOf("Edge")==-1;function ze(u,p,m){for(const k in u)p.call(m,u[k],k,u)}function P(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function E(u){const p={};for(const m in u)p[m]=u[m];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,p){let m,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(m in k)u[m]=k[m];for(let V=0;V<C.length;V++)m=C[V],Object.prototype.hasOwnProperty.call(k,m)&&(u[m]=k[m])}}function x(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function M(u){y.setTimeout(()=>{throw u},0)}function T(){var u=Me;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Dt{constructor(){this.h=this.g=null}add(p,m){const k=nt.get();k.set(p,m),this.h?this.h.next=k:this.g=k,this.h=k}}var nt=new we(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,oe=!1,Me=new Dt,I=()=>{const u=y.Promise.resolve(void 0);Z=()=>{u.then(W)}};var W=()=>{for(var u;u=T();){try{u.h.call(u.g)}catch(m){M(m)}var p=nt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}oe=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};y.addEventListener("test",m,p),y.removeEventListener("test",m,p)}catch{}return u}();function _e(u,p){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ye){e:{try{Fe(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_e.aa.h.call(this)}}J(_e,X);var pe={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Rn(u,p,m,k,L){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!k,this.ha=L,this.key=++Qe,this.da=this.fa=!1}function Nr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zn(u){this.src=u,this.g={},this.h=0}Zn.prototype.add=function(u,p,m,k,L){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var Y=yi(u,p,k,L);return-1<Y?(p=u[Y],m||(p.fa=!1)):(p=new Rn(p,this.src,V,!!k,L),p.fa=m,u.push(p)),p};function gi(u,p){var m=p.type;if(m in u.g){var k=u.g[m],L=Array.prototype.indexOf.call(k,p,void 0),V;(V=0<=L)&&Array.prototype.splice.call(k,L,1),V&&(Nr(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function yi(u,p,m,k){for(var L=0;L<u.length;++L){var V=u[L];if(!V.da&&V.listener==p&&V.capture==!!m&&V.ha==k)return L}return-1}var vi="closure_lm_"+(1e6*Math.random()|0),ws={};function el(u,p,m,k,L){if(Array.isArray(p)){for(var V=0;V<p.length;V++)el(u,p[V],m,k,L);return null}return m=tl(m),u&&u[St]?u.K(p,m,b(k)?!!k.capture:!1,L):hn(u,p,m,!1,k,L)}function hn(u,p,m,k,L,V){if(!p)throw Error("Invalid event type");var Y=b(L)?!!L.capture:!!L,Pe=ca(u);if(Pe||(u[vi]=Pe=new Zn(u)),m=Pe.add(p,m,k,Y,V),m.proxy)return m;if(k=fc(),m.proxy=k,k.src=u,k.listener=m,u.addEventListener)ue||(L=Y),L===void 0&&(L=!1),u.addEventListener(p.toString(),k,L);else if(u.attachEvent)u.attachEvent(bi(p.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return m}function fc(){function u(m){return p.call(u.src,u.listener,m)}const p=dc;return u}function ks(u,p,m,k,L){if(Array.isArray(p))for(var V=0;V<p.length;V++)ks(u,p[V],m,k,L);else k=b(k)?!!k.capture:!!k,m=tl(m),u&&u[St]?(u=u.i,p=String(p).toString(),p in u.g&&(V=u.g[p],m=yi(V,m,k,L),-1<m&&(Nr(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete u.g[p],u.h--)))):u&&(u=ca(u))&&(p=u.g[p.toString()],u=-1,p&&(u=yi(p,m,k,L)),(m=-1<u?p[u]:null)&&ua(m))}function ua(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[St])gi(p.i,u);else{var m=u.type,k=u.proxy;p.removeEventListener?p.removeEventListener(m,k,u.capture):p.detachEvent?p.detachEvent(bi(m),k):p.addListener&&p.removeListener&&p.removeListener(k),(m=ca(p))?(gi(m,u),m.h==0&&(m.src=null,p[vi]=null)):Nr(u)}}}function bi(u){return u in ws?ws[u]:ws[u]="on"+u}function dc(u,p){if(u.da)u=!0;else{p=new _e(p,this);var m=u.listener,k=u.ha||u.src;u.fa&&ua(u),u=m.call(k,p)}return u}function ca(u){return u=u[vi],u instanceof Zn?u:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function tl(u){return typeof u=="function"?u:(u[Ss]||(u[Ss]=function(p){return u.handleEvent(p)}),u[Ss])}function rt(){te.call(this),this.i=new Zn(this),this.M=this,this.F=null}J(rt,te),rt.prototype[St]=!0,rt.prototype.removeEventListener=function(u,p,m,k){ks(this,u,p,m,k)};function je(u,p){var m,k=u.F;if(k)for(m=[];k;k=k.F)m.push(k);if(u=u.M,k=p.type||p,typeof p=="string")p=new X(p,u);else if(p instanceof X)p.target=p.target||u;else{var L=p;p=new X(k,u),N(p,L)}if(L=!0,m)for(var V=m.length-1;0<=V;V--){var Y=p.g=m[V];L=en(Y,k,!0,p)&&L}if(Y=p.g=u,L=en(Y,k,!0,p)&&L,L=en(Y,k,!1,p)&&L,m)for(V=0;V<m.length;V++)Y=p.g=m[V],L=en(Y,k,!1,p)&&L}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],k=0;k<m.length;k++)Nr(m[k]);delete u.g[p],u.h--}}this.F=null},rt.prototype.K=function(u,p,m,k){return this.i.add(String(u),p,!1,m,k)},rt.prototype.L=function(u,p,m,k){return this.i.add(String(u),p,!0,m,k)};function en(u,p,m,k){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,V=0;V<p.length;++V){var Y=p[V];if(Y&&!Y.da&&Y.capture==m){var Pe=Y.listener,yt=Y.ha||Y.src;Y.fa&&gi(u.i,Y),L=Pe.call(yt,k)!==!1&&L}}return L&&!k.defaultPrevented}function Ut(u,p,m){if(typeof u=="function")m&&(u=j(u,m));else if(u&&typeof u.handleEvent=="function")u=j(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:y.setTimeout(u,p||0)}function nl(u){u.g=Ut(()=>{u.g=null,u.i&&(u.i=!1,nl(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class pc extends te{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:nl(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(u){te.call(this),this.h=u,this.g={}}J(wi,te);var ki=[];function Si(u){ze(u.g,function(p,m){this.g.hasOwnProperty(m)&&ua(p)},u),u.g={}}wi.prototype.N=function(){wi.aa.N.call(this),Si(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=y.JSON.stringify,ha=y.JSON.parse,Ei=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function Es(){}Es.prototype.h=null;function _s(u){return u.h||(u.h=u.i())}function Ts(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){X.call(this,"d")}J(tr,X);function Cs(){X.call(this,"c")}J(Cs,X);var Mn={},As=null;function xr(){return As=As||new rt}Mn.La="serverreachability";function fa(u){X.call(this,Mn.La,u)}J(fa,X);function Pr(u){const p=xr();je(p,new fa(p))}Mn.STAT_EVENT="statevent";function rl(u,p){X.call(this,Mn.STAT_EVENT,u),this.stat=p}J(rl,X);function Ye(u){const p=xr();je(p,new rl(p,u))}Mn.Ma="timingevent";function mt(u,p){X.call(this,Mn.Ma,u),this.size=p}J(mt,X);function ct(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},p)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function Is(u,p,m,k,L,V){u.info(function(){if(u.g)if(V)for(var Y="",Pe=V.split("&"),yt=0;yt<Pe.length;yt++){var Le=Pe[yt].split("=");if(1<Le.length){var _t=Le[0];Le=Le[1];var xt=_t.split("_");Y=2<=xt.length&&xt[1]=="type"?Y+(_t+"="+Le+"&"):Y+(_t+"=redacted&")}}else Y=null;else Y=V;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+p+`
`+m+`
`+Y})}function mc(u,p,m,k,L,V,Y){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+p+`
`+m+`
`+V+" "+Y})}function Rr(u,p,m,k){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+_i(u,m)+(k?" "+k:"")})}function il(u,p){u.info(function(){return"TIMEOUT: "+p})}fn.prototype.info=function(){};function _i(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var k=m[u];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return Tn(m)}catch{return p}}var Mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function On(){}J(On,Es),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},Ln=new On;function Gt(u,p,m,k){this.j=u,this.i=p,this.l=m,this.R=k||1,this.U=new wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new st}function st(){this.i=null,this.g="",this.h=!1}var Ds={},da={};function Cn(u,p,m){u.L=1,u.v=Di(tn(p)),u.m=m,u.P=!0,rr(u,null)}function rr(u,p){u.F=Date.now(),Ti(u),u.A=tn(u.v);var m=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),Ls(m.i,"t",k),u.C=0,m=u.j.J,u.h=new st,u.g=wl(u.j,m?p:null,!u.m),0<u.O&&(u.M=new pc(j(u.Y,u,u.g),u.O)),p=u.U,m=u.g,k=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(ki[0]=L.toString()),L=ki);for(var V=0;V<L.length;V++){var Y=el(m,L[V],k||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Pr(),Is(u.i,u.u,u.A,u.l,u.R,u.m)}Gt.prototype.ca=function(u){u=u.target;const p=this.M;p&&gn(u)==3?p.j():this.Y(u)},Gt.prototype.Y=function(u){try{if(u==this.g)e:{const xt=gn(this.g);var p=this.g.Ba();const hr=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||fl(this.g)))){this.J||xt!=4||p==7||(p==8||0>=hr?Pr(3):Pr(2)),Lr(this);var m=this.g.Z();this.X=m;t:if(al(this)){var k=fl(this.g);u="";var L=k.length,V=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nt(this),Fn(this);var Y="";break t}this.h.i=new y.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(k[p],{stream:!(V&&p==L-1)});k.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=m==200,mc(this.i,this.u,this.A,this.l,this.R,xt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,yt=this.g;if((Pe=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!be(Pe)){var Le=Pe;break t}}Le=null}if(m=Le)Rr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ci(this,m);else{this.o=!1,this.s=3,Ye(12),Nt(this),Fn(this);break e}}if(this.P){m=!0;let Pt;for(;!this.J&&this.C<Y.length;)if(Pt=sl(this,Y),Pt==da){xt==4&&(this.s=4,Ye(14),m=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==Ds){this.s=4,Ye(15),Rr(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}else Rr(this.i,this.l,Pt,null),Ci(this,Pt);if(al(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||Y.length!=0||this.h.h||(this.s=1,Ye(16),m=!1),this.o=this.o&&m,!m)Rr(this.i,this.l,Y,"[Invalid Chunked Response]"),Nt(this),Fn(this);else if(0<Y.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Fi(_t),_t.M=!0,Ye(11))}}else Rr(this.i,this.l,Y,null),Ci(this,Y);xt==4&&Nt(this),this.o&&!this.J&&(xt==4?yl(this.j,this):(this.o=!1,Ti(this)))}else wc(this.g),m==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),Nt(this),Fn(this)}}}catch{}finally{}};function al(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sl(u,p){var m=u.C,k=p.indexOf(`
`,m);return k==-1?da:(m=Number(p.substring(m,k)),isNaN(m)?Ds:(k+=1,k+m>p.length?da:(p=p.slice(k,k+m),u.C=k+m,p)))}Gt.prototype.cancel=function(){this.J=!0,Nt(this)};function Ti(u){u.S=Date.now()+u.I,ol(u,u.I)}function ol(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ct(j(u.ba,u),p)}function Lr(u){u.B&&(y.clearTimeout(u.B),u.B=null)}Gt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(il(this.i,this.A),this.L!=2&&(Pr(),Ye(17)),Nt(this),this.s=2,Fn(this)):ol(this,this.S-u)};function Fn(u){u.j.G==0||u.J||yl(u.j,u)}function Nt(u){Lr(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Si(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Ci(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||Ns(m.h,u))){if(!u.K&&Ns(m.h,u)&&m.G==3){try{var k=m.Da.g.parse(p)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Ta(m),Ea(m);else break e;Vs(m),Ye(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=ct(j(m.Za,m),6e3));if(1>=ma(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else cr(m,11)}else if((u.K||m.g==u)&&Ta(m),!be(p))for(L=m.Da.g.parse(p),p=0;p<L.length;p++){let Le=L[p];if(m.T=Le[0],Le=Le[1],m.G==2)if(Le[0]=="c"){m.K=Le[1],m.ia=Le[2];const _t=Le[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));const xt=Le[4];xt!=null&&(m.Aa=xt,m.j.info("SVER="+m.Aa));const hr=Le[5];hr!=null&&typeof hr=="number"&&0<hr&&(k=1.5*hr,m.L=k,m.j.info("backChannelRequestTimeoutMs_="+k)),k=m;const Pt=u.g;if(Pt){const Hn=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hn){var V=k.h;V.g||Hn.indexOf("spdy")==-1&&Hn.indexOf("quic")==-1&&Hn.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(ga(V,V.h),V.h=null))}if(k.D){const $s=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(k.ya=$s,He(k.I,k.D,$s))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),k=m;var Y=u;if(k.qa=bl(k,k.J?k.ia:null,k.W),Y.K){Kt(k.h,Y);var Pe=Y,yt=k.L;yt&&(Pe.I=yt),Pe.B&&(Lr(Pe),Ti(Pe)),k.g=Y}else ml(k);0<m.i.length&&_a(m)}else Le[0]!="stop"&&Le[0]!="close"||cr(m,7);else m.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?cr(m,7):zs(m):Le[0]!="noop"&&m.l&&m.l.ta(Le),m.v=0)}}Pr(4)}catch{}}var ll=class{constructor(u,p){this.g=u,this.map=p}};function ir(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ma(u){return u.h?1:u.g?u.g.size:0}function Ns(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ga(u,p){u.g?u.g.add(p):u.h=p}function Kt(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ir.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return ne(u.i)}function gc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var p=[],m=u.length,k=0;k<m;k++)p.push(u[k]);return p}p=[],m=0;for(k in u)p[m++]=u[k];return p}function ya(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const k in u)p[m++]=k;return p}}}function Ps(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=ya(u),k=gc(u),L=k.length,V=0;V<L;V++)p.call(void 0,k[V],m&&m[V],u)}var Ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yc(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var k=u[m].indexOf("="),L=null;if(0<=k){var V=u[m].substring(0,k);L=u[m].substring(k+1)}else V=u[m];p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function gt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gt){this.h=u.h,Ii(this,u.j),this.o=u.o,this.g=u.g,Or(this,u.s),this.l=u.l;var p=u.i,m=new sr;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),ar(this,m),this.m=u.m}else u&&(p=String(u).match(Ai))?(this.h=!1,Ii(this,p[1]||"",!0),this.o=dn(p[2]||""),this.g=dn(p[3]||"",!0),Or(this,p[4]),this.l=dn(p[5]||"",!0),ar(this,p[6]||"",!0),this.m=dn(p[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}gt.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Ni(p,Rs,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Ni(p,Rs,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Ni(m,m.charAt(0)=="/"?vc:Ms,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Ni(m,va)),u.join("")};function tn(u){return new gt(u)}function Ii(u,p,m){u.j=m?dn(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Or(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function ar(u,p,m){p instanceof sr?(u.i=p,cl(u.i,u.h)):(m||(p=Ni(p,bc)),u.i=new sr(p,u.h))}function He(u,p,m){u.i.set(p,m)}function Di(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function dn(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ni(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,ul),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ul(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Rs=/[#\/\?@]/g,Ms=/[#\?:]/g,vc=/[#\?]/g,bc=/[#\?@]/g,va=/#/g;function sr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&yc(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}s=sr.prototype,s.add=function(u,p){pn(this),this.i=null,u=zn(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function or(u,p){pn(u),p=zn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function lr(u,p){return pn(u),p=zn(u,p),u.g.has(p)}s.forEach=function(u,p){pn(this),this.g.forEach(function(m,k){m.forEach(function(L){u.call(p,L,k,this)},this)},this)},s.na=function(){pn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let k=0;k<p.length;k++){const L=u[k];for(let V=0;V<L.length;V++)m.push(p[k])}return m},s.V=function(u){pn(this);let p=[];if(typeof u=="string")lr(this,u)&&(p=p.concat(this.g.get(zn(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},s.set=function(u,p){return pn(this),this.i=null,u=zn(this,u),lr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Ls(u,p,m){or(u,p),0<m.length&&(u.i=null,u.g.set(zn(u,p),ne(m)),u.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var k=p[m];const V=encodeURIComponent(String(k)),Y=this.V(k);for(k=0;k<Y.length;k++){var L=V;Y[k]!==""&&(L+="="+encodeURIComponent(String(Y[k]))),u.push(L)}}return this.i=u.join("&")};function zn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function cl(u,p){p&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(m,k){var L=k.toLowerCase();k!=L&&(or(this,k),Ls(this,L,m))},u)),u.j=p}function xi(u,p){const m=new fn;if(y.Image){const k=new Image;k.onload=Q(mn,m,"TestLoadImage: loaded",!0,p,k),k.onerror=Q(mn,m,"TestLoadImage: error",!1,p,k),k.onabort=Q(mn,m,"TestLoadImage: abort",!1,p,k),k.ontimeout=Q(mn,m,"TestLoadImage: timeout",!1,p,k),y.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else p(!1)}function An(u,p){const m=new fn,k=new AbortController,L=setTimeout(()=>{k.abort(),mn(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:k.signal}).then(V=>{clearTimeout(L),V.ok?mn(m,"TestPingServer: ok",!0,p):mn(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),mn(m,"TestPingServer: error",!1,p)})}function mn(u,p,m,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(m)}catch{}}function Pi(){this.g=new Ei}function Un(u,p,m){const k=m||"";try{Ps(u,function(L,V){let Y=L;b(L)&&(Y=Tn(L)),p.push(k+V+"="+encodeURIComponent(Y))})}catch(L){throw p.push(k+"type="+encodeURIComponent("_badmap")),L}}function Fr(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Fr,Es),Fr.prototype.g=function(){return new ur(this.l,this.j)},Fr.prototype.i=function(u){return function(){return u}}({});function ur(u,p){rt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(ur,rt),s=ur.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||y).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Os(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Os(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Vn(this):jn(this),this.readyState==3&&Os(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Vn(this))},s.Qa=function(u){this.g&&(this.response=u,Vn(this))},s.ga=function(){this.g&&Vn(this)};function Vn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}s.setRequestHeader=function(u,p){this.u.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fs(u){let p="";return ze(u,function(m,k){p+=k,p+=":",p+=m,p+=`\r
`}),p}function Et(u,p,m){e:{for(k in m){var k=!1;break e}k=!0}k||(m=Fs(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):He(u,p,m))}function Ue(u){rt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Ue,rt);var ba=/^https?$/i,Ri=["POST","PUT"];s=Ue.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,p,m,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?_s(this.o):_s(Ln),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){hl(this,V);return}if(u=m||"",m=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)m.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())m.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),L=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Ri,p,void 0))||k||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Y]of m)this.g.setRequestHeader(V,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mi(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){hl(this,V)}};function hl(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,wa(u),$n(u)}function wa(u){u.A||(u.A=!0,je(u,"complete"),je(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,je(this,"complete"),je(this,"abort"),$n(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Ue.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},s.bb=function(){ka(this)};function ka(u){if(u.h&&typeof d<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)Ut(u.Ea,0,u);else if(je(u,"readystatechange"),gn(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var k;if(k=Y===0){var L=String(u.D).match(Ai)[1]||null;!L&&y.self&&y.self.location&&(L=y.self.location.protocol.slice(0,-1)),k=!ba.test(L?L.toLowerCase():"")}m=k}if(m)je(u,"complete"),je(u,"success");else{u.m=6;try{var V=2<gn(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",wa(u)}}finally{$n(u)}}}}function $n(u,p){if(u.g){Mi(u);const m=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||je(u,"ready");try{m.onreadystatechange=k}catch{}}}function Mi(u){u.I&&(y.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ha(p)}};function fl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wc(u){const p={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(be(u[k]))continue;var m=x(u[k]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=p[L]||[];p[L]=V,V.push(m)}P(p,function(k){return k.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function Sa(u){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Li("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Li("baseRetryDelayMs",5e3,u),this.cb=Li("retryDelaySeedMs",1e4,u),this.Wa=Li("forwardChannelMaxRetries",2,u),this.wa=Li("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ir(u&&u.concurrentRequestLimit),this.Da=new Pi,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Sa.prototype,s.la=8,s.G=1,s.connect=function(u,p,m,k){Ye(0),this.W=u,this.H=p||{},m&&k!==void 0&&(this.H.OSID=m,this.H.OAID=k),this.F=this.X,this.I=bl(this,null,this.W),_a(this)};function zs(u){if(dl(u),u.G==3){var p=u.U++,m=tn(u.I);if(He(m,"SID",u.K),He(m,"RID",p),He(m,"TYPE","terminate"),Oi(u,m),p=new Gt(u,u.j,p),p.L=2,p.v=Di(tn(m)),m=!1,y.navigator&&y.navigator.sendBeacon)try{m=y.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&y.Image&&(new Image().src=p.v,m=!0),m||(p.g=wl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ti(p)}vl(u)}function Ea(u){u.g&&(Fi(u),u.g.cancel(),u.g=null)}function dl(u){Ea(u),u.u&&(y.clearTimeout(u.u),u.u=null),Ta(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function _a(u){if(!pa(u.h)&&!u.s){u.s=!0;var p=u.Ga;Z||I(),oe||(Z(),oe=!0),Me.add(p,u),u.B=0}}function kc(u,p){return ma(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ct(j(u.Ga,u,p),js(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Gt(this,this.j,u);let V=this.o;if(this.S&&(V?(V=E(V),N(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var k=this.i[m];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(p+=k,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=pl(this,L,p),m=tn(this.I),He(m,"RID",u),He(m,"CVER",22),this.D&&He(m,"X-HTTP-Session-Id",this.D),Oi(this,m),V&&(this.O?p="headers="+encodeURIComponent(String(Fs(V)))+"&"+p:this.m&&Et(m,this.m,V)),ga(this.h,L),this.Ua&&He(m,"TYPE","init"),this.P?(He(m,"$req",p),He(m,"SID","null"),L.T=!0,Cn(L,m,null)):Cn(L,m,p),this.G=2}}else this.G==3&&(u?Us(this,u):this.i.length==0||pa(this.h)||Us(this))};function Us(u,p){var m;p?m=p.l:m=u.U++;const k=tn(u.I);He(k,"SID",u.K),He(k,"RID",m),He(k,"AID",u.T),Oi(u,k),u.m&&u.o&&Et(k,u.m,u.o),m=new Gt(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=pl(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ga(u.h,m),Cn(m,k,p)}function Oi(u,p){u.H&&ze(u.H,function(m,k){He(p,k,m)}),u.l&&Ps({},function(m,k){He(p,k,m)})}function pl(u,p,m){m=Math.min(u.i.length,m);var k=u.l?j(u.l.Na,u.l,u):null;e:{var L=u.i;let V=-1;for(;;){const Y=["count="+m];V==-1?0<m?(V=L[0].g,Y.push("ofs="+V)):V=0:Y.push("ofs="+V);let Pe=!0;for(let yt=0;yt<m;yt++){let Le=L[yt].g;const _t=L[yt].map;if(Le-=V,0>Le)V=Math.max(0,L[yt].g-100),Pe=!1;else try{Un(_t,Y,"req"+Le+"_")}catch{k&&k(_t)}}if(Pe){k=Y.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,k}function ml(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Z||I(),oe||(Z(),oe=!0),Me.add(p,u),u.v=0}}function Vs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ct(j(u.Fa,u),js(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ct(j(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),Ea(this),gl(this))};function Fi(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function gl(u){u.g=new Gt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=tn(u.qa);He(p,"RID","rpc"),He(p,"SID",u.K),He(p,"AID",u.T),He(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(p,"TO",u.ja),He(p,"TYPE","xmlhttp"),Oi(u,p),u.m&&u.o&&Et(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Di(tn(p)),m.m=null,m.P=!0,rr(m,u)}s.Za=function(){this.C!=null&&(this.C=null,Ea(this),Vs(this),Ye(19))};function Ta(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function yl(u,p){var m=null;if(u.g==p){Ta(u),Fi(u),u.g=null;var k=2}else if(Ns(u.h,p))m=p.D,Kt(u.h,p),k=1;else return;if(u.G!=0){if(p.o)if(k==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;k=xr(),je(k,new mt(k,m)),_a(u)}else ml(u);else if(L=p.s,L==3||L==0&&0<p.X||!(k==1&&kc(u,p)||k==2&&Vs(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),L){case 1:cr(u,5);break;case 4:cr(u,10);break;case 3:cr(u,6);break;default:cr(u,2)}}}function js(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function cr(u,p){if(u.j.info("Error code "+p),p==2){var m=j(u.fb,u),k=u.Xa;const L=!k;k=new gt(k||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Ii(k,"https"),Di(k),L?xi(k.toString(),m):An(k.toString(),m)}else Ye(2);u.G=0,u.l&&u.l.sa(p),vl(u),dl(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function vl(u){if(u.G=0,u.ka=[],u.l){const p=xs(u.h);(p.length!=0||u.i.length!=0)&&(ee(u.ka,p),ee(u.ka,u.i),u.h.i.length=0,ne(u.i),u.i.length=0),u.l.ra()}}function bl(u,p,m){var k=m instanceof gt?tn(m):new gt(m);if(k.g!="")p&&(k.g=p+"."+k.g),Or(k,k.s);else{var L=y.location;k=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var V=new gt(null);k&&Ii(V,k),p&&(V.g=p),L&&Or(V,L),m&&(V.l=m),k=V}return m=u.D,p=u.ya,m&&p&&He(k,m,p),He(k,"VER",u.la),Oi(u,k),k}function wl(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ue(new Fr({eb:m})):new Ue(u.pa),p.Ha(u.J),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function kl(){}s=kl.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ca(){}Ca.prototype.g=function(u,p){return new Wt(u,p)};function Wt(u,p){rt.call(this),this.g=new Sa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!be(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!be(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Bn(this)}J(Wt,rt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){zs(this.g)},Wt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Tn(u),u=m);p.i.push(new ll(p.Ya++,u)),p.G==3&&_a(p)},Wt.prototype.N=function(){this.g.l=null,delete this.j,zs(this.g),delete this.g,Wt.aa.N.call(this)};function Sl(u){tr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}J(Sl,tr);function El(){Cs.call(this),this.status=1}J(El,Cs);function Bn(u){this.g=u}J(Bn,kl),Bn.prototype.ua=function(){je(this.g,"a")},Bn.prototype.ta=function(u){je(this.g,new Sl(u))},Bn.prototype.sa=function(u){je(this.g,new El)},Bn.prototype.ra=function(){je(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,Tv=function(){return new Ca},_v=function(){return xr()},Ev=Mn,If={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Du=Mr,nr.COMPLETE="complete",Sv=nr,Ts.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",rt.prototype.listen=rt.prototype.K,xo=Ts,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,kv=Ue}).apply(typeof _u<"u"?_u:typeof self<"u"?self:typeof window<"u"?window:{});const uy="@firebase/firestore",cy="4.7.16";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ms="11.8.1";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ra=new pv("@firebase/firestore");function ts(){return ra.logLevel}function re(s,...t){if(ra.logLevel<=xe.DEBUG){const r=t.map(Qf);ra.debug(`Firestore (${ms}): ${s}`,...r)}}function Ir(s,...t){if(ra.logLevel<=xe.ERROR){const r=t.map(Qf);ra.error(`Firestore (${ms}): ${s}`,...r)}}function os(s,...t){if(ra.logLevel<=xe.WARN){const r=t.map(Qf);ra.warn(`Firestore (${ms}): ${s}`,...r)}}function Qf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fe(s,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,Cv(s,a,r)}function Cv(s,t,r){let a=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw Ir(a),new Error(a)}function Ve(s,t,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,s||Cv(t,l,a)}function ge(s,t){return s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ps{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ta{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Av{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ek{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Bt.UNAUTHENTICATED))}shutdown(){}}class _k{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Tk{constructor(t){this.t=t,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ve(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,r(v)):Promise.resolve();let f=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ta,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const v=f;t.enqueueRetryable(async()=>{await v.promise,await l(this.currentUser)})},y=v=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ta)}},0),d()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ve(typeof a.accessToken=="string",31837,{l:a}),new Av(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ve(t===null||typeof t=="string",2055,{h:t}),new Bt(t)}}class Ck{constructor(t,r,a){this.P=t,this.T=r,this.I=a,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ak{constructor(t,r,a){this.P=t,this.T=r,this.I=a}getToken(){return Promise.resolve(new Ck(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ik{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sk(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ve(this.o===void 0,3512);const a=f=>{f.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?r(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>a(f))};const l=f=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?l(f):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ve(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new hy(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dk(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<s;a++)r[a]=Math.floor(256*Math.random());return r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Iv(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Dk(40);for(let f=0;f<l.length;++f)a.length<20&&l[f]<r&&(a+=t.charAt(l[f]%62))}return a}}function Ee(s,t){return s<t?-1:s>t?1:0}function Df(s,t){let r=0;for(;r<s.length&&r<t.length;){const a=s.codePointAt(r),l=t.codePointAt(r);if(a!==l){if(a<128&&l<128)return Ee(a,l);{const f=Iv(),d=Nk(f.encode(fy(s,r)),f.encode(fy(t,r)));return d!==0?d:Ee(a,l)}}r+=a>65535?2:1}return Ee(s.length,t.length)}function fy(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function Nk(s,t){for(let r=0;r<s.length&&r<t.length;++r)if(s[r]!==t[r])return Ee(s[r],t[r]);return Ee(s.length,t.length)}function ls(s,t,r){return s.length===t.length&&s.every((a,l)=>r(a,t[l]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dy=-62135596800,py=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(t){return wt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*py);return new wt(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<dy)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/py}_compareTo(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-dy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class me{static fromTimestamp(t){return new me(t)}static min(){return new me(new wt(0,0))}static max(){return new me(new wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const my="__name__";class Qn{constructor(t,r,a){r===void 0?r=0:r>t.length&&fe(637,{offset:r,range:t.length}),a===void 0?a=t.length-r:a>t.length-r&&fe(1746,{length:a,range:t.length-r}),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return Qn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Qn?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let l=0;l<a;l++){const f=Qn.compareSegments(t.get(l),r.get(l));if(f!==0)return f}return Ee(t.length,r.length)}static compareSegments(t,r){const a=Qn.isNumericId(t),l=Qn.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?Qn.extractNumericId(t).compare(Qn.extractNumericId(r)):Df(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return li.fromString(t.substring(4,t.length-2))}}class Je extends Qn{construct(t,r,a){return new Je(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new Je(r)}static emptyPath(){return new Je([])}}const xk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Qn{construct(t,r,a){return new Ft(t,r,a)}static isValidIdentifier(t){return xk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===my}static keyField(){return new Ft([my])}static fromServerFormat(t){const r=[];let a="",l=0;const f=()=>{if(a.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(f(),l++)}if(f(),d)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ft(r)}static emptyPath(){return new Ft([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class le{constructor(t){this.path=t}static fromPath(t){return new le(Je.fromString(t))}static fromName(t){return new le(Je.fromString(t).popFirst(5))}static empty(){return new le(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Je.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Je.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new Je(t.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bo=-1;function Pk(s,t){const r=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=me.fromTimestamp(a===1e9?new wt(r+1,0):new wt(r,a));return new ci(l,le.empty(),t)}function Rk(s){return new ci(s.readTime,s.key,Bo)}class ci{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new ci(me.min(),le.empty(),Bo)}static max(){return new ci(me.max(),le.empty(),Bo)}}function Mk(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=le.comparator(s.documentKey,t.documentKey),r!==0?r:Ee(s.largestBatchId,t.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ok{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function gs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==Lk)throw s;re("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new G((a,l)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(a,l)},this.catchCallback=f=>{this.wrapFailure(r,f).next(a,l)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof G?r:G.resolve(r)}catch(r){return G.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):G.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):G.reject(r)}static resolve(t){return new G((r,a)=>{r(t)})}static reject(t){return new G((r,a)=>{a(t)})}static waitFor(t){return new G((r,a)=>{let l=0,f=0,d=!1;t.forEach(y=>{++l,y.next(()=>{++f,d&&f===l&&r()},v=>a(v))}),d=!0,f===l&&r()})}static or(t){let r=G.resolve(!1);for(const a of t)r=r.next(l=>l?G.resolve(l):a());return r}static forEach(t,r){const a=[];return t.forEach((l,f)=>{a.push(r.call(this,l,f))}),this.waitFor(a)}static mapArray(t,r){return new G((a,l)=>{const f=t.length,d=new Array(f);let y=0;for(let v=0;v<f;v++){const b=v;r(t[b]).next(S=>{d[b]=S,++y,y===f&&a(d)},S=>l(S))}})}static doWhile(t,r){return new G((a,l)=>{const f=()=>{t()===!0?r().next(()=>{f()},l):a()};f()})}}function Fk(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ys(s){return s.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zu{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>r.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Zu.le=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xf=-1;function ec(s){return s==null}function Vu(s){return s===0&&1/s==-1/0}function zk(s){return typeof s=="number"&&Number.isInteger(s)&&!Vu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nv="";function Uk(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=gy(t)),t=Vk(s.get(r),t);return gy(t)}function Vk(s,t){let r=t;const a=s.length;for(let l=0;l<a;l++){const f=s.charAt(l);switch(f){case"\0":r+="";break;case Nv:r+="";break;default:r+=f}}return r}function gy(s){return s+Nv+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yy(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function aa(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function xv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tt{constructor(t,r){this.comparator=t,this.root=r||Ot.EMPTY}insert(t,r){return new tt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(t){return new tt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tu(this.root,t,this.comparator,!0)}}class Tu{constructor(t,r,a,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=r?a(t.key,r):1,r&&l&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(f===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ot{constructor(t,r,a,l,f){this.key=t,this.value=r,this.color=a??Ot.RED,this.left=l??Ot.EMPTY,this.right=f??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,l,f){return new Ot(t??this.key,r??this.value,a??this.color,l??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let l=this;const f=a(t,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(t,r,a),null):f===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return Ot.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw fe(27949);return t+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(s,t,r,a,l){return this}insert(s,t,r){return new Ot(s,t)}remove(s,t){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kt{constructor(t){this.comparator=t,this.data=new tt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new vy(this.data.getIterator())}getIteratorFrom(t){return new vy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof kt)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=a.getNext().key;if(this.comparator(l,f)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new kt(this.comparator);return r.data=t,r}}class vy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xn{constructor(t){this.fields=t,t.sort(Ft.comparator)}static empty(){return new xn([])}unionWith(t){let r=new kt(Ft.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new xn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return ls(this.fields,t.fields,(r,a)=>r.isEqual(a))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Pv("Invalid base64 string: "+l):l}}(t);return new zt(r)}static fromUint8Array(t){const r=function(a){let l="";for(let f=0;f<a.length;++f)l+=String.fromCharCode(a[f]);return l}(t);return new zt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ee(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(s){if(Ve(!!s,39018),typeof s=="string"){let t=0;const r=jk.exec(s);if(Ve(!!r,46558,{timestamp:s}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ut(s.seconds),nanos:ut(s.nanos)}}function ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fi(s){return typeof s=="string"?zt.fromBase64String(s):zt.fromUint8Array(s)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rv="server_timestamp",Mv="__type__",Lv="__previous_value__",Ov="__local_write_time__";function Jf(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[Mv])===null||r===void 0?void 0:r.stringValue)===Rv}function tc(s){const t=s.mapValue.fields[Lv];return Jf(t)?tc(t):t}function Ho(s){const t=hi(s.mapValue.fields[Ov].timestampValue);return new wt(t.seconds,t.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $k{constructor(t,r,a,l,f,d,y,v,b,S){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=b,this.isUsingEmulator=S}}const ju="(default)";class qo{constructor(t,r){this.projectId=t,this.database=r||ju}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database===ju}isEqual(t){return t instanceof qo&&t.projectId===this.projectId&&t.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fv="__type__",Bk="__max__",Cu={mapValue:{}},zv="__vector__",$u="value";function di(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Jf(s)?4:qk(s)?9007199254740991:Hk(s)?10:11:fe(28295,{value:s})}function Yn(s,t){if(s===t)return!0;const r=di(s);if(r!==di(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ho(s).isEqual(Ho(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const f=hi(a.timestampValue),d=hi(l.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(a,l){return fi(a.bytesValue).isEqual(fi(l.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(a,l){return ut(a.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(a.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(s,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return ut(a.integerValue)===ut(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const f=ut(a.doubleValue),d=ut(l.doubleValue);return f===d?Vu(f)===Vu(d):isNaN(f)&&isNaN(d)}return!1}(s,t);case 9:return ls(s.arrayValue.values||[],t.arrayValue.values||[],Yn);case 10:case 11:return function(a,l){const f=a.mapValue.fields||{},d=l.mapValue.fields||{};if(yy(f)!==yy(d))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(d[y]===void 0||!Yn(f[y],d[y])))return!1;return!0}(s,t);default:return fe(52216,{left:s})}}function Go(s,t){return(s.values||[]).find(r=>Yn(r,t))!==void 0}function us(s,t){if(s===t)return 0;const r=di(s),a=di(t);if(r!==a)return Ee(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ee(s.booleanValue,t.booleanValue);case 2:return function(l,f){const d=ut(l.integerValue||l.doubleValue),y=ut(f.integerValue||f.doubleValue);return d<y?-1:d>y?1:d===y?0:isNaN(d)?isNaN(y)?0:-1:1}(s,t);case 3:return by(s.timestampValue,t.timestampValue);case 4:return by(Ho(s),Ho(t));case 5:return Df(s.stringValue,t.stringValue);case 6:return function(l,f){const d=fi(l),y=fi(f);return d.compareTo(y)}(s.bytesValue,t.bytesValue);case 7:return function(l,f){const d=l.split("/"),y=f.split("/");for(let v=0;v<d.length&&v<y.length;v++){const b=Ee(d[v],y[v]);if(b!==0)return b}return Ee(d.length,y.length)}(s.referenceValue,t.referenceValue);case 8:return function(l,f){const d=Ee(ut(l.latitude),ut(f.latitude));return d!==0?d:Ee(ut(l.longitude),ut(f.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return wy(s.arrayValue,t.arrayValue);case 10:return function(l,f){var d,y,v,b;const S=l.fields||{},A=f.fields||{},j=(d=S[$u])===null||d===void 0?void 0:d.arrayValue,Q=(y=A[$u])===null||y===void 0?void 0:y.arrayValue,J=Ee(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((b=Q==null?void 0:Q.values)===null||b===void 0?void 0:b.length)||0);return J!==0?J:wy(j,Q)}(s.mapValue,t.mapValue);case 11:return function(l,f){if(l===Cu.mapValue&&f===Cu.mapValue)return 0;if(l===Cu.mapValue)return 1;if(f===Cu.mapValue)return-1;const d=l.fields||{},y=Object.keys(d),v=f.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const A=Df(y[S],b[S]);if(A!==0)return A;const j=us(d[y[S]],v[b[S]]);if(j!==0)return j}return Ee(y.length,b.length)}(s.mapValue,t.mapValue);default:throw fe(23264,{Pe:r})}}function by(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ee(s,t);const r=hi(s),a=hi(t),l=Ee(r.seconds,a.seconds);return l!==0?l:Ee(r.nanos,a.nanos)}function wy(s,t){const r=s.values||[],a=t.values||[];for(let l=0;l<r.length&&l<a.length;++l){const f=us(r[l],a[l]);if(f)return f}return Ee(r.length,a.length)}function cs(s){return Nf(s)}function Nf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const r=hi(t);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return fi(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return le.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Nf(l);return r+"]"}(s.arrayValue):"mapValue"in s?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const f of r)l?l=!1:a+=",",a+=`${f}:${Nf(t.fields[f])}`;return a+"}"}(s.mapValue):fe(61005,{value:s})}function Nu(s){switch(di(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tc(s);return t?16+Nu(t):16;case 5:return 2*s.stringValue.length;case 6:return fi(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Nu(l),0)}(s.arrayValue);case 10:case 11:return function(r){let a=0;return aa(r.fields,(l,f)=>{a+=l.length+Nu(f)}),a}(s.mapValue);default:throw fe(13486,{value:s})}}function ky(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function xf(s){return!!s&&"integerValue"in s}function Yf(s){return!!s&&"arrayValue"in s}function Sy(s){return!!s&&"nullValue"in s}function Ey(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function xu(s){return!!s&&"mapValue"in s}function Hk(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[Fv])===null||r===void 0?void 0:r.stringValue)===zv}function Oo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return aa(s.mapValue.fields,(r,a)=>t.mapValue.fields[r]=Oo(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Oo(s.arrayValue.values[r]);return t}return Object.assign({},s)}function qk(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Bk}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!xu(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oo(r)}setAll(t){let r=Ft.emptyPath(),a={},l=[];t.forEach((d,y)=>{if(!r.isImmediateParentOf(y)){const v=this.getFieldsMap(r);this.applyChanges(v,a,l),a={},l=[],r=y.popLast()}d?a[y.lastSegment()]=Oo(d):l.push(y.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,a,l)}delete(t){const r=this.field(t.popLast());xu(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Yn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=r.mapValue.fields[t.get(a)];xu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,a){aa(r,(l,f)=>t[l]=f);for(const l of a)delete t[l]}clone(){return new _n(Oo(this.value))}}function Uv(s){const t=[];return aa(s.fields,(r,a)=>{const l=new Ft([r]);if(xu(a)){const f=Uv(a.mapValue).fields;if(f.length===0)t.push(l);else for(const d of f)t.push(l.child(d))}else t.push(l)}),new xn(t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qt{constructor(t,r,a,l,f,d,y){this.key=t,this.documentType=r,this.version=a,this.readTime=l,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(t){return new qt(t,0,me.min(),me.min(),me.min(),_n.empty(),0)}static newFoundDocument(t,r,a,l){return new qt(t,1,r,me.min(),a,l,0)}static newNoDocument(t,r){return new qt(t,2,r,me.min(),me.min(),_n.empty(),0)}static newUnknownDocument(t,r){return new qt(t,3,r,me.min(),me.min(),_n.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof qt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bu{constructor(t,r){this.position=t,this.inclusive=r}}function _y(s,t,r){let a=0;for(let l=0;l<s.position.length;l++){const f=t[l],d=s.position[l];if(f.field.isKeyField()?a=le.comparator(le.fromName(d.referenceValue),r.key):a=us(d,r.data.field(f.field)),f.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ty(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!Yn(s.position[r],t.position[r]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hu{constructor(t,r="asc"){this.field=t,this.dir=r}}function Gk(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vv{}class pt extends Vv{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new Wk(t,r,a):r==="array-contains"?new Jk(t,a):r==="in"?new Yk(t,a):r==="not-in"?new Zk(t,a):r==="array-contains-any"?new e2(t,a):new pt(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new Qk(t,a):new Xk(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(us(r,this.value)):r!==null&&di(this.value)===di(r)&&this.matchesComparison(us(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends Vv{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new Pn(t,r)}matches(t){return jv(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function jv(s){return s.op==="and"}function $v(s){return Kk(s)&&jv(s)}function Kk(s){for(const t of s.filters)if(t instanceof Pn)return!1;return!0}function Pf(s){if(s instanceof pt)return s.field.canonicalString()+s.op.toString()+cs(s.value);if($v(s))return s.filters.map(t=>Pf(t)).join(",");{const t=s.filters.map(r=>Pf(r)).join(",");return`${s.op}(${t})`}}function Bv(s,t){return s instanceof pt?function(r,a){return a instanceof pt&&r.op===a.op&&r.field.isEqual(a.field)&&Yn(r.value,a.value)}(s,t):s instanceof Pn?function(r,a){return a instanceof Pn&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,f,d)=>l&&Bv(f,a.filters[d]),!0):!1}(s,t):void fe(19439)}function Hv(s){return s instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${cs(t.value)}`}(s):s instanceof Pn?function(t){return t.op.toString()+" {"+t.getFilters().map(Hv).join(" ,")+"}"}(s):"Filter"}class Wk extends pt{constructor(t,r,a){super(t,r,a),this.key=le.fromName(a.referenceValue)}matches(t){const r=le.comparator(t.key,this.key);return this.matchesComparison(r)}}class Qk extends pt{constructor(t,r){super(t,"in",r),this.keys=qv("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Xk extends pt{constructor(t,r){super(t,"not-in",r),this.keys=qv("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function qv(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>le.fromName(a.referenceValue))}class Jk extends pt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Yf(r)&&Go(r.arrayValue,this.value)}}class Yk extends pt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Go(this.value.arrayValue,r)}}class Zk extends pt{constructor(t,r){super(t,"not-in",r)}matches(t){if(Go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Go(this.value.arrayValue,r)}}class e2 extends pt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Yf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Go(this.value.arrayValue,a))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t2{constructor(t,r=null,a=[],l=[],f=null,d=null,y=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=f,this.startAt=d,this.endAt=y,this.Ie=null}}function Cy(s,t=null,r=[],a=[],l=null,f=null,d=null){return new t2(s,t,r,a,l,f,d)}function Zf(s){const t=ge(s);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>Pf(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),ec(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>cs(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>cs(a)).join(",")),t.Ie=r}return t.Ie}function ed(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!Gk(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!Bv(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Ty(s.startAt,t.startAt)&&Ty(s.endAt,t.endAt)}function Rf(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qo{constructor(t,r=null,a=[],l=[],f=null,d="F",y=null,v=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function n2(s,t,r,a,l,f,d,y){return new Qo(s,t,r,a,l,f,d,y)}function td(s){return new Qo(s)}function Ay(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Gv(s){return s.collectionGroup!==null}function Fo(s){const t=ge(s);if(t.Ee===null){t.Ee=[];const r=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),r.add(l.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let f=new kt(Ft.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(t).forEach(l=>{r.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Hu(l,a))}),r.has(Ft.keyField().canonicalString())||t.Ee.push(new Hu(Ft.keyField(),a))}return t.Ee}function Xn(s){const t=ge(s);return t.de||(t.de=r2(t,Fo(s))),t.de}function r2(s,t){if(s.limitType==="F")return Cy(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const f=l.dir==="desc"?"asc":"desc";return new Hu(l.field,f)});const r=s.endAt?new Bu(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Bu(s.startAt.position,s.startAt.inclusive):null;return Cy(s.path,s.collectionGroup,t,s.filters,s.limit,r,a)}}function Mf(s,t){const r=s.filters.concat([t]);return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),r,s.limit,s.limitType,s.startAt,s.endAt)}function Lf(s,t,r){return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function nc(s,t){return ed(Xn(s),Xn(t))&&s.limitType===t.limitType}function Kv(s){return`${Zf(Xn(s))}|lt:${s.limitType}`}function ns(s){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>Hv(a)).join(", ")}]`),ec(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>cs(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>cs(a)).join(",")),`Target(${r})`}(Xn(s))}; limitType=${s.limitType})`}function rc(s,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):le.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(s,t)&&function(r,a){for(const l of Fo(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(s,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(s,t)&&function(r,a){return!(r.startAt&&!function(l,f,d){const y=_y(l,f,d);return l.inclusive?y<=0:y<0}(r.startAt,Fo(r),a)||r.endAt&&!function(l,f,d){const y=_y(l,f,d);return l.inclusive?y>=0:y>0}(r.endAt,Fo(r),a))}(s,t)}function i2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Wv(s){return(t,r)=>{let a=!1;for(const l of Fo(s)){const f=a2(l,t,r);if(f!==0)return f;a=a||l.field.isKeyField()}return 0}}function a2(s,t,r){const a=s.field.isKeyField()?le.comparator(t.key,r.key):function(l,f,d){const y=f.data.field(l),v=d.data.field(l);return y!==null&&v!==null?us(y,v):fe(42886)}(s.field,t,r);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return fe(19790,{direction:s.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sa{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[l,f]of a)if(this.equalsFn(l,t))return f}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],t))return void(l[f]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){aa(this.inner,(r,a)=>{for(const[l,f]of a)t(l,f)})}isEmpty(){return xv(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s2=new tt(le.comparator);function Dr(){return s2}const Qv=new tt(le.comparator);function Po(...s){let t=Qv;for(const r of s)t=t.insert(r.key,r);return t}function Xv(s){let t=Qv;return s.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function ea(){return zo()}function Jv(){return zo()}function zo(){return new sa(s=>s.toString(),(s,t)=>s.isEqual(t))}const o2=new tt(le.comparator),l2=new kt(le.comparator);function Ie(...s){let t=l2;for(const r of s)t=t.add(r);return t}const u2=new kt(Ee);function c2(){return u2}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nd(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(t)?"-0":t}}function Yv(s){return{integerValue:""+s}}function h2(s,t){return zk(t)?Yv(t):nd(s,t)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ic{constructor(){this._=void 0}}function f2(s,t,r){return s instanceof qu?function(a,l){const f={fields:{[Mv]:{stringValue:Rv},[Ov]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jf(l)&&(l=tc(l)),l&&(f.fields[Lv]=l),{mapValue:f}}(r,t):s instanceof Ko?e0(s,t):s instanceof Wo?t0(s,t):function(a,l){const f=Zv(a,l),d=Iy(f)+Iy(a.Re);return xf(f)&&xf(a.Re)?Yv(d):nd(a.serializer,d)}(s,t)}function d2(s,t,r){return s instanceof Ko?e0(s,t):s instanceof Wo?t0(s,t):r}function Zv(s,t){return s instanceof Gu?function(r){return xf(r)||function(a){return!!a&&"doubleValue"in a}(r)}(t)?t:{integerValue:0}:null}class qu extends ic{}class Ko extends ic{constructor(t){super(),this.elements=t}}function e0(s,t){const r=n0(t);for(const a of s.elements)r.some(l=>Yn(l,a))||r.push(a);return{arrayValue:{values:r}}}class Wo extends ic{constructor(t){super(),this.elements=t}}function t0(s,t){let r=n0(t);for(const a of s.elements)r=r.filter(l=>!Yn(l,a));return{arrayValue:{values:r}}}class Gu extends ic{constructor(t,r){super(),this.serializer=t,this.Re=r}}function Iy(s){return ut(s.integerValue||s.doubleValue)}function n0(s){return Yf(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function p2(s,t){return s.field.isEqual(t.field)&&function(r,a){return r instanceof Ko&&a instanceof Ko||r instanceof Wo&&a instanceof Wo?ls(r.elements,a.elements,Yn):r instanceof Gu&&a instanceof Gu?Yn(r.Re,a.Re):r instanceof qu&&a instanceof qu}(s.transform,t.transform)}class m2{constructor(t,r){this.version=t,this.transformResults=r}}class Cr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Cr}static exists(t){return new Cr(void 0,t)}static updateTime(t){return new Cr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pu(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ac{}function r0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new a0(s.key,Cr.none()):new Xo(s.key,s.data,Cr.none());{const r=s.data,a=_n.empty();let l=new kt(Ft.comparator);for(let f of t.fields)if(!l.has(f)){let d=r.field(f);d===null&&f.length>1&&(f=f.popLast(),d=r.field(f)),d===null?a.delete(f):a.set(f,d),l=l.add(f)}return new oa(s.key,a,new xn(l.toArray()),Cr.none())}}function g2(s,t,r){s instanceof Xo?function(a,l,f){const d=a.value.clone(),y=Ny(a.fieldTransforms,l,f.transformResults);d.setAll(y),l.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(s,t,r):s instanceof oa?function(a,l,f){if(!Pu(a.precondition,l))return void l.convertToUnknownDocument(f.version);const d=Ny(a.fieldTransforms,l,f.transformResults),y=l.data;y.setAll(i0(a)),y.setAll(d),l.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(s,t,r):function(a,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,r)}function Uo(s,t,r,a){return s instanceof Xo?function(l,f,d,y){if(!Pu(l.precondition,f))return d;const v=l.value.clone(),b=xy(l.fieldTransforms,y,f);return v.setAll(b),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null}(s,t,r,a):s instanceof oa?function(l,f,d,y){if(!Pu(l.precondition,f))return d;const v=xy(l.fieldTransforms,y,f),b=f.data;return b.setAll(i0(l)),b.setAll(v),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(s,t,r,a):function(l,f,d){return Pu(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(s,t,r)}function y2(s,t){let r=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),f=Zv(a.transform,l||null);f!=null&&(r===null&&(r=_n.empty()),r.set(a.field,f))}return r||null}function Dy(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ls(r,a,(l,f)=>p2(l,f))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Xo extends ac{constructor(t,r,a,l=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class oa extends ac{constructor(t,r,a,l,f=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function i0(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=s.data.field(r);t.set(r,a)}}),t}function Ny(s,t,r){const a=new Map;Ve(s.length===r.length,32656,{Ve:r.length,me:s.length});for(let l=0;l<r.length;l++){const f=s[l],d=f.transform,y=t.data.field(f.field);a.set(f.field,d2(d,y,r[l]))}return a}function xy(s,t,r){const a=new Map;for(const l of s){const f=l.transform,d=r.data.field(l.field);a.set(l.field,f2(f,d,t))}return a}class a0 extends ac{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v2 extends ac{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b2{constructor(t,r,a,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(t.key)&&g2(f,t,a[l])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Uo(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Uo(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=Jv();return this.mutations.forEach(l=>{const f=t.get(l.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=r.has(l.key)?null:y;const v=r0(d,y);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(me.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ie())}isEqual(t){return this.batchId===t.batchId&&ls(this.mutations,t.mutations,(r,a)=>Dy(r,a))&&ls(this.baseMutations,t.baseMutations,(r,a)=>Dy(r,a))}}class rd{constructor(t,r,a,l){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(t,r,a){Ve(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let l=function(){return o2}();const f=t.mutations;for(let d=0;d<f.length;d++)l=l.insert(f[d].key,a[d].version);return new rd(t,r,a,l)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w2{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k2{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var dt,Ne;function S2(s){switch(s){case K.OK:return fe(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return fe(15467,{code:s})}}function s0(s){if(s===void 0)return Ir("GRPC error has no .code"),K.UNKNOWN;switch(s){case dt.OK:return K.OK;case dt.CANCELLED:return K.CANCELLED;case dt.UNKNOWN:return K.UNKNOWN;case dt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case dt.INTERNAL:return K.INTERNAL;case dt.UNAVAILABLE:return K.UNAVAILABLE;case dt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case dt.NOT_FOUND:return K.NOT_FOUND;case dt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case dt.ABORTED:return K.ABORTED;case dt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case dt.DATA_LOSS:return K.DATA_LOSS;default:return fe(39323,{code:s})}}(Ne=dt||(dt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E2=new li([4294967295,4294967295],0);function Py(s){const t=Iv().encode(s),r=new wv;return r.update(t),new Uint8Array(r.digest())}function Ry(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new li([r,a],0),new li([l,f],0)]}class id{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Ro(`Invalid padding: ${r}`);if(a<0)throw new Ro(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=li.fromNumber(this.pe)}we(t,r,a){let l=t.add(r.multiply(li.fromNumber(a)));return l.compare(E2)===1&&(l=new li([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=Py(t),[a,l]=Ry(r);for(let f=0;f<this.hashCount;f++){const d=this.we(a,l,f);if(!this.Se(d))return!1}return!0}static create(t,r,a){const l=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),d=new id(f,l,r);return a.forEach(y=>d.insert(y)),d}insert(t){if(this.pe===0)return;const r=Py(t),[a,l]=Ry(r);for(let f=0;f<this.hashCount;f++){const d=this.we(a,l,f);this.be(d)}}be(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sc{constructor(t,r,a,l,f){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const l=new Map;return l.set(t,Jo.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new sc(me.min(),l,new tt(Ee),Dr(),Ie())}}class Jo{constructor(t,r,a,l,f){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Jo(a,r,Ie(),Ie(),Ie())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ru{constructor(t,r,a,l){this.De=t,this.removedTargetIds=r,this.key=a,this.ve=l}}class o0{constructor(t,r){this.targetId=t,this.Ce=r}}class l0{constructor(t,r,a=zt.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=l}}class My{constructor(){this.Fe=0,this.Me=Ly(),this.xe=zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ie(),r=Ie(),a=Ie();return this.Me.forEach((l,f)=>{switch(f){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:fe(38017,{changeType:f})}}),new Jo(this.xe,this.Oe,t,r,a)}Qe(){this.Ne=!1,this.Me=Ly()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _2{constructor(t){this.ze=t,this.je=new Map,this.He=Dr(),this.Je=Au(),this.Ye=Au(),this.Ze=new tt(Ee)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const a=this.rt(r);switch(t.state){case 0:this.it(r)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(r);break;case 3:this.it(r)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),a.ke(t.resumeToken));break;default:fe(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((a,l)=>{this.it(l)&&r(l)})}ot(t){const r=t.targetId,a=t.Ce.count,l=this._t(r);if(l){const f=l.target;if(Rf(f))if(a===0){const d=new le(f.path);this.tt(r,d,qt.newNoDocument(d,me.min()))}else Ve(a===1,20013,{expectedCount:a});else{const d=this.ut(r);if(d!==a){const y=this.ct(t),v=y?this.lt(y,t,d):1;if(v!==0){this.st(r);const b=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,b)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let d,y;try{d=fi(a).toUint8Array()}catch(v){if(v instanceof Pv)return os("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new id(d,l,f)}catch(v){return os(v instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.pe===0?null:y}lt(t,r,a){return r.Ce.count===a-this.Tt(t,r.targetId)?0:2}Tt(t,r){const a=this.ze.getRemoteKeysForTarget(r);let l=0;return a.forEach(f=>{const d=this.ze.Pt(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;t.mightContain(y)||(this.tt(r,f,null),l++)}),l}It(t){const r=new Map;this.je.forEach((f,d)=>{const y=this._t(d);if(y){if(f.current&&Rf(y.target)){const v=new le(y.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,qt.newNoDocument(v,t))}f.Le&&(r.set(d,f.qe()),f.Qe())}});let a=Ie();this.Ye.forEach((f,d)=>{let y=!0;d.forEachWhile(v=>{const b=this._t(v);return!b||b.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(a=a.add(f))}),this.He.forEach((f,d)=>d.setReadTime(t));const l=new sc(t,r,this.Ze,this.He,a);return this.He=Dr(),this.Je=Au(),this.Ye=Au(),this.Ze=new tt(Ee),l}et(t,r){if(!this.it(t))return;const a=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,a),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,a){if(!this.it(t))return;const l=this.rt(t);this.dt(t,r)?l.$e(r,1):l.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),a&&(this.He=this.He.insert(r,a))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new My,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new kt(Ee),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new kt(Ee),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||re("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new My),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function Au(){return new tt(le.comparator)}function Ly(){return new tt(le.comparator)}const T2={asc:"ASCENDING",desc:"DESCENDING"},C2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A2={and:"AND",or:"OR"};class I2{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Of(s,t){return s.useProto3Json||ec(t)?t:{value:t}}function Ku(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function u0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function D2(s,t){return Ku(s,t.toTimestamp())}function Jn(s){return Ve(!!s,49232),me.fromTimestamp(function(t){const r=hi(t);return new wt(r.seconds,r.nanos)}(s))}function ad(s,t){return Ff(s,t).canonicalString()}function Ff(s,t){const r=function(a){return new Je(["projects",a.projectId,"databases",a.database])}(s).child("documents");return t===void 0?r:r.child(t)}function c0(s){const t=Je.fromString(s);return Ve(m0(t),10190,{key:t.toString()}),t}function zf(s,t){return ad(s.databaseId,t.path)}function bf(s,t){const r=c0(t);if(r.get(1)!==s.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new le(f0(r))}function h0(s,t){return ad(s.databaseId,t)}function N2(s){const t=c0(s);return t.length===4?Je.emptyPath():f0(t)}function Uf(s){return new Je(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function f0(s){return Ve(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Oy(s,t,r){return{name:zf(s,t),fields:r.value.mapValue.fields}}function x2(s,t){let r;if("targetChange"in t){t.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:fe(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],f=function(v,b){return v.useProto3Json?(Ve(b===void 0||typeof b=="string",58123),zt.fromBase64String(b||"")):(Ve(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),zt.fromUint8Array(b||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&function(v){const b=v.code===void 0?K.UNKNOWN:s0(v.code);return new ae(b,v.message||"")}(d);r=new l0(a,l,f,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=bf(s,a.document.name),f=Jn(a.document.updateTime),d=a.document.createTime?Jn(a.document.createTime):me.min(),y=new _n({mapValue:{fields:a.document.fields}}),v=qt.newFoundDocument(l,f,d,y),b=a.targetIds||[],S=a.removedTargetIds||[];r=new Ru(b,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=bf(s,a.document),f=a.readTime?Jn(a.readTime):me.min(),d=qt.newNoDocument(l,f),y=a.removedTargetIds||[];r=new Ru([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=bf(s,a.document),f=a.removedTargetIds||[];r=new Ru([],f,l,null)}else{if(!("filter"in t))return fe(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:f}=a,d=new k2(l,f),y=a.targetId;r=new o0(y,d)}}return r}function P2(s,t){let r;if(t instanceof Xo)r={update:Oy(s,t.key,t.value)};else if(t instanceof a0)r={delete:zf(s,t.key)};else if(t instanceof oa)r={update:Oy(s,t.key,t.data),updateMask:j2(t.fieldMask)};else{if(!(t instanceof v2))return fe(16599,{ft:t.type});r={verify:zf(s,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(l,f){const d=f.transform;if(d instanceof qu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ko)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gu)return{fieldPath:f.field.canonicalString(),increment:d.Re};throw fe(20930,{transform:f.transform})}(0,a))),t.precondition.isNone||(r.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:D2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:fe(27497)}(s,t.precondition)),r}function R2(s,t){return s&&s.length>0?(Ve(t!==void 0,14353),s.map(r=>function(a,l){let f=a.updateTime?Jn(a.updateTime):Jn(l);return f.isEqual(me.min())&&(f=Jn(l)),new m2(f,a.transformResults||[])}(r,t))):[]}function M2(s,t){return{documents:[h0(s,t.path)]}}function L2(s,t){const r={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=h0(s,l);const f=function(v){if(v.length!==0)return p0(Pn.create(v,"and"))}(t.filters);f&&(r.structuredQuery.where=f);const d=function(v){if(v.length!==0)return v.map(b=>function(S){return{field:rs(S.field),direction:z2(S.dir)}}(b))}(t.orderBy);d&&(r.structuredQuery.orderBy=d);const y=Of(s,t.limit);return y!==null&&(r.structuredQuery.limit=y),t.startAt&&(r.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:r,parent:l}}function O2(s){let t=N2(s.parent);const r=s.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Ve(a===1,65062);const S=r.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let f=[];r.where&&(f=function(S){const A=d0(S);return A instanceof Pn&&$v(A)?A.getFilters():[A]}(r.where));let d=[];r.orderBy&&(d=function(S){return S.map(A=>function(j){return new Hu(is(j.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(A))}(r.orderBy));let y=null;r.limit&&(y=function(S){let A;return A=typeof S=="object"?S.value:S,ec(A)?null:A}(r.limit));let v=null;r.startAt&&(v=function(S){const A=!!S.before,j=S.values||[];return new Bu(j,A)}(r.startAt));let b=null;return r.endAt&&(b=function(S){const A=!S.before,j=S.values||[];return new Bu(j,A)}(r.endAt)),n2(t,l,d,f,y,"F",v,b)}function F2(s,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function d0(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=is(t.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=is(t.unaryFilter.field);return pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=is(t.unaryFilter.field);return pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=is(t.unaryFilter.field);return pt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(s):s.fieldFilter!==void 0?function(t){return pt.create(is(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return Pn.create(t.compositeFilter.filters.map(r=>d0(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(t.compositeFilter.op))}(s):fe(30097,{filter:s})}function z2(s){return T2[s]}function U2(s){return C2[s]}function V2(s){return A2[s]}function rs(s){return{fieldPath:s.canonicalString()}}function is(s){return Ft.fromServerFormat(s.fieldPath)}function p0(s){return s instanceof pt?function(t){if(t.op==="=="){if(Ey(t.value))return{unaryFilter:{field:rs(t.field),op:"IS_NAN"}};if(Sy(t.value))return{unaryFilter:{field:rs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ey(t.value))return{unaryFilter:{field:rs(t.field),op:"IS_NOT_NAN"}};if(Sy(t.value))return{unaryFilter:{field:rs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(t.field),op:U2(t.op),value:t.value}}}(s):s instanceof Pn?function(t){const r=t.getFilters().map(a=>p0(a));return r.length===1?r[0]:{compositeFilter:{op:V2(t.op),filters:r}}}(s):fe(54877,{filter:s})}function j2(s){const t=[];return s.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function m0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ai{constructor(t,r,a,l,f=me.min(),d=me.min(),y=zt.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new ai(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $2{constructor(t){this.wt=t}}function B2(s){const t=O2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Lf(t,t.limit,"L"):t}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H2{constructor(){this.Cn=new q2}addToCollectionParentIndex(t,r){return this.Cn.add(r),G.resolve()}getCollectionParents(t,r){return G.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return G.resolve()}deleteFieldIndex(t,r){return G.resolve()}deleteAllFieldIndexes(t){return G.resolve()}createTargetIndexes(t,r){return G.resolve()}getDocumentsMatchingTarget(t,r){return G.resolve(null)}getIndexType(t,r){return G.resolve(0)}getFieldIndexes(t,r){return G.resolve([])}getNextCollectionGroupToUpdate(t){return G.resolve(null)}getMinOffset(t,r){return G.resolve(ci.min())}getMinOffsetFromCollectionGroup(t,r){return G.resolve(ci.min())}updateCollectionGroup(t,r,a){return G.resolve()}updateIndexEntries(t,r){return G.resolve()}}class q2{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r]||new kt(Je.comparator),f=!l.has(a);return this.index[r]=l.add(a),f}has(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(t){return(this.index[t]||new kt(Je.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g0=41943040;class Zt{static withCacheSize(t){return new Zt(t,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(g0,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hs{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new hs(0)}static lr(){return new hs(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zy="LruGarbageCollector",G2=1048576;function Uy([s,t],[r,a]){const l=Ee(s,r);return l===0?Ee(t,a):l}class K2{constructor(t){this.Er=t,this.buffer=new kt(Uy),this.dr=0}Ar(){return++this.dr}Rr(t){const r=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Uy(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class W2{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){re(zy,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ys(r)?re(zy,"Ignoring IndexedDB error during garbage collection: ",r):await gs(r)}await this.mr(3e5)})}}class Q2{constructor(t,r){this.gr=t,this.params=r}calculateTargetCount(t,r){return this.gr.pr(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(r===0)return G.resolve(Zu.le);const a=new K2(r);return this.gr.forEachTarget(t,l=>a.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>a.Rr(l))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.gr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.gr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(Fy)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fy):this.wr(t,r))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,r){let a,l,f,d,y,v,b;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l))).next(A=>(a=A,y=Date.now(),this.removeTargets(t,a,r))).next(A=>(f=A,v=Date.now(),this.removeOrphanedDocuments(t,a))).next(A=>(b=Date.now(),ts()<=xe.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${A} documents in `+(b-v)+`ms
Total Duration: ${b-S}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:A})))}}function X2(s,t){return new Q2(s,t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J2{constructor(){this.changes=new sa(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,qt.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?G.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y2{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z2{constructor(t,r,a,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,r))).next(l=>(a!==null&&Uo(a.mutation,l,xn.empty(),wt.now()),l))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,Ie()).next(()=>a))}getLocalViewOfDocuments(t,r,a=Ie()){const l=ea();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,a).next(f=>{let d=Po();return f.forEach((y,v)=>{d=d.insert(y,v.overlayedDocument)}),d}))}getOverlayedDocuments(t,r){const a=ea();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,Ie()))}populateOverlays(t,r,a){const l=[];return a.forEach(f=>{r.has(f)||l.push(f)}),this.documentOverlayCache.getOverlays(t,l).next(f=>{f.forEach((d,y)=>{r.set(d,y)})})}computeViews(t,r,a,l){let f=Dr();const d=zo(),y=function(){return zo()}();return r.forEach((v,b)=>{const S=a.get(b.key);l.has(b.key)&&(S===void 0||S.mutation instanceof oa)?f=f.insert(b.key,b):S!==void 0?(d.set(b.key,S.mutation.getFieldMask()),Uo(S.mutation,b,S.mutation.getFieldMask(),wt.now())):d.set(b.key,xn.empty())}),this.recalculateAndSaveOverlays(t,f).next(v=>(v.forEach((b,S)=>d.set(b,S)),r.forEach((b,S)=>{var A;return y.set(b,new Y2(S,(A=d.get(b))!==null&&A!==void 0?A:null))}),y))}recalculateAndSaveOverlays(t,r){const a=zo();let l=new tt((d,y)=>d-y),f=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(d=>{for(const y of d)y.keys().forEach(v=>{const b=r.get(v);if(b===null)return;let S=a.get(v)||xn.empty();S=y.applyToLocalView(b,S),a.set(v,S);const A=(l.get(y.batchId)||Ie()).add(v);l=l.insert(y.batchId,A)})}).next(()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),b=v.key,S=v.value,A=Jv();S.forEach(j=>{if(!f.has(j)){const Q=r0(r.get(j),a.get(j));Q!==null&&A.set(j,Q),f=f.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(t,b,A))}return G.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,l){return function(f){return le.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):Gv(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,l):this.getDocumentsMatchingCollectionQuery(t,r,a,l)}getNextDocuments(t,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,l).next(f=>{const d=l-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,l-f.size):G.resolve(ea());let y=Bo,v=f;return d.next(b=>G.forEach(b,(S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),f.get(S)?G.resolve():this.remoteDocumentCache.getEntry(t,S).next(j=>{v=v.insert(S,j)}))).next(()=>this.populateOverlays(t,b,f)).next(()=>this.computeViews(t,v,b,Ie())).next(S=>({batchId:y,changes:Xv(S)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new le(r)).next(a=>{let l=Po();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,r,a,l){const f=r.collectionGroup;let d=Po();return this.indexManager.getCollectionParents(t,f).next(y=>G.forEach(y,v=>{const b=function(S,A){return new Qo(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(r,v.child(f));return this.getDocumentsMatchingCollectionQuery(t,b,a,l).next(S=>{S.forEach((A,j)=>{d=d.insert(A,j)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,r,a,l){let f;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,f,l))).next(d=>{f.forEach((v,b)=>{const S=b.getKey();d.get(S)===null&&(d=d.insert(S,qt.newInvalidDocument(S)))});let y=Po();return d.forEach((v,b)=>{const S=f.get(v);S!==void 0&&Uo(S.mutation,b,xn.empty(),wt.now()),rc(r,b)&&(y=y.insert(v,b))}),y})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eS{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,r){return G.resolve(this.kr.get(r))}saveBundleMetadata(t,r){return this.kr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Jn(a.createTime)}}(r)),G.resolve()}getNamedQuery(t,r){return G.resolve(this.qr.get(r))}saveNamedQuery(t,r){return this.qr.set(r.name,function(a){return{name:a.name,query:B2(a.bundledQuery),readTime:Jn(a.readTime)}}(r)),G.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tS{constructor(){this.overlays=new tt(le.comparator),this.Qr=new Map}getOverlay(t,r){return G.resolve(this.overlays.get(r))}getOverlays(t,r){const a=ea();return G.forEach(r,l=>this.getOverlay(t,l).next(f=>{f!==null&&a.set(l,f)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((l,f)=>{this.bt(t,r,f)}),G.resolve()}removeOverlaysForBatchId(t,r,a){const l=this.Qr.get(a);return l!==void 0&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.Qr.delete(a)),G.resolve()}getOverlaysForCollection(t,r,a){const l=ea(),f=r.length+1,d=new le(r.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,b=v.getKey();if(!r.isPrefixOf(b.path))break;b.path.length===f&&v.largestBatchId>a&&l.set(v.getKey(),v)}return G.resolve(l)}getOverlaysForCollectionGroup(t,r,a,l){let f=new tt((b,S)=>b-S);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===r&&b.largestBatchId>a){let S=f.get(b.largestBatchId);S===null&&(S=ea(),f=f.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const y=ea(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((b,S)=>y.set(b,S)),!(y.size()>=l)););return G.resolve(y)}bt(t,r,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(a.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new w2(r,a));let f=this.Qr.get(r);f===void 0&&(f=Ie(),this.Qr.set(r,f)),this.Qr.set(r,f.add(a.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nS{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(t){return G.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,G.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sd{constructor(){this.$r=new kt(It.Ur),this.Kr=new kt(It.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,r){const a=new It(t,r);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.zr(new It(t,r))}jr(t,r){t.forEach(a=>this.removeReference(a,r))}Hr(t){const r=new le(new Je([])),a=new It(r,t),l=new It(r,t+1),f=[];return this.Kr.forEachInRange([a,l],d=>{this.zr(d),f.push(d.key)}),f}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const r=new le(new Je([])),a=new It(r,t),l=new It(r,t+1);let f=Ie();return this.Kr.forEachInRange([a,l],d=>{f=f.add(d.key)}),f}containsKey(t){const r=new It(t,0),a=this.$r.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class It{constructor(t,r){this.key=t,this.Zr=r}static Ur(t,r){return le.comparator(t.key,r.key)||Ee(t.Zr,r.Zr)}static Wr(t,r){return Ee(t.Zr,r.Zr)||le.comparator(t.key,r.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rS{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new kt(It.Ur)}checkEmpty(t){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,l){const f=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new b2(f,r,a,l);this.mutationQueue.push(d);for(const y of l)this.Xr=this.Xr.add(new It(y.key,f)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return G.resolve(d)}lookupMutationBatch(t,r){return G.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,l=this.ti(a),f=l<0?0:l;return G.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Xf:this.nr-1)}getAllMutationBatches(t){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new It(r,0),l=new It(r,Number.POSITIVE_INFINITY),f=[];return this.Xr.forEachInRange([a,l],d=>{const y=this.ei(d.Zr);f.push(y)}),G.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new kt(Ee);return r.forEach(l=>{const f=new It(l,0),d=new It(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([f,d],y=>{a=a.add(y.Zr)})}),G.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,l=a.length+1;let f=a;le.isDocumentKey(f)||(f=f.child(""));const d=new It(new le(f),0);let y=new kt(Ee);return this.Xr.forEachWhile(v=>{const b=v.key.path;return!!a.isPrefixOf(b)&&(b.length===l&&(y=y.add(v.Zr)),!0)},d),G.resolve(this.ni(y))}ni(t){const r=[];return t.forEach(a=>{const l=this.ei(a);l!==null&&r.push(l)}),r}removeMutationBatch(t,r){Ve(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return G.forEach(r.mutations,l=>{const f=new It(l.key,r.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=a})}sr(t){}containsKey(t,r){const a=new It(r,0),l=this.Xr.firstAfterOrEqual(a);return G.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,G.resolve()}ri(t,r){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const r=this.ti(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iS{constructor(t){this.ii=t,this.docs=function(){return new tt(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,l=this.docs.get(a),f=l?l.size:0,d=this.ii(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return G.resolve(a?a.document.mutableCopy():qt.newInvalidDocument(r))}getEntries(t,r){let a=Dr();return r.forEach(l=>{const f=this.docs.get(l);a=a.insert(l,f?f.document.mutableCopy():qt.newInvalidDocument(l))}),G.resolve(a)}getDocumentsMatchingQuery(t,r,a,l){let f=Dr();const d=r.path,y=new le(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:b,value:{document:S}}=v.getNext();if(!d.isPrefixOf(b.path))break;b.path.length>d.length+1||Mk(Rk(S),a)<=0||(l.has(S.key)||rc(r,S))&&(f=f.insert(S.key,S.mutableCopy()))}return G.resolve(f)}getAllFromCollectionGroup(t,r,a,l){fe(9500)}si(t,r){return G.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new aS(this)}getSize(t){return G.resolve(this.size)}}class aS extends J2{constructor(t){super(),this.Br=t}applyChanges(t){const r=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?r.push(this.Br.addEntry(t,l)):this.Br.removeEntry(a)}),G.waitFor(r)}getFromCache(t,r){return this.Br.getEntry(t,r)}getAllFromCache(t,r){return this.Br.getEntries(t,r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sS{constructor(t){this.persistence=t,this.oi=new sa(r=>Zf(r),ed),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this._i=0,this.ai=new sd,this.targetCount=0,this.ui=hs.cr()}forEachTarget(t,r){return this.oi.forEach((a,l)=>r(l)),G.resolve()}getLastRemoteSnapshotVersion(t){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return G.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this._i&&(this._i=r),G.resolve()}Tr(t){this.oi.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ui=new hs(r),this.highestTargetId=r),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,r){return this.Tr(r),this.targetCount+=1,G.resolve()}updateTargetData(t,r){return this.Tr(r),G.resolve()}removeTargetData(t,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,G.resolve()}removeTargets(t,r,a){let l=0;const f=[];return this.oi.forEach((d,y)=>{y.sequenceNumber<=r&&a.get(y.targetId)===null&&(this.oi.delete(d),f.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)}),G.waitFor(f).next(()=>l)}getTargetCount(t){return G.resolve(this.targetCount)}getTargetData(t,r){const a=this.oi.get(r)||null;return G.resolve(a)}addMatchingKeys(t,r,a){return this.ai.Gr(r,a),G.resolve()}removeMatchingKeys(t,r,a){this.ai.jr(r,a);const l=this.persistence.referenceDelegate,f=[];return l&&r.forEach(d=>{f.push(l.markPotentiallyOrphaned(t,d))}),G.waitFor(f)}removeMatchingKeysForTargetId(t,r){return this.ai.Hr(r),G.resolve()}getMatchingKeysForTargetId(t,r){const a=this.ai.Yr(r);return G.resolve(a)}containsKey(t,r){return G.resolve(this.ai.containsKey(r))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y0{constructor(t,r){this.ci={},this.overlays={},this.li=new Zu(0),this.hi=!1,this.hi=!0,this.Pi=new nS,this.referenceDelegate=t(this),this.Ti=new sS(this),this.indexManager=new H2,this.remoteDocumentCache=function(a){return new iS(a)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new $2(r),this.Ei=new eS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new tS,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.ci[t.toKey()];return a||(a=new rS(r,this.referenceDelegate),this.ci[t.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,r,a){re("MemoryPersistence","Starting transaction:",t);const l=new oS(this.li.next());return this.referenceDelegate.di(),a(l).next(f=>this.referenceDelegate.Ai(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ri(t,r){return G.or(Object.values(this.ci).map(a=>()=>a.containsKey(t,r)))}}class oS extends Ok{constructor(t){super(),this.currentSequenceNumber=t}}class od{constructor(t){this.persistence=t,this.Vi=new sd,this.mi=null}static fi(t){return new od(t)}get gi(){if(this.mi)return this.mi;throw fe(60996)}addReference(t,r,a){return this.Vi.addReference(a,r),this.gi.delete(a.toString()),G.resolve()}removeReference(t,r,a){return this.Vi.removeReference(a,r),this.gi.add(a.toString()),G.resolve()}markPotentiallyOrphaned(t,r){return this.gi.add(r.toString()),G.resolve()}removeTarget(t,r){this.Vi.Hr(r.targetId).forEach(l=>this.gi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(l=>{l.forEach(f=>this.gi.add(f.toString()))}).next(()=>a.removeTargetData(t,r))}di(){this.mi=new Set}Ai(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.gi,a=>{const l=le.fromPath(a);return this.pi(t,l).next(f=>{f||r.removeEntry(l,me.min())})}).next(()=>(this.mi=null,r.apply(t)))}updateLimboDocument(t,r){return this.pi(t,r).next(a=>{a?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(t){return 0}pi(t,r){return G.or([()=>G.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ri(t,r)])}}class Wu{constructor(t,r){this.persistence=t,this.yi=new sa(a=>Uk(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=X2(this,r)}static fi(t,r){return new Wu(t,r)}di(){}Ai(t){return G.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}pr(t){const r=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>r.next(l=>a+l))}Sr(t){let r=0;return this.yr(t,a=>{r++}).next(()=>r)}yr(t,r){return G.forEach(this.yi,(a,l)=>this.Dr(t,a,l).next(f=>f?G.resolve():r(l)))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),f=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,r).next(y=>{y||(a++,f.removeEntry(d,me.min()))})).next(()=>f.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,r){return this.yi.set(r,t.currentSequenceNumber),G.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.yi.set(a,t.currentSequenceNumber),G.resolve()}removeReference(t,r,a){return this.yi.set(a,t.currentSequenceNumber),G.resolve()}updateLimboDocument(t,r){return this.yi.set(r,t.currentSequenceNumber),G.resolve()}Ii(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Nu(t.data.value)),r}Dr(t,r,a){return G.or([()=>this.persistence.Ri(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.yi.get(r);return G.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ld{constructor(t,r,a,l){this.targetId=t,this.fromCache=r,this.ds=a,this.As=l}static Rs(t,r){let a=Ie(),l=Ie();for(const f of r.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new ld(t,r.fromCache,a,l)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return rw()?8:Fk(tw())>0?6:4}()}initialize(t,r){this.ys=t,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(t,r,a,l){const f={result:null};return this.ws(t,r).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.Ss(t,r,l,a).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new lS;return this.bs(t,r,d).next(y=>{if(f.result=y,this.fs)return this.Ds(t,r,d,y.size)})}).next(()=>f.result)}Ds(t,r,a,l){return a.documentReadCount<this.gs?(ts()<=xe.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",ns(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),G.resolve()):(ts()<=xe.DEBUG&&re("QueryEngine","Query:",ns(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ps*l?(ts()<=xe.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",ns(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xn(r))):G.resolve())}ws(t,r){if(Ay(r))return G.resolve(null);let a=Xn(r);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=Lf(r,null,"F"),a=Xn(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(f=>{const d=Ie(...f);return this.ys.getDocuments(t,d).next(y=>this.indexManager.getMinOffset(t,a).next(v=>{const b=this.vs(r,y);return this.Cs(r,b,d,v.readTime)?this.ws(t,Lf(r,null,"F")):this.Fs(t,b,r,v)}))})))}Ss(t,r,a,l){return Ay(r)||l.isEqual(me.min())?G.resolve(null):this.ys.getDocuments(t,a).next(f=>{const d=this.vs(r,f);return this.Cs(r,d,a,l)?G.resolve(null):(ts()<=xe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ns(r)),this.Fs(t,d,r,Pk(l,Bo)).next(y=>y))})}vs(t,r){let a=new kt(Wv(t));return r.forEach((l,f)=>{rc(t,f)&&(a=a.add(f))}),a}Cs(t,r,a,l){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const f=t.limitType==="F"?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}bs(t,r,a){return ts()<=xe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ns(r)),this.ys.getDocumentsMatchingQuery(t,r,ci.min(),a)}Fs(t,r,a,l){return this.ys.getDocumentsMatchingQuery(t,a,l).next(f=>(r.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ud="LocalStore",cS=3e8;class hS{constructor(t,r,a,l){this.persistence=t,this.Ms=r,this.serializer=l,this.xs=new tt(Ee),this.Os=new sa(f=>Zf(f),ed),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(a)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Z2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.xs))}}function fS(s,t,r,a){return new hS(s,t,r,a)}async function v0(s,t){const r=ge(s);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next(f=>(l=f,r.Ls(t),r.mutationQueue.getAllMutationBatches(a))).next(f=>{const d=[],y=[];let v=Ie();for(const b of l){d.push(b.batchId);for(const S of b.mutations)v=v.add(S.key)}for(const b of f){y.push(b.batchId);for(const S of b.mutations)v=v.add(S.key)}return r.localDocuments.getDocuments(a,v).next(b=>({ks:b,removedBatchIds:d,addedBatchIds:y}))})})}function dS(s,t){const r=ge(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),f=r.Bs.newChangeBuffer({trackRemovals:!0});return function(d,y,v,b){const S=v.batch,A=S.keys();let j=G.resolve();return A.forEach(Q=>{j=j.next(()=>b.getEntry(y,Q)).next(J=>{const ne=v.docVersions.get(Q);Ve(ne!==null,48541),J.version.compareTo(ne)<0&&(S.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),b.addEntry(J)))})}),j.next(()=>d.mutationQueue.removeMutationBatch(y,S))}(r,a,t,f).next(()=>f.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let y=Ie();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(y=y.add(d.batch.mutations[v].key));return y}(t))).next(()=>r.localDocuments.getDocuments(a,l))})}function b0(s){const t=ge(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ti.getLastRemoteSnapshotVersion(r))}function pS(s,t){const r=ge(s),a=t.snapshotVersion;let l=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=r.Bs.newChangeBuffer({trackRemovals:!0});l=r.xs;const y=[];t.targetChanges.forEach((S,A)=>{const j=l.get(A);if(!j)return;y.push(r.Ti.removeMatchingKeys(f,S.removedDocuments,A).next(()=>r.Ti.addMatchingKeys(f,S.addedDocuments,A)));let Q=j.withSequenceNumber(f.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(zt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,a)),l=l.insert(A,Q),function(J,ne,ee){return J.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=cS?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(j,Q,S)&&y.push(r.Ti.updateTargetData(f,Q))});let v=Dr(),b=Ie();if(t.documentUpdates.forEach(S=>{t.resolvedLimboDocuments.has(S)&&y.push(r.persistence.referenceDelegate.updateLimboDocument(f,S))}),y.push(mS(f,d,t.documentUpdates).next(S=>{v=S.qs,b=S.Qs})),!a.isEqual(me.min())){const S=r.Ti.getLastRemoteSnapshotVersion(f).next(A=>r.Ti.setTargetsMetadata(f,f.currentSequenceNumber,a));y.push(S)}return G.waitFor(y).next(()=>d.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,v,b)).next(()=>v)}).then(f=>(r.xs=l,f))}function mS(s,t,r){let a=Ie(),l=Ie();return r.forEach(f=>a=a.add(f)),t.getEntries(s,a).next(f=>{let d=Dr();return r.forEach((y,v)=>{const b=f.get(y);v.isFoundDocument()!==b.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(me.min())?(t.removeEntry(y,v.readTime),d=d.insert(y,v)):!b.isValidDocument()||v.version.compareTo(b.version)>0||v.version.compareTo(b.version)===0&&b.hasPendingWrites?(t.addEntry(v),d=d.insert(y,v)):re(ud,"Ignoring outdated watch update for ",y,". Current version:",b.version," Watch version:",v.version)}),{qs:d,Qs:l}})}function gS(s,t){const r=ge(s);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Xf),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function yS(s,t){const r=ge(s);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.Ti.getTargetData(a,t).next(f=>f?(l=f,G.resolve(l)):r.Ti.allocateTargetId(a).next(d=>(l=new ai(t,d,"TargetPurposeListen",a.currentSequenceNumber),r.Ti.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.xs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.xs=r.xs.insert(a.targetId,a),r.Os.set(t,a.targetId)),a})}async function Vf(s,t,r){const a=ge(s),l=a.xs.get(t),f=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",f,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!ys(d))throw d;re(ud,`Failed to update sequence numbers for target ${t}: ${d}`)}a.xs=a.xs.remove(t),a.Os.delete(l.target)}function Vy(s,t,r){const a=ge(s);let l=me.min(),f=Ie();return a.persistence.runTransaction("Execute query","readwrite",d=>function(y,v,b){const S=ge(y),A=S.Os.get(b);return A!==void 0?G.resolve(S.xs.get(A)):S.Ti.getTargetData(v,b)}(a,d,Xn(t)).next(y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,y.targetId).next(v=>{f=v})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,t,r?l:me.min(),r?f:Ie())).next(y=>(vS(a,i2(t),y),{documents:y,$s:f})))}function vS(s,t,r){let a=s.Ns.get(t)||me.min();r.forEach((l,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)}),s.Ns.set(t,a)}class jy{constructor(){this.activeTargetIds=c2()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bS{constructor(){this.xo=new jy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,r,a){this.Oo[t]=r}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new jy,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wS{No(t){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $y="ConnectivityMonitor";class By{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){re($y,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){re($y,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Iu=null;function jf(){return Iu===null?Iu=function(){return 268435456+Math.round(2147483648*Math.random())}():Iu++,"0x"+Iu.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wf="RestConnection",kS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SS{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+t.host,this.Wo=`projects/${a}/databases/${l}`,this.Go=this.databaseId.database===ju?`project_id=${a}`:`project_id=${a}&database_id=${l}`}zo(t,r,a,l,f){const d=jf(),y=this.jo(t,r.toUriEncodedString());re(wf,`Sending RPC '${t}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,l,f);const{host:b}=new URL(y),S=Kf(b);return this.Jo(t,y,v,a,S).then(A=>(re(wf,`Received RPC '${t}' ${d}: `,A),A),A=>{throw os(wf,`RPC '${t}' ${d} failed with error: `,A,"url: ",y,"request:",a),A})}Yo(t,r,a,l,f,d){return this.zo(t,r,a,l,f)}Ho(t,r,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ms}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,f)=>t[f]=l),a&&a.headers.forEach((l,f)=>t[f]=l)}jo(t,r){const a=kS[t];return`${this.Ko}/v1/${r}:${a}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ES{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $t="WebChannelConnection";class _S extends SS{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,a,l,f){const d=jf();return new Promise((y,v)=>{const b=new kv;b.setWithCredentials(!0),b.listenOnce(Sv.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Du.NO_ERROR:const A=b.getResponseJson();re($t,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),y(A);break;case Du.TIMEOUT:re($t,`RPC '${t}' ${d} timed out`),v(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const j=b.getStatus();if(re($t,`RPC '${t}' ${d} failed with status:`,j,"response text:",b.getResponseText()),j>0){let Q=b.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q==null?void 0:Q.error;if(J&&J.status&&J.message){const ne=function(ee){const we=ee.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(we)>=0?we:K.UNKNOWN}(J.status);v(new ae(ne,J.message))}else v(new ae(K.UNKNOWN,"Server responded with status "+b.getStatus()))}else v(new ae(K.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:t,streamId:d,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{re($t,`RPC '${t}' ${d} completed.`)}});const S=JSON.stringify(l);re($t,`RPC '${t}' ${d} sending request:`,l),b.send(r,"POST",S,a,15)})}T_(t,r,a){const l=jf(),f=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Tv(),y=_v(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(v.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,r,a),v.encodeInitMessageHeaders=!0;const S=f.join("");re($t,`Creating RPC '${t}' stream ${l}: ${S}`,v);const A=d.createWebChannel(S,v);let j=!1,Q=!1;const J=new ES({Zo:ee=>{Q?re($t,`Not sending because RPC '${t}' stream ${l} is closed:`,ee):(j||(re($t,`Opening RPC '${t}' stream ${l} transport.`),A.open(),j=!0),re($t,`RPC '${t}' stream ${l} sending:`,ee),A.send(ee))},Xo:()=>A.close()}),ne=(ee,we,be)=>{ee.listen(we,ke=>{try{be(ke)}catch(Fe){setTimeout(()=>{throw Fe},0)}})};return ne(A,xo.EventType.OPEN,()=>{Q||(re($t,`RPC '${t}' stream ${l} transport opened.`),J.__())}),ne(A,xo.EventType.CLOSE,()=>{Q||(Q=!0,re($t,`RPC '${t}' stream ${l} transport closed`),J.u_())}),ne(A,xo.EventType.ERROR,ee=>{Q||(Q=!0,os($t,`RPC '${t}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),J.u_(new ae(K.UNAVAILABLE,"The operation could not be completed")))}),ne(A,xo.EventType.MESSAGE,ee=>{var we;if(!Q){const be=ee.data[0];Ve(!!be,16349);const ke=be,Fe=(ke==null?void 0:ke.error)||((we=ke[0])===null||we===void 0?void 0:we.error);if(Fe){re($t,`RPC '${t}' stream ${l} received error:`,Fe);const ye=Fe.status;let ze=function(E){const C=dt[E];if(C!==void 0)return s0(C)}(ye),P=Fe.message;ze===void 0&&(ze=K.INTERNAL,P="Unknown error status: "+ye+" with message "+Fe.message),Q=!0,J.u_(new ae(ze,P)),A.close()}else re($t,`RPC '${t}' stream ${l} received:`,be),J.c_(be)}}),ne(y,Ev.STAT_EVENT,ee=>{ee.stat===If.PROXY?re($t,`RPC '${t}' stream ${l} detected buffering proxy`):ee.stat===If.NOPROXY&&re($t,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{J.a_()},0),J}}function kf(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oc(s){return new I2(s,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w0{constructor(t,r,a=1e3,l=1.5,f=6e4){this.xi=t,this.timerId=r,this.I_=a,this.E_=l,this.d_=f,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const r=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),l=Math.max(0,r-a);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hy="PersistentStream";class k0{constructor(t,r,a,l,f,d,y,v){this.xi=t,this.y_=a,this.w_=l,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new w0(t,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():r&&r.code===K.RESOURCE_EXHAUSTED?(Ir(r.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.S_===r&&this.K_(a,l)},a=>{t(()=>{const l=new ae(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(l)})})}K_(t,r){const a=this.U_(this.S_);this.stream=this.G_(t,r),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{a(()=>this.W_(l))}),this.stream.onMessage(l=>{a(()=>++this.v_==1?this.z_(l):this.onNext(l))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return re(Hy,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return r=>{this.xi.enqueueAndForget(()=>this.S_===t?r():(re(Hy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TS extends k0{constructor(t,r,a,l,f,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,d),this.serializer=f}G_(t,r){return this.connection.T_("Listen",t,r)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const r=x2(this.serializer,t),a=function(l){if(!("targetChange"in l))return me.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?me.min():f.readTime?Jn(f.readTime):me.min()}(t);return this.listener.j_(r,a)}H_(t){const r={};r.database=Uf(this.serializer),r.addTarget=function(l,f){let d;const y=f.target;if(d=Rf(y)?{documents:M2(l,y)}:{query:L2(l,y).gt},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=u0(l,f.resumeToken);const v=Of(l,f.expectedCount);v!==null&&(d.expectedCount=v)}else if(f.snapshotVersion.compareTo(me.min())>0){d.readTime=Ku(l,f.snapshotVersion.toTimestamp());const v=Of(l,f.expectedCount);v!==null&&(d.expectedCount=v)}return d}(this.serializer,t);const a=F2(this.serializer,t);a&&(r.labels=a),this.L_(r)}J_(t){const r={};r.database=Uf(this.serializer),r.removeTarget=t,this.L_(r)}}class CS extends k0{constructor(t,r,a,l,f,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,d),this.serializer=f}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,r){return this.connection.T_("Write",t,r)}z_(t){return Ve(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ve(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Ve(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const r=R2(t.writeResults,t.commitTime),a=Jn(t.commitTime);return this.listener.ea(a,r)}ta(){const t={};t.database=Uf(this.serializer),this.L_(t)}Z_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>P2(this.serializer,a))};this.L_(r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AS{}class IS extends AS{constructor(t,r,a,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.na=!1}ra(){if(this.na)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,r,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.zo(t,Ff(r,a),l,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(K.UNKNOWN,f.toString())})}Yo(t,r,a,l,f){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,y])=>this.connection.Yo(t,Ff(r,a),l,d,y,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(K.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class DS{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ir(r),this.oa=!1):re("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ia="RemoteStore";class NS{constructor(t,r,a,l,f){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=f,this.Ea.No(d=>{a.enqueueAndForget(async()=>{la(this)&&(re(ia,"Restarting streams for network reachability change."),await async function(y){const v=ge(y);v.Ta.add(4),await Yo(v),v.da.set("Unknown"),v.Ta.delete(4),await lc(v)}(this))})}),this.da=new DS(a,l)}}async function lc(s){if(la(s))for(const t of s.Ia)await t(!0)}async function Yo(s){for(const t of s.Ia)await t(!1)}function S0(s,t){const r=ge(s);r.Pa.has(t.targetId)||(r.Pa.set(t.targetId,t),dd(r)?fd(r):vs(r).M_()&&hd(r,t))}function cd(s,t){const r=ge(s),a=vs(r);r.Pa.delete(t),a.M_()&&E0(r,t),r.Pa.size===0&&(a.M_()?a.N_():la(r)&&r.da.set("Unknown"))}function hd(s,t){if(s.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(me.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}vs(s).H_(t)}function E0(s,t){s.Aa.Ke(t),vs(s).J_(t)}function fd(s){s.Aa=new _2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>s.Pa.get(t)||null,Pt:()=>s.datastore.serializer.databaseId}),vs(s).start(),s.da._a()}function dd(s){return la(s)&&!vs(s).F_()&&s.Pa.size>0}function la(s){return ge(s).Ta.size===0}function _0(s){s.Aa=void 0}async function xS(s){s.da.set("Online")}async function PS(s){s.Pa.forEach((t,r)=>{hd(s,t)})}async function RS(s,t){_0(s),dd(s)?(s.da.ca(t),fd(s)):s.da.set("Unknown")}async function MS(s,t,r){if(s.da.set("Online"),t instanceof l0&&t.state===2&&t.cause)try{await async function(a,l){const f=l.cause;for(const d of l.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,f),a.Pa.delete(d),a.Aa.removeTarget(d))}(s,t)}catch(a){re(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Qu(s,a)}else if(t instanceof Ru?s.Aa.Xe(t):t instanceof o0?s.Aa.ot(t):s.Aa.nt(t),!r.isEqual(me.min()))try{const a=await b0(s.localStore);r.compareTo(a)>=0&&await function(l,f){const d=l.Aa.It(f);return d.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=l.Pa.get(v);b&&l.Pa.set(v,b.withResumeToken(y.resumeToken,f))}}),d.targetMismatches.forEach((y,v)=>{const b=l.Pa.get(y);if(!b)return;l.Pa.set(y,b.withResumeToken(zt.EMPTY_BYTE_STRING,b.snapshotVersion)),E0(l,y);const S=new ai(b.target,y,v,b.sequenceNumber);hd(l,S)}),l.remoteSyncer.applyRemoteEvent(d)}(s,r)}catch(a){re(ia,"Failed to raise snapshot:",a),await Qu(s,a)}}async function Qu(s,t,r){if(!ys(t))throw t;s.Ta.add(1),await Yo(s),s.da.set("Offline"),r||(r=()=>b0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{re(ia,"Retrying IndexedDB access"),await r(),s.Ta.delete(1),await lc(s)})}function T0(s,t){return t().catch(r=>Qu(s,r,t))}async function uc(s){const t=ge(s),r=pi(t);let a=t.ha.length>0?t.ha[t.ha.length-1].batchId:Xf;for(;LS(t);)try{const l=await gS(t.localStore,a);if(l===null){t.ha.length===0&&r.N_();break}a=l.batchId,OS(t,l)}catch(l){await Qu(t,l)}C0(t)&&A0(t)}function LS(s){return la(s)&&s.ha.length<10}function OS(s,t){s.ha.push(t);const r=pi(s);r.M_()&&r.Y_&&r.Z_(t.mutations)}function C0(s){return la(s)&&!pi(s).F_()&&s.ha.length>0}function A0(s){pi(s).start()}async function FS(s){pi(s).ta()}async function zS(s){const t=pi(s);for(const r of s.ha)t.Z_(r.mutations)}async function US(s,t,r){const a=s.ha.shift(),l=rd.from(a,t,r);await T0(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await uc(s)}async function VS(s,t){t&&pi(s).Y_&&await async function(r,a){if(function(l){return S2(l)&&l!==K.ABORTED}(a.code)){const l=r.ha.shift();pi(r).O_(),await T0(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await uc(r)}}(s,t),C0(s)&&A0(s)}async function qy(s,t){const r=ge(s);r.asyncQueue.verifyOperationInProgress(),re(ia,"RemoteStore received new credentials");const a=la(r);r.Ta.add(3),await Yo(r),a&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ta.delete(3),await lc(r)}async function jS(s,t){const r=ge(s);t?(r.Ta.delete(2),await lc(r)):t||(r.Ta.add(2),await Yo(r),r.da.set("Unknown"))}function vs(s){return s.Ra||(s.Ra=function(t,r,a){const l=ge(t);return l.ra(),new TS(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{e_:xS.bind(null,s),n_:PS.bind(null,s),i_:RS.bind(null,s),j_:MS.bind(null,s)}),s.Ia.push(async t=>{t?(s.Ra.O_(),dd(s)?fd(s):s.da.set("Unknown")):(await s.Ra.stop(),_0(s))})),s.Ra}function pi(s){return s.Va||(s.Va=function(t,r,a){const l=ge(t);return l.ra(),new CS(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:FS.bind(null,s),i_:VS.bind(null,s),X_:zS.bind(null,s),ea:US.bind(null,s)}),s.Ia.push(async t=>{t?(s.Va.O_(),await uc(s)):(await s.Va.stop(),s.ha.length>0&&(re(ia,`Stopping write stream with ${s.ha.length} pending writes`),s.ha=[]))})),s.Va}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pd{constructor(t,r,a,l,f){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=f,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,l,f){const d=Date.now()+a,y=new pd(t,r,d,l,f);return y.start(a),y}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function md(s,t){if(Ir("AsyncQueue",`${t}: ${s}`),ys(s))return new ae(K.UNAVAILABLE,`${t}: ${s}`);throw s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ss{static emptySet(t){return new ss(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||le.comparator(r.key,a.key):(r,a)=>le.comparator(r.key,a.key),this.keyedMap=Po(),this.sortedSet=new tt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ss)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=a.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new ss;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gy{constructor(){this.ma=new tt(le.comparator)}track(t){const r=t.doc.key,a=this.ma.get(r);a?t.type!==0&&a.type===3?this.ma=this.ma.insert(r,t):t.type===3&&a.type!==1?this.ma=this.ma.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ma=this.ma.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ma=this.ma.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ma=this.ma.remove(r):t.type===1&&a.type===2?this.ma=this.ma.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ma=this.ma.insert(r,{type:2,doc:t.doc}):fe(63341,{Vt:t,fa:a}):this.ma=this.ma.insert(r,t)}ga(){const t=[];return this.ma.inorderTraversal((r,a)=>{t.push(a)}),t}}class fs{constructor(t,r,a,l,f,d,y,v,b){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=b}static fromInitialDocuments(t,r,a,l,f){const d=[];return r.forEach(y=>{d.push({type:0,doc:y})}),new fs(t,r,ss.emptySet(r),d,a,l,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $S{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class BS{constructor(){this.queries=Ky(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const a=ge(t),l=a.queries;a.queries=Ky(),l.forEach((f,d)=>{for(const y of d.ya)y.onError(r)})})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function Ky(){return new sa(s=>Kv(s),nc)}async function HS(s,t){const r=ge(s);let a=3;const l=t.query;let f=r.queries.get(l);f?!f.wa()&&t.Sa()&&(a=2):(f=new $S,a=t.Sa()?0:1);try{switch(a){case 0:f.pa=await r.onListen(l,!0);break;case 1:f.pa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(d){const y=md(d,`Initialization of query '${ns(t.query)}' failed`);return void t.onError(y)}r.queries.set(l,f),f.ya.push(t),t.Da(r.onlineState),f.pa&&t.va(f.pa)&&gd(r)}async function qS(s,t){const r=ge(s),a=t.query;let l=3;const f=r.queries.get(a);if(f){const d=f.ya.indexOf(t);d>=0&&(f.ya.splice(d,1),f.ya.length===0?l=t.Sa()?0:1:!f.wa()&&t.Sa()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function GS(s,t){const r=ge(s);let a=!1;for(const l of t){const f=l.query,d=r.queries.get(f);if(d){for(const y of d.ya)y.va(l)&&(a=!0);d.pa=l}}a&&gd(r)}function KS(s,t,r){const a=ge(s),l=a.queries.get(t);if(l)for(const f of l.ya)f.onError(r);a.queries.delete(t)}function gd(s){s.ba.forEach(t=>{t.next()})}var $f,Wy;(Wy=$f||($f={})).Ca="default",Wy.Cache="cache";class WS{constructor(t,r,a){this.query=t,this.Fa=r,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new fs(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),r=!0):this.Na(t,this.onlineState)&&(this.Ba(t),r=!0),this.xa=t,r}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let r=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),r=!0),r}Na(t,r){if(!t.fromCache||!this.Sa())return!0;const a=r!=="Offline";return(!this.options.La||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const r=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ba(t){t=fs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==$f.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I0{constructor(t){this.key=t}}class D0{constructor(t){this.key=t}}class QS{constructor(t,r){this.query=t,this.Ga=r,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ie(),this.mutatedKeys=Ie(),this.Ha=Wv(t),this.Ja=new ss(this.Ha)}get Ya(){return this.Ga}Za(t,r){const a=r?r.Xa:new Gy,l=r?r.Ja:this.Ja;let f=r?r.mutatedKeys:this.mutatedKeys,d=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,b=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((S,A)=>{const j=l.get(S),Q=rc(this.query,A)?A:null,J=!!j&&this.mutatedKeys.has(j.key),ne=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;j&&Q?j.data.isEqual(Q.data)?J!==ne&&(a.track({type:3,doc:Q}),ee=!0):this.eu(j,Q)||(a.track({type:2,doc:Q}),ee=!0,(v&&this.Ha(Q,v)>0||b&&this.Ha(Q,b)<0)&&(y=!0)):!j&&Q?(a.track({type:0,doc:Q}),ee=!0):j&&!Q&&(a.track({type:1,doc:j}),ee=!0,(v||b)&&(y=!0)),ee&&(Q?(d=d.add(Q),f=ne?f.add(S):f.delete(S)):(d=d.delete(S),f=f.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),f=f.delete(S.key),a.track({type:1,doc:S})}return{Ja:d,Xa:a,Cs:y,mutatedKeys:f}}eu(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,l){const f=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const d=t.Xa.ga();d.sort((S,A)=>function(j,Q){const J=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Vt:ne})}};return J(j)-J(Q)}(S.type,A.type)||this.Ha(S.doc,A.doc)),this.tu(a),l=l!=null&&l;const y=r&&!l?this.nu():[],v=this.ja.size===0&&this.current&&!l?1:0,b=v!==this.za;return this.za=v,d.length!==0||b?{snapshot:new fs(this.query,t.Ja,f,d,t.mutatedKeys,v===0,b,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:y}:{ru:y}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Gy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(r=>this.Ga=this.Ga.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ga=this.Ga.delete(r)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Ie(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const r=[];return t.forEach(a=>{this.ja.has(a)||r.push(new D0(a))}),this.ja.forEach(a=>{t.has(a)||r.push(new I0(a))}),r}su(t){this.Ga=t.$s,this.ja=Ie();const r=this.Za(t.documents);return this.applyChanges(r,!0)}ou(){return fs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const yd="SyncEngine";class XS{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class JS{constructor(t){this.key=t,this._u=!1}}class YS{constructor(t,r,a,l,f,d){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new sa(y=>Kv(y),nc),this.cu=new Map,this.lu=new Set,this.hu=new tt(le.comparator),this.Pu=new Map,this.Tu=new sd,this.Iu={},this.Eu=new Map,this.du=hs.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function ZS(s,t,r=!0){const a=L0(s);let l;const f=a.uu.get(t);return f?(a.sharedClientState.addLocalQueryTarget(f.targetId),l=f.view.ou()):l=await N0(a,t,r,!0),l}async function eE(s,t){const r=L0(s);await N0(r,t,!0,!1)}async function N0(s,t,r,a){const l=await yS(s.localStore,Xn(t)),f=l.targetId,d=s.sharedClientState.addLocalQueryTarget(f,r);let y;return a&&(y=await tE(s,t,f,d==="current",l.resumeToken)),s.isPrimaryClient&&r&&S0(s.remoteStore,l),y}async function tE(s,t,r,a,l){s.Ru=(A,j,Q)=>async function(J,ne,ee,we){let be=ne.view.Za(ee);be.Cs&&(be=await Vy(J.localStore,ne.query,!1).then(({documents:ze})=>ne.view.Za(ze,be)));const ke=we&&we.targetChanges.get(ne.targetId),Fe=we&&we.targetMismatches.get(ne.targetId)!=null,ye=ne.view.applyChanges(be,J.isPrimaryClient,ke,Fe);return Xy(J,ne.targetId,ye.ru),ye.snapshot}(s,A,j,Q);const f=await Vy(s.localStore,t,!0),d=new QS(t,f.$s),y=d.Za(f.documents),v=Jo.createSynthesizedTargetChangeForCurrentChange(r,a&&s.onlineState!=="Offline",l),b=d.applyChanges(y,s.isPrimaryClient,v);Xy(s,r,b.ru);const S=new XS(t,r,d);return s.uu.set(t,S),s.cu.has(r)?s.cu.get(r).push(t):s.cu.set(r,[t]),b.snapshot}async function nE(s,t,r){const a=ge(s),l=a.uu.get(t),f=a.cu.get(l.targetId);if(f.length>1)return a.cu.set(l.targetId,f.filter(d=>!nc(d,t))),void a.uu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Vf(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),r&&cd(a.remoteStore,l.targetId),Bf(a,l.targetId)}).catch(gs)):(Bf(a,l.targetId),await Vf(a.localStore,l.targetId,!0))}async function rE(s,t){const r=ge(s),a=r.uu.get(t),l=r.cu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),cd(r.remoteStore,a.targetId))}async function iE(s,t,r){const a=hE(s);try{const l=await function(f,d){const y=ge(f),v=wt.now(),b=d.reduce((j,Q)=>j.add(Q.key),Ie());let S,A;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Q=Dr(),J=Ie();return y.Bs.getEntries(j,b).next(ne=>{Q=ne,Q.forEach((ee,we)=>{we.isValidDocument()||(J=J.add(ee))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,Q)).next(ne=>{S=ne;const ee=[];for(const we of d){const be=y2(we,S.get(we.key).overlayedDocument);be!=null&&ee.push(new oa(we.key,be,Uv(be.value.mapValue),Cr.exists(!0)))}return y.mutationQueue.addMutationBatch(j,v,ee,d)}).next(ne=>{A=ne;const ee=ne.applyToLocalDocumentSet(S,J);return y.documentOverlayCache.saveOverlays(j,ne.batchId,ee)})}).then(()=>({batchId:A.batchId,changes:Xv(S)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(f,d,y){let v=f.Iu[f.currentUser.toKey()];v||(v=new tt(Ee)),v=v.insert(d,y),f.Iu[f.currentUser.toKey()]=v}(a,l.batchId,r),await Zo(a,l.changes),await uc(a.remoteStore)}catch(l){const f=md(l,"Failed to persist write");r.reject(f)}}async function x0(s,t){const r=ge(s);try{const a=await pS(r.localStore,t);t.targetChanges.forEach((l,f)=>{const d=r.Pu.get(f);d&&(Ve(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d._u=!0:l.modifiedDocuments.size>0?Ve(d._u,14607):l.removedDocuments.size>0&&(Ve(d._u,42227),d._u=!1))}),await Zo(r,a,t)}catch(a){await gs(a)}}function Qy(s,t,r){const a=ge(s);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.uu.forEach((f,d)=>{const y=d.view.Da(t);y.snapshot&&l.push(y.snapshot)}),function(f,d){const y=ge(f);y.onlineState=d;let v=!1;y.queries.forEach((b,S)=>{for(const A of S.ya)A.Da(d)&&(v=!0)}),v&&gd(y)}(a.eventManager,t),l.length&&a.au.j_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function aE(s,t,r){const a=ge(s);a.sharedClientState.updateQueryState(t,"rejected",r);const l=a.Pu.get(t),f=l&&l.key;if(f){let d=new tt(le.comparator);d=d.insert(f,qt.newNoDocument(f,me.min()));const y=Ie().add(f),v=new sc(me.min(),new Map,new tt(Ee),d,y);await x0(a,v),a.hu=a.hu.remove(f),a.Pu.delete(t),vd(a)}else await Vf(a.localStore,t,!1).then(()=>Bf(a,t,r)).catch(gs)}async function sE(s,t){const r=ge(s),a=t.batch.batchId;try{const l=await dS(r.localStore,t);R0(r,a,null),P0(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await Zo(r,l)}catch(l){await gs(l)}}async function oE(s,t,r){const a=ge(s);try{const l=await function(f,d){const y=ge(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return y.mutationQueue.lookupMutationBatch(v,d).next(S=>(Ve(S!==null,37113),b=S.keys(),y.mutationQueue.removeMutationBatch(v,S))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,b,d)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>y.localDocuments.getDocuments(v,b))})}(a.localStore,t);R0(a,t,r),P0(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await Zo(a,l)}catch(l){await gs(l)}}function P0(s,t){(s.Eu.get(t)||[]).forEach(r=>{r.resolve()}),s.Eu.delete(t)}function R0(s,t,r){const a=ge(s);let l=a.Iu[a.currentUser.toKey()];if(l){const f=l.get(t);f&&(r?f.reject(r):f.resolve(),l=l.remove(t)),a.Iu[a.currentUser.toKey()]=l}}function Bf(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.cu.get(t))s.uu.delete(a),r&&s.au.Vu(a,r);s.cu.delete(t),s.isPrimaryClient&&s.Tu.Hr(t).forEach(a=>{s.Tu.containsKey(a)||M0(s,a)})}function M0(s,t){s.lu.delete(t.path.canonicalString());const r=s.hu.get(t);r!==null&&(cd(s.remoteStore,r),s.hu=s.hu.remove(t),s.Pu.delete(r),vd(s))}function Xy(s,t,r){for(const a of r)a instanceof I0?(s.Tu.addReference(a.key,t),lE(s,a)):a instanceof D0?(re(yd,"Document no longer in limbo: "+a.key),s.Tu.removeReference(a.key,t),s.Tu.containsKey(a.key)||M0(s,a.key)):fe(19791,{mu:a})}function lE(s,t){const r=t.key,a=r.path.canonicalString();s.hu.get(r)||s.lu.has(a)||(re(yd,"New document in limbo: "+r),s.lu.add(a),vd(s))}function vd(s){for(;s.lu.size>0&&s.hu.size<s.maxConcurrentLimboResolutions;){const t=s.lu.values().next().value;s.lu.delete(t);const r=new le(Je.fromString(t)),a=s.du.next();s.Pu.set(a,new JS(r)),s.hu=s.hu.insert(r,a),S0(s.remoteStore,new ai(Xn(td(r.path)),a,"TargetPurposeLimboResolution",Zu.le))}}async function Zo(s,t,r){const a=ge(s),l=[],f=[],d=[];a.uu.isEmpty()||(a.uu.forEach((y,v)=>{d.push(a.Ru(v,t,r).then(b=>{var S;if((b||r)&&a.isPrimaryClient){const A=b?!b.fromCache:(S=r==null?void 0:r.targetChanges.get(v.targetId))===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(b){l.push(b);const A=ld.Rs(v.targetId,b);f.push(A)}}))}),await Promise.all(d),a.au.j_(l),await async function(y,v){const b=ge(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>G.forEach(v,A=>G.forEach(A.ds,j=>b.persistence.referenceDelegate.addReference(S,A.targetId,j)).next(()=>G.forEach(A.As,j=>b.persistence.referenceDelegate.removeReference(S,A.targetId,j)))))}catch(S){if(!ys(S))throw S;re(ud,"Failed to update sequence numbers: "+S)}for(const S of v){const A=S.targetId;if(!S.fromCache){const j=b.xs.get(A),Q=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion(Q);b.xs=b.xs.insert(A,J)}}}(a.localStore,f))}async function uE(s,t){const r=ge(s);if(!r.currentUser.isEqual(t)){re(yd,"User change. New user:",t.toKey());const a=await v0(r.localStore,t);r.currentUser=t,function(l,f){l.Eu.forEach(d=>{d.forEach(y=>{y.reject(new ae(K.CANCELLED,f))})}),l.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zo(r,a.ks)}}function cE(s,t){const r=ge(s),a=r.Pu.get(t);if(a&&a._u)return Ie().add(a.key);{let l=Ie();const f=r.cu.get(t);if(!f)return l;for(const d of f){const y=r.uu.get(d);l=l.unionWith(y.view.Ya)}return l}}function L0(s){const t=ge(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=x0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aE.bind(null,t),t.au.j_=GS.bind(null,t.eventManager),t.au.Vu=KS.bind(null,t.eventManager),t}function hE(s){const t=ge(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oE.bind(null,t),t}class Xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=oc(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,r){return null}bu(t,r){return null}wu(t){return fS(this.persistence,new uS,t.initialUser,this.serializer)}yu(t){return new y0(od.fi,this.serializer)}pu(t){return new bS}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xu.provider={build:()=>new Xu};class fE extends Xu{constructor(t){super(),this.cacheSizeBytes=t}Su(t,r){Ve(this.persistence.referenceDelegate instanceof Wu,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new W2(a,t.asyncQueue,r)}yu(t){const r=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new y0(a=>Wu.fi(a,r),this.serializer)}}class Hf{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Qy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uE.bind(null,this.syncEngine),await jS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new BS}()}createDatastore(t){const r=oc(t.databaseInfo.databaseId),a=function(l){return new _S(l)}(t.databaseInfo);return function(l,f,d,y){return new IS(l,f,d,y)}(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return function(r,a,l,f,d){return new NS(r,a,l,f,d)}(this.localStore,this.datastore,t.asyncQueue,r=>Qy(this.syncEngine,r,0),function(){return By.C()?new By:new wS}())}createSyncEngine(t,r){return function(a,l,f,d,y,v,b){const S=new YS(a,l,f,d,y,v);return b&&(S.Au=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const l=ge(a);re(ia,"RemoteStore shutting down."),l.Ta.add(5),await Yo(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Hf.provider={build:()=>new Hf};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):Ir("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mi="FirestoreClient";class pE{constructor(t,r,a,l,f){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=Bt.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(a,async d=>{re(mi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(re(mi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=md(r,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Sf(s,t){s.asyncQueue.verifyOperationInProgress(),re(mi,"Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let a=r.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await v0(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Jy(s,t){s.asyncQueue.verifyOperationInProgress();const r=await mE(s);re(mi,"Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(a=>qy(t.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>qy(t.remoteStore,l)),s._onlineComponents=t}async function mE(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(mi,"Using user provided OfflineComponentProvider");try{await Sf(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;os("Error using user provided cache. Falling back to memory cache: "+r),await Sf(s,new Xu)}}else re(mi,"Using default OfflineComponentProvider"),await Sf(s,new fE(void 0));return s._offlineComponents}async function O0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(mi,"Using user provided OnlineComponentProvider"),await Jy(s,s._uninitializedComponentsProvider._online)):(re(mi,"Using default OnlineComponentProvider"),await Jy(s,new Hf))),s._onlineComponents}function gE(s){return O0(s).then(t=>t.syncEngine)}async function Yy(s){const t=await O0(s),r=t.eventManager;return r.onListen=ZS.bind(null,t.syncEngine),r.onUnlisten=nE.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=eE.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=rE.bind(null,t.syncEngine),r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function F0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zy=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function z0(s,t,r){if(!r)throw new ae(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function yE(s,t,r,a){if(t===!0&&a===!0)throw new ae(K.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function ev(s){if(!le.isDocumentKey(s))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function tv(s){if(le.isDocumentKey(s))throw new ae(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function cc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":fe(12329,{type:typeof s})}function Vo(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=cc(s);throw new ae(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U0="firestore.googleapis.com",nv=!0;class rv{constructor(t){var r,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U0,this.ssl=nv}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:nv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=g0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<G2)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F0((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hc{constructor(t,r,a,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ek;switch(r.type){case"firstParty":return new Ak(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Zy.get(t);r&&(re("ComponentProvider","Removing Datastore"),Zy.delete(t),r.terminate())}(this),Promise.resolve()}}function vE(s,t,r,a={}){var l;s=Vo(s,hc);const f=Kf(t),d=s._getSettings(),y=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${t}:${r}`;f&&(X1(`https://${v}`),ew("Firestore",!0)),d.host!==U0&&d.host!==v&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b=Object.assign(Object.assign({},d),{host:v,ssl:f,emulatorOptions:a});if(!Fu(b,y)&&(s._setSettings(b),a.mockUserToken)){let S,A;if(typeof a.mockUserToken=="string")S=a.mockUserToken,A=Bt.MOCK_USER;else{S=J1(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const j=a.mockUserToken.sub||a.mockUserToken.user_id;if(!j)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Bt(j)}s._authCredentials=new _k(new Av(S,A))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bs{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new bs(this.firestore,t,this._query)}}class cn{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cn(this.firestore,t,this._key)}}class ui extends bs{constructor(t,r,a){super(t,r,td(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cn(this.firestore,null,new le(t))}withConverter(t){return new ui(this.firestore,t,this._path)}}function V0(s,t,...r){if(s=na(s),z0("collection","path",t),s instanceof hc){const a=Je.fromString(t,...r);return tv(a),new ui(s,null,a)}{if(!(s instanceof cn||s instanceof ui))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Je.fromString(t,...r));return tv(a),new ui(s.firestore,null,a)}}function bE(s,t,...r){if(s=na(s),arguments.length===1&&(t=Dv.newId()),z0("doc","path",t),s instanceof hc){const a=Je.fromString(t,...r);return ev(a),new cn(s,null,new le(a))}{if(!(s instanceof cn||s instanceof ui))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Je.fromString(t,...r));return ev(a),new cn(s.firestore,s instanceof ui?s.converter:null,new le(a))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iv="AsyncQueue";class av{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new w0(this,"async_queue_retry"),this.ec=()=>{const a=kf();a&&re(iv,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=t;const r=kf();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const r=kf();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const r=new ta;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!ys(t))throw t;re(iv,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const r=this.tc.then(()=>(this.Yu=!0,t().catch(a=>{throw this.Ju=a,this.Yu=!1,Ir("INTERNAL UNHANDLED ERROR: ",sv(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=r,r}enqueueAfterDelay(t,r,a){this.nc(),this.Xu.indexOf(t)>-1&&(r=0);const l=pd.createAndSchedule(this,t,r,a,f=>this.oc(f));return this.Hu.push(l),l}nc(){this.Ju&&fe(47125,{_c:sv(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const r of this.Hu)if(r.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const r=this.Hu.indexOf(t);this.Hu.splice(r,1)}}function sv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ov(s){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(s,["next","error","complete"])}class Ju extends hc{constructor(t,r,a,l){super(t,r,a,l),this.type="firestore",this._queue=new av,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new av(t),this._firestoreClient=void 0,await t}}}function wE(s,t){const r=typeof s=="object"?s:ck(),a=typeof s=="string"?s:ju,l=ak(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const f=W1("firestore");f&&vE(l,...f)}return l}function j0(s){if(s._terminated)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||kE(s),s._firestoreClient}function kE(s){var t,r,a;const l=s._freezeSettings(),f=function(d,y,v,b){return new $k(d,y,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,F0(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new pE(s._authCredentials,s._appCheckCredentials,s._queue,f,s._componentsProvider&&function(d){const y=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(y),_online:y}}(s._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ds{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ds(zt.fromBase64String(t))}catch(r){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new ds(zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bd{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $0{constructor(t){this._methodName=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wd{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kd{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SE=/^__.*__$/;class EE{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new oa(t,this.data,this.fieldMask,r,this.fieldTransforms):new Xo(t,this.data,r,this.fieldTransforms)}}function B0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{hc:s})}}class Sd{constructor(t,r,a,l,f,d){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,f===void 0&&this.Pc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new Sd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.Tc({path:a,Ec:!1});return l.dc(t),l}Ac(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.Tc({path:a,Ec:!1});return l.Pc(),l}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return Yu(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(B0(this.hc)&&SE.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class _E{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||oc(t)}gc(t,r,a,l=!1){return new Sd({hc:t,methodName:r,fc:a,path:Ft.emptyPath(),Ec:!1,mc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H0(s){const t=s._freezeSettings(),r=oc(s._databaseId);return new _E(s._databaseId,!!t.ignoreUndefinedProperties,r)}function TE(s,t,r,a,l,f={}){const d=s.gc(f.merge||f.mergeFields?2:0,t,r,l);K0("Data must be an object, but it was:",d,a);const y=q0(a,d);let v,b;if(f.merge)v=new xn(d.fieldMask),b=d.fieldTransforms;else if(f.mergeFields){const S=[];for(const A of f.mergeFields){const j=AE(t,A,r);if(!d.contains(j))throw new ae(K.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);DE(S,j)||S.push(j)}v=new xn(S),b=d.fieldTransforms.filter(A=>v.covers(A.field))}else v=null,b=d.fieldTransforms;return new EE(new _n(y),v,b)}function CE(s,t,r,a=!1){return Ed(r,s.gc(a?4:3,t))}function Ed(s,t){if(G0(s=na(s)))return K0("Unsupported field value:",t,s),q0(s,t);if(s instanceof $0)return function(r,a){if(!B0(a.hc))throw a.Vc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(r,a){const l=[];let f=0;for(const d of r){let y=Ed(d,a.Rc(f));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),f++}return{arrayValue:{values:l}}}(s,t)}return function(r,a){if((r=na(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h2(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=wt.fromDate(r);return{timestampValue:Ku(a.serializer,l)}}if(r instanceof wt){const l=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ku(a.serializer,l)}}if(r instanceof wd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ds)return{bytesValue:u0(a.serializer,r._byteString)};if(r instanceof cn){const l=a.databaseId,f=r.firestore._databaseId;if(!f.isEqual(l))throw a.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ad(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof kd)return function(l,f){return{mapValue:{fields:{[Fv]:{stringValue:zv},[$u]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw f.Vc("VectorValues must only contain numeric values.");return nd(f.serializer,d)})}}}}}}(r,a);throw a.Vc(`Unsupported field value: ${cc(r)}`)}(s,t)}function q0(s,t){const r={};return xv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aa(s,(a,l)=>{const f=Ed(l,t.Ic(a));f!=null&&(r[a]=f)}),{mapValue:{fields:r}}}function G0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof wt||s instanceof wd||s instanceof ds||s instanceof cn||s instanceof $0||s instanceof kd)}function K0(s,t,r){if(!G0(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const a=cc(r);throw a==="an object"?t.Vc(s+" a custom object"):t.Vc(s+" "+a)}}function AE(s,t,r){if((t=na(t))instanceof bd)return t._internalPath;if(typeof t=="string")return W0(s,t);throw Yu("Field path arguments must be of type string or ",s,!1,void 0,r)}const IE=new RegExp("[~\\*/\\[\\]]");function W0(s,t,r){if(t.search(IE)>=0)throw Yu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new bd(...t.split("."))._internalPath}catch{throw Yu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function Yu(s,t,r,a,l){const f=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;r&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ae(K.INVALID_ARGUMENT,y+s+v)}function DE(s,t){return s.some(r=>r.isEqual(t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q0{constructor(t,r,a,l,f){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(X0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class NE extends Q0{data(){return super.data()}}function X0(s,t){return typeof t=="string"?W0(s,t):t instanceof bd?t._internalPath:t._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _d{}class PE extends _d{}function RE(s,t,...r){let a=[];t instanceof _d&&a.push(t),a=a.concat(r),function(l){const f=l.filter(y=>y instanceof Cd).length,d=l.filter(y=>y instanceof Td).length;if(f>1||f>0&&d>0)throw new ae(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)s=l._apply(s);return s}class Td extends PE{constructor(t,r,a){super(),this._field=t,this._op=r,this._value=a,this.type="where"}static _create(t,r,a){return new Td(t,r,a)}_apply(t){const r=this._parse(t);return J0(t._query,r),new bs(t.firestore,t.converter,Mf(t._query,r))}_parse(t){const r=H0(t.firestore);return function(a,l,f,d,y,v,b){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ae(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){uv(b,v);const A=[];for(const j of b)A.push(lv(d,a,j));S={arrayValue:{values:A}}}else S=lv(d,a,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||uv(b,v),S=CE(f,l,b,v==="in"||v==="not-in");return pt.create(y,v,S)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}class Cd extends _d{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Cd(t,r)}_parse(t){const r=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return r.length===1?r[0]:Pn.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,l){let f=a;const d=l.getFlattenedFilters();for(const y of d)J0(f,y),f=Mf(f,y)}(t._query,r),new bs(t.firestore,t.converter,Mf(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lv(s,t,r){if(typeof(r=na(r))=="string"){if(r==="")throw new ae(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gv(t)&&r.indexOf("/")!==-1)throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=t.path.child(Je.fromString(r));if(!le.isDocumentKey(a))throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ky(s,new le(a))}if(r instanceof cn)return ky(s,r._key);throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cc(r)}.`)}function uv(s,t){if(!Array.isArray(s)||s.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function J0(s,t){const r=function(a,l){for(const f of a)for(const d of f.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class ME{convertValue(t,r="none"){switch(di(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(fi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw fe(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return aa(t,(l,f)=>{a[l]=this.convertValue(f,r)}),a}convertVectorValue(t){var r,a,l;const f=(l=(a=(r=t.fields)===null||r===void 0?void 0:r[$u].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>ut(d.doubleValue));return new kd(f)}convertGeoPoint(t){return new wd(ut(t.latitude),ut(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=tc(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Ho(t));default:return null}}convertTimestamp(t){const r=hi(t);return new wt(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=Je.fromString(t);Ve(m0(a),9688,{name:t});const l=new qo(a.get(1),a.get(3)),f=new le(a.popFirst(5));return l.isEqual(r)||Ir(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function LE(s,t,r){let a;return a=s?s.toFirestore(t):t,a}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mo{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Y0 extends Q0{constructor(t,r,a,l,f,d){super(t,r,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(X0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Mu extends Y0{data(t={}){return super.data(t)}}class OE{constructor(t,r,a,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new Mo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new Mu(this._firestore,this._userDataWriter,a.key,a,new Mo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(d=>{const y=new Mu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const y=new Mu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,b=-1;return d.type!==0&&(v=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),b=f.indexOf(d.doc.key)),{type:FE(d.type),doc:y,oldIndex:v,newIndex:b}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function FE(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:s})}}class Z0 extends ME{constructor(t){super(),this.firestore=t}convertBytes(t){return new ds(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new cn(this.firestore,null,r)}}function zE(s,t){const r=Vo(s.firestore,Ju),a=bE(s),l=LE(s.converter,t);return VE(r,[TE(H0(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Cr.exists(!1))]).then(()=>a)}function UE(s,...t){var r,a,l;s=na(s);let f={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||ov(t[d])||(f=t[d],d++);const y={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(ov(t[d])){const A=t[d];t[d]=(r=A.next)===null||r===void 0?void 0:r.bind(A),t[d+1]=(a=A.error)===null||a===void 0?void 0:a.bind(A),t[d+2]=(l=A.complete)===null||l===void 0?void 0:l.bind(A)}let v,b,S;if(s instanceof cn)b=Vo(s.firestore,Ju),S=td(s._key.path),v={next:A=>{t[d]&&t[d](jE(b,s,A))},error:t[d+1],complete:t[d+2]};else{const A=Vo(s,bs);b=Vo(A.firestore,Ju),S=A._query;const j=new Z0(b);v={next:Q=>{t[d]&&t[d](new OE(b,j,A,Q))},error:t[d+1],complete:t[d+2]},xE(s._query)}return function(A,j,Q,J){const ne=new dE(J),ee=new WS(j,ne,Q);return A.asyncQueue.enqueueAndForget(async()=>HS(await Yy(A),ee)),()=>{ne.Cu(),A.asyncQueue.enqueueAndForget(async()=>qS(await Yy(A),ee))}}(j0(b),S,y,v)}function VE(s,t){return function(r,a){const l=new ta;return r.asyncQueue.enqueueAndForget(async()=>iE(await gE(r),a,l)),l.promise}(j0(s),t)}function jE(s,t,r){const a=r.docs.get(t._key),l=new Z0(s);return new Y0(s,l,t._key,a,new Mo(r.hasPendingWrites,r.fromCache),t.converter)}(function(s,t=!0){(function(r){ms=r})(uk),Uu(new jo("firestore",(r,{instanceIdentifier:a,options:l})=>{const f=r.getProvider("app").getImmediate(),d=new Ju(new Tk(r.getProvider("auth-internal")),new Ik(f,r.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(y.options.projectId,v)}(f,a),f);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),as(uy,cy,s),as(uy,cy,"esm2017")})();const $E={apiKey:"AIzaSyDmLbboBTXo9EYB98jC2Wl6XsFguDGP6cE",authDomain:"my-test-react-app-firebase.firebaseapp.com",projectId:"my-test-react-app-firebase",storageBucket:"my-test-react-app-firebase.firebasestorage.app",messagingSenderId:void 0,appId:"1:430191490066:web:08bc1009638998b82b94cb"},BE=yv($E),eb=wE(BE),tb="notes",HE=async s=>{try{const t=await zE(V0(eb,tb),s),r={...s,id:t.id};return console.log("Firestore.ID:",t.id),r}catch(t){throw console.error("Firestore:",t),t}},qE=s=>{const t=V0(eb,tb),r=RE(t);return UE(r,a=>{const l=[];a.forEach(f=>{l.push({id:f.id,...f.data()})}),s(l)},a=>{console.error("Error subscribing to notes:",a)})};function GE(){const[s,t]=Lu.useState([]);Lu.useEffect(()=>{const l=qE(f=>{t(f)});return()=>{l()}},[]);const r=async l=>{const f={text:l};try{await HE(f)}catch(d){console.error("Failed to save note:",d)}},a=l=>{console.log(`Attempting to delete note with ID: ${l}`)};return Ht.jsxs("div",{className:"App",children:[" ",Ht.jsx("h1",{children:""}),Ht.jsx(F1,{onAddNote:r})," ",Ht.jsxs("div",{className:"notes-list-container",children:[s.map(l=>Ht.jsx(O1,{note:l,onDelete:a},l.id)),s.length===0&&Ht.jsx("p",{children:""})]})]})}L1.createRoot(document.getElementById("root")).render(Ht.jsx(Lu.StrictMode,{children:Ht.jsx(GE,{})}));
